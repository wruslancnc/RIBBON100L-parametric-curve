// For license information, see `launch-b6e76cb6fa37.js` within the same directory.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2023-06-08T22:15:40Z",turbineBuildDate:"2023-02-22T20:37:26Z",turbineVersion:"27.5.0"},environment:{id:"ENbb62de315cdb45a4989a4683dc79db02",stage:"production"},dataElements:{"Page URL":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"utag_data.wa_page_url"}},consentCategoriesEnabled:{modulePath:"core/src/lib/dataElements/localStorage.js",settings:{name:"_wap_user_consent_str"}},GEO:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"utag_data.wa_geo"}},floodlight_id:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=utag_data.wa_local;switch(!0){case e?.includes("xa-en"):case e?.includes("au-en"):case e?.includes("in-en"):case e?.includes("id-id"):case e?.includes("il-he"):case e?.includes("jp-ja"):case e?.includes("kr-ko"):case e?.includes("tw-zh"):case e?.includes("th-th"):case e?.includes("vn-vi"):return"DC-9088117";case e?.includes("br-pt"):return"DC-9548458";case e?.includes("ca-en"):case e?.includes("xl-es"):case e?.includes("us-en"):return"DC-9075392";case e?.includes("ru-ru"):return"DC-10720668";case e?.includes("cn-zh"):return"DC-9265649";case e?.includes("fr-fr"):case e?.includes("de-de"):case e?.includes("ie-en"):case e?.includes("it-it"):case e?.includes("pl-pl"):case e?.includes("es-es"):case e?.includes("tr-tr"):case e?.includes("uk-en"):return"DC-9064218"}}}},dummyAllConsentProvided:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!0}}},"tealium-profile":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";switch(utag_data.wa_local){case"us-en":case"ca-en":case"ca-fr":e="asmo-na";break;case"br-pt":case"xl-es":case"mx-es":case"co-es":case"cl-es":case"cr-es":e="asmo-lar";break;case"ae-ar":case"ae-en":case"az-az":case"bg-bg":case"cz-cs":case"de-de":case"dz-ar":case"dz-fr":case"eg-ar":case"eg-en":case"es-es":case"eu-en":case"fr-fr":case"ge-ka":case"hu-hu":case"ie-en":case"il-he":case"it-it":case"jo-ar":case"ke-en":case"lb-ar":case"ma-ar":case"ma-fr":case"ng-en":case"nl-nl":case"pl-pl":case"pt-pt":case"pt-pt":case"ro-ro":case"ru-ru":case"sa-ar":case"sa-en":case"se-sv":case"tr-tr":case"ua-uk":case"uk-en":case"xe-en":case"xr-ar":case"xr-en":case"za-en":case"ch-de":e="emea";break;case"ap-en":case"au-en":case"hk-en":case"id-id":case"in-en":case"in-hi":case"kr-ko":case"lk-en":case"my-en":case"nz-en":case"ph-en":case"pk-en":case"sg-en":case"th-th":case"tw-zh":case"vn-vi":case"xa-en":case"jp-ja":e="apj";break;case"cn-zh":e="prc";break;default:e="unassigned"}return e}}}},extensions:{core:{displayName:"Core",hostedLibFilesBaseUrl:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/hostedLibFiles/EPd22815afd48447aa955be6a3a012e3b5/",modules:{"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var a=n("../helpers/getObjectProperty.js");e.exports=function(e){return a(window,e.path)}}},"core/src/lib/dataElements/localStorage.js":{name:"local-storage",displayName:"Local Storage",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window");e.exports=function(e){try{return a.localStorage.getItem(e.name)}catch(e){return null}}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,n){"use strict";var a=n("./helpers/createBubbly")(),o=[];e.exports=function(e,t){var n=e.type;-1===o.indexOf(n)&&(o.push(n),window.addEventListener(n,a.evaluateEvent,!0)),a.addListener(e,(function(e){e.nativeEvent.type===n&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";var a=n("../helpers/stringAndNumberUtils").isString,o=n("../helpers/stringAndNumberUtils").isNumber,r=n("../helpers/stringAndNumberUtils").castToStringIfNumber,i=n("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&a(e)?e.toLowerCase():e},c=function(e){return function(t,n,o){return t=r(t),n=r(n),a(t)&&a(n)&&e(t,n,o)}},l=function(e){return function(t,n){return t=i(t),n=i(n),o(t)&&o(n)&&e(t,n)}},u=function(e){return function(t,n,a){return e(s(t,a),s(n,a))}},d={equals:u((function(e,t){return e==t})),doesNotEqual:function(){return!d.equals.apply(null,arguments)},contains:c(u((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!d.contains.apply(null,arguments)},startsWith:c(u((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!d.startsWith.apply(null,arguments)},endsWith:c(u((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!d.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!d.matchesRegex.apply(null,arguments)},lessThan:l((function(e,t){return e<t})),lessThanOrEqual:l((function(e,t){return e<=t})),greaterThan:l((function(e,t){return e>t})),greaterThanOrEqual:l((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return d[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,a){"use strict";var o,r,i,s,c=n("@adobe/reactor-document"),l=n("@adobe/reactor-promise"),u=n("./helpers/decorateCode"),d=n("./helpers/loadCodeSequentially"),p=n("../../../node_modules/postscribe/dist/postscribe"),m=n("./helpers/unescapeHtmlCode"),g=n("../helpers/findPageScript").getTurbine,f=(r=function(e){p(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return o&&"script"===t&&(e.attrs.nonce=o),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=m(e.attrs[t])})),e.src&&(e.src=m(e.src))),e},error:function(e){a.logger.error(e.msg)}})},i=[],s=function(){if(c.body)for(;i.length;)r(i.shift());else setTimeout(s,20)},function(e){i.push(e),s()}),_=function(){if(c.currentScript)return c.currentScript.async;var e=g();return!e||e.async}();e.exports=function(e,t){var n;o=a.getExtensionSettings().cspNonce;var r={settings:e,event:t},i=r.settings.source;if(i)return r.settings.isExternal?d(i).then((function(e){return e?(n=u(r,e),f(n.code),n.promise):l.resolve()})):(n=u(r,i),_||"loading"!==c.readyState?f(n.code):c.write&&!1===a.propertySettings.ruleComponentSequencingEnabled?c.write(n.code):f(n.code),n.promise)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/variable.js":{name:"variable",displayName:"Variable",script:function(e,t,n){"use strict";var a=n("../helpers/getObjectProperty"),o=n("../helpers/textMatch");e.exports=function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(a(window,e.name),t)}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),a=e,o=0,r=n.length;o<r;o++){if(null==a)return;a=a[n[o]]}return a}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var a=n("./weakMap"),o=n("./matchesProperties"),r=n("./matchesSelector");e.exports=function(){var e=[],t=new a,n={addListener:function(t,n){e.push({settings:t,callback:n})},evaluateEvent:function(n,a){if(e.length&&!t.has(n)){for(var i=n.target,s=!1;i;){for(var c=!1,l=!1,u=0;u<e.length;u++){var d=e[u],p=d.settings.elementSelector,m=d.settings.elementProperties;if((!1!==d.settings.bubbleFireIfChildFired||!s)&&(i===n.target||!1!==d.settings.bubbleFireIfParent)&&(i===n.target||p||m&&Object.keys(m).length)&&(!p||r(i,p))&&(!m||o(i,m))){var g={};a?Object.keys(n).forEach((function(e){g[e]=n[e]})):g.nativeEvent=n,g.element=i,g.target=n.target,!1!==d.callback(g)&&(l=!0,d.settings.bubbleStop&&(c=!0))}}if(c)break;l&&(s=!0),i=i.parentNode}t.set(n,!0)}},__reset:function(){e=[]}};return n}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window").WeakMap;if(void 0===a){var o=Object.defineProperty,r=Date.now()%1e9;(a=function(){this.name="__st"+(1e9*Math.random()>>>0)+r+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:o(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=a}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var a=n("./../../helpers/textMatch"),o=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var n=o(e,t.name),r=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return a(n,r)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,a){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(e){return a.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},a=function(e){return t(e)?String(e):e},o=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:a,castToNumberIfString:o}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var a=n("./decorators/decorateGlobalJavaScriptCode"),o=n("./decorators/decorateNonGlobalJavaScriptCode"),r={javascript:function(e,t){return e.settings.global?a(e,t):o(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return r[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise"),o=n("./getSourceByUrl"),r=a.resolve();e.exports=function(e){var t=new a((function(t){var n=o(e);a.all([n,r]).then((function(e){var n=e[0];t(n)}))}));return r=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,a;n=this,a=function(){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(1));e.exports=o.default},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function r(){}function i(){var e=g.shift();if(e){var t=d.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function a(e){e=n.beforeWrite(e),f.write(e),n.afterWrite(e)}(f=new u.default(e,n)).id=m++,f.name=n.name||f.id,c.streams[f.name]=f;var o=e.ownerDocument,s={close:o.close,open:o.open,write:o.write,writeln:o.writeln};l(o,{close:r,open:r,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t.join("")+"\n")}});var d=f.win.onerror||r;return f.win.onerror=function(e,t,a){n.error({msg:e+" - "+t+": "+a}),d.apply(f.win,[e,t,a])},f.write(t,(function(){l(o,s),f.win.onerror=d,n.done(),f=null,i()})),f}function c(e,t,n){if(d.isFunction(n))n={done:n};else if("clear"===n)return g=[],f=null,void(m=0);n=d.defaults(n,p);var a=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){a.stream?a.stream.abort():a[1]=r}},n.beforeEnqueue(a),g.push(a),f||i(),e.postscribe}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=c;var u=o(n(2)),d=a(n(4)),p={afterAsync:r,afterDequeue:r,afterStreamStart:r,afterWrite:r,autoFix:!0,beforeEnqueue:r,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:r,error:function(e){throw new Error(e.msg)},releaseAsync:!1},m=0,g=[],f=null;l(c,{streams:{},queue:g,WriteStream:u.default})},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=p+t,a=e.getAttribute(n);return u.existy(a)?String(a):a}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=p+t;u.existy(n)&&""!==n?e.setAttribute(a,n):e.removeAttribute(a)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=o(n(3)),u=a(n(4)),d=!1,p="data-ps-",m="ps-style",g="ps-script",f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();u.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,a=void 0,o=[];(t=this.parser.readToken())&&!(n=u.isScript(t))&&!(a=u.isStyle(t));)(t=this.options.beforeWriteToken(t))&&o.push(t);o.length>0&&this._writeStaticTokens(o),n&&this._handleScriptToken(t),a&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,d&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),d&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],a=[],o=[],r=e.length,i=0;i<r;i++){var s=e[i],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var l=t++;a.push(c.replace(/(\/?>)/," "+p+"id="+l+" $1")),s.attrs.id!==g&&s.attrs.id!==m&&o.push("atomicTag"===s.type?"":"<"+s.tagName+" "+p+"proxyof="+l+(s.unary?" />":">"))}}else a.push(c),o.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:a.join(""),proxy:o.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];u.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!i(e,"proxyof")){n&&(this.actuals[i(e,"id")]=e,s(e,"id"));var a=e.parentNode&&i(e.parentNode,"proxyof");a&&this.actuals[a].appendChild(e)}t.unshift.apply(t,u.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,m),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),u.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),a=this._shouldRelease(n),o=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,a?o:function(){t(),o()}));try{this._insertCursor(n,g),n.src&&!a||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return u.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function a(){n(),null!=t&&t(),t=null}function o(e){n(),i(e),null!=t&&t(),t=null}function r(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var i=this.options.error;r(e,"load"),r(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){o({msg:"onload handler failed "+t+" @ "+e.src})}a()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void o({msg:"onerror handler failed "+t+" @ "+e.src})}o({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&a()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e){var t;t=function(){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(1));e.exports=o.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=o(n(2)),s=o(n(3)),c=a(n(6)),l=n(5),u={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.stream=n;var o=!1,s={};for(var l in i)i.hasOwnProperty(l)&&(a.autoFix&&(s[l+"Fix"]=!0),o=o||s[l+"Fix"]);o?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in u)if(u.hasOwnProperty(e)&&u[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var p in t.default=d,d.tokenToString=function(e){return e.toString()},d.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,l.escapeQuotes)(e[n],null));return t},d.supports=i,i)i.hasOwnProperty(p)&&(d.browserHasFlaw=d.browserHasFlaw||!i[p]&&p)},function(e,t){"use strict";t.__esModule=!0;var n=!1,a=!1,o=window.document.createElement("div");try{var r="<P><I></P></I>";o.innerHTML=r,t.tagSoup=n=o.innerHTML!==r}catch(e){t.tagSoup=n=!1}try{o.innerHTML="<P><i><P></P></i></P>",t.selfClose=a=2===o.childNodes.length}catch(e){t.selfClose=a=!1}o=null,t.tagSoup=n,t.selfClose=a},function(e,t,n){"use strict";function a(e){var t=e.indexOf("-->");if(t>=0)return new l.CommentToken(e.substr(4,t-1),t+3)}function o(e){var t=e.indexOf("<");return new l.CharsToken(t>=0?t:e.length)}function r(e){var t,n,a;if(-1!==e.indexOf(">")){var o=e.match(u.startTag);if(o){var r=(t={},n={},a=o[2],o[2].replace(u.attr,(function(e,o){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[o]=arguments[2]||arguments[3]||arguments[4]||u.fillAttr.test(o)&&o||"":t[o]="",a=a.replace(e,"")})),{v:new l.StartTagToken(o[1],o[0].length,t,n,!!o[3],a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===r?"undefined":c(r)))return r.v}}}function i(e){var t=r(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var a=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(a)return new l.AtomicTagToken(t.tagName,a[0].length+t.length,t.attrs,t.booleanAttrs,a[1])}}}function s(e){var t=e.match(u.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=a,t.chars=o,t.startTag=r,t.atomicTag=i,t.endTag=s;var l=n(4),u={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var o=n(5),r=(t.Token=function e(t,n){a(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){a(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){a(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,o,r,i){a(this,e),this.type=t,this.length=o,this.text="",this.tagName=n,this.attrs=r,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var a in e.attrs)if(e.attrs.hasOwnProperty(a)){n+=" "+a;var r=e.attrs[a];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[a]||(n+='="'+(0,o.escapeQuotes)(r)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,o,r,i,s){a(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=o,this.booleanAttrs=r,this.html5Unary=!1,this.unary=i,this.rest=s}return e.prototype.toString=function(){return r.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,o,r,i){a(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=o,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1,this.content=i}return e.prototype.toString=function(){return r.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){a(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function a(e,t){var a=e.stream,o=n(t());return e.stream=a,o}function o(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function r(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function i(e,t,i){function s(){var t=a(e,i);t&&u[t.type]&&u[t.type](t)}var l=r(),u={startTag:function(n){var a=n.tagName;"TR"===a.toUpperCase()&&l.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(a)&&l.containsTagName(a)?l.lastTagNameEq(a)?o(e,l):(e.prepend("</"+n.tagName+">"),s()):n.unary||l.push(n)},endTag:function(n){l.last()?t.tagSoupFix&&!l.lastTagNameEq(n.tagName)?o(e,l):l.pop():t.tagSoupFix&&(i(),s())}};return function(){return s(),n(i())}}t.__esModule=!0,t.default=i;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function a(e){return"function"==typeof e}function o(e,t,n){var a=void 0,o=e&&e.length||0;for(a=0;a<o;a++)t.call(n,e[a],a)}function r(e,t,n){for(var a in e)e.hasOwnProperty(a)&&t.call(n,a,e[a])}function i(e,t){return e=e||{},r(t,(function(t,a){n(e[t])||(e[t]=a)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(a){var t=(n=[],o(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":p(t)))return t.v}var n}function c(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function u(e){return l(e,"script")}function d(e){return l(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=a,t.each=o,t.eachKey=r,t.defaults=i,t.toArray=s,t.last=c,t.isTag=l,t.isScript=u,t.isStyle=d}])},"object"==typeof t&&"object"==typeof e?e.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof t?t.postscribe=a():n.postscribe=a()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return a.innerHTML=e,a.textContent||a.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document"),o=function(e){for(var t=a.querySelectorAll("script"),n=0;n<t.length;n++){var o=t[n];if(e.test(o.src))return o}},r=function(){return o(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:r,byRegexPattern:o}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:a.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise"),o=0;e.exports=function(e,t){var n="_runScript"+ ++o,r=new a((function(t,o){_satellite[n]=function(r){delete _satellite[n],new a((function(t){t(r.call(e.event.element,e.event,e.event.target,a))})).then(t,o)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:r}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,a){"use strict";var o=n("@adobe/reactor-promise"),r=0,i={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=i[e];t&&(delete i[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=i[e];t&&(delete i[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},l=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return l(e)&&(t=a.replaceTokens(t,e.event)),s(t)?(n=new o((function(e,t){i[String(r)]={resolve:e,reject:t}})),t=c(t,r),r+=1):n=o.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-load-script"),o=n("@adobe/reactor-promise"),r=n("../../helpers/findPageScript").byRegexPattern,i={},s={},c=function(e){return s[e]||(s[e]=a(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var a=new RegExp(".*"+e+".*");n=r(a).getAttribute("src")}i[n]=t},e.exports=function(e){return i[e]?o.resolve(i[e]):new o((function(t){c(e).then((function(){t(i[e])}),(function(){t()}))}))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window"),o=n("@adobe/reactor-document"),r=-1!==a.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",l=[c,s,i],u=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};l.forEach((function(e){d[e]=[]}));var p=function(e,t){l.slice(0,g(e)+1).forEach((function(e){f(t,e)}))},m=function(){return"complete"===o.readyState?i:"interactive"===o.readyState?r?null:s:void 0},g=function(e){return l.indexOf(e)},f=function(e,t){d[t].forEach((function(t){_(e,t)})),d[t]=[]},_=function(e,t){var n=t.trigger,a=t.syntheticEventFn;n(a?a(e):null)};a._satellite=a._satellite||{},a._satellite.pageBottom=p.bind(null,c),o.addEventListener("DOMContentLoaded",p.bind(null,s),!0),a.addEventListener("load",p.bind(null,i),!0),a.setTimeout((function(){var e=m();e&&p(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:u.bind(null,o)})},registerWindowLoadedTrigger:function(e){d[i].push({trigger:e,syntheticEventFn:u.bind(null,a)})}}}}}},linkedin:{displayName:"LinkedIn Insight Tag",
hostedLibFilesBaseUrl:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/hostedLibFiles/EP56446adda5514f21aa663f9e3635ddaa/",settings:{insightTagID:"633241"},modules:{"linkedin/src/lib/actions/loadInsightTag.js":{name:"load-insight-tag",displayName:"Load Insight Tag",script:function(e,t,n,a){"use strict";e.exports=function(){var e=a.getExtensionSettings();if(e&&e.insightTagID){window._linkedin_data_partner_id=e.insightTagID;var t=document.getElementsByTagName("script")[0],n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(n,t)}}}}}}},company:{orgId:"AD2A1C8B53308E600A490D4D@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"profile-aem-global",settings:{domains:["intel.com","oneapi.com","inteltechnologyprovider.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PR32757383016a448e968267a5996619d3"},rules:[{id:"RL01bf7b70678544e6af9c0d16ee897c12",name:"70 - ['wapEvent'; 'websdk:ready'] - [Stable] - Data Layer library",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:70}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"websdk:ready"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCf9ab6909564640218571f38b5f51c2de-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60fe08cf788044cd95843207c78fa0b3",name:"50 - ['wapEvent'; 'consent:ready'] - [Stable] - ContentSquare",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return wap_tms.consent.isCategoryEnabled("analytics")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCc3ebb6ec4a2e471da2a0d7d0a743da53-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCfbb3df5f958f44bb9882594106412072-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC8f738e7f4a754186aaf264984e9eb776-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb083cf813eff49b3bae153cb8a592039",name:"01 - [Library Loaded] - [Stable] - Web SDK alloy Library",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'/*\n  Web SDK Script Tag\n  The Web SDK prebuilt standalone version requires a \u201cbase code\u201d added directly to the page. \n  The base code creates a global function named alloy. Use this function to interact with the SDK. \n  In addition to creating a global function, also loads additional code contained within an \n  external file (alloy.js) hosted on a server. \n  By default, this code is loaded asynchronously to allow your webpage to be as performant as possible.\n*/\n\n!function(n,o){o.forEach(function(o){n[o]||((n.__alloyNS=n.__alloyNS||[]).push(o),n[o]=function(){var u=arguments;return new Promise(function(i,l){n[o].q.push([i,l,u])})},n[o].q=[])})}(window,["alloy"]);',language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:'/**\n * Copyright 2019 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n * \n * Version 2.13.1 from: https://github.com/adobe/alloy/releases/tag/v2.13.1\n */\n\n !function(){"use strict";if(document.documentMode&&document.documentMode<11)console.warn("The Adobe Experience Cloud Web SDK does not support IE 10 and below.");else{var e="Chrome",n="Edge",t="EdgeChromium",r="Unknown",o=function(e,n){return-1!==e.indexOf(n)},i=[e,n,t,"IE",r],a=function(e){return o(i,e)},c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,d=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,n){for(var t,r,o=Qo(e),i=1;i<arguments.length;i++){for(var a in t=Object(arguments[i]))u.call(t,a)&&(o[a]=t[a]);if(c){r=c(t);for(var d=0;d<r.length;d++)s.call(t,r[d])&&(o[r[d]]=t[r[d]])}}return o},f=d,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},p=Xo((function(e,n){var t;t=function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}function n(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(r){function o(){}function i(n,t,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(t);/^[\\{\\[]/.test(a)&&(t=a)}catch(e){}t=r.write?r.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\\(\\)]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=n+"="+t+c}}function a(e,t){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var c=i[a].split("="),u=c.slice(1).join("=");t||\'"\'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=n(c[0]);if(u=(r.read||r)(u,s)||n(u),t)try{u=JSON.parse(u)}catch(e){}if(o[s]=u,e===s)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(n,t){i(n,"",e(t,{expires:-1}))},o.defaults={},o.withConverter=t,o}((function(){}))},e.exports=t()})),g={get:p.get,set:p.set,remove:p.remove};g.get,g.set,g.remove;var m=function(e){return null==e},v=function(e){return!m(e)&&!Array.isArray(e)&&"object"===Ko(e)},h=function e(n,t){Object.keys(t).forEach((function(r){v(n[r])&&v(t[r])?e(n[r],t[r]):n[r]=t[r]}))},y=function(e){if(m(e))throw new TypeError(\'deepAssign "target" cannot be null or undefined\');for(var n=Object(e),t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return r.forEach((function(e){return h(n,Object(e))})),n},w=function(e,n){return function(t){var r=n.split(".").reduce((function(e,n){return e[n]=e[n]||{},e[n]}),e);y(r,t)}},b=function(){var e=[];return{add:function(n){e.push(n)},call:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return Promise.all(e.map((function(e){return e.apply(void 0,t)})))}}},C=function(e){var n=e.logger,t=e.cookieJar;return Go(Go({},t),{},{set:function(e,r,o){n.info("Setting cookie",Go({name:e,value:r},o)),t.set(e,r,o)}})},E=function(){for(var e=[],n=0;n<256;n++){for(var t=n,r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e.push(t)}return function(n,t){n=unescape(encodeURIComponent(n)),t||(t=0),t^=-1;for(var r=0;r<n.length;r++){var o=255&(t^n.charCodeAt(r));t=t>>>8^e[o]}return(t^=-1)>>>0}}(),I=function(){var e={};return e.promise=new Promise((function(n,t){e.resolve=n,e.reject=t})),e},D=function(e,n){for(var t=0;t<e.length;t+=1){var r=e[t];if(n(r,t,e))return r}},R=function(e,n){return e.appendChild(n)},S=function(e,n){Object.keys(n).forEach((function(t){if("style"===t&&v(n[t])){var r=n[t];Object.keys(r).forEach((function(n){e.style[n]=r[n]}))}else e[t]=n[t]}))},k=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,i=o.createElement(e);return Object.keys(n).forEach((function(e){i.setAttribute(e,n[e])})),S(i,t),r.forEach((function(e){return R(i,e)})),i},O="BODY",P="IFRAME",q="IMG",x="STYLE",M="SCRIPT",A=function(e){var n=e.src,t=e.currentDocument,r=void 0===t?document:t;return new Promise((function(e,t){k(q,{src:n},{onload:e,onerror:t,onabort:t},[],r)}))},N=function(e){return"function"==typeof e},T=function(e){return Array.isArray(e)&&e.length>0},j=function(e){return Array.isArray(e)?e:null==e?[]:[].slice.call(e)},U=/^\\s*>/,B=function(e,n){if(!U.test(n))return j(e.querySelectorAll(n));var t="alloy-"+Date.now();try{return e.classList.add(t),j(e.querySelectorAll("."+t+" "+n))}finally{e.classList.remove(t)}},F=function(e,n){return e.substr(0,n.length)===n},H=":shadow",_=function(e,n){var t=n.trim();return F(t,">")?window.document.documentMode?t.substring(1).trim():(e instanceof Element||e instanceof HTMLDocument?":scope":":host")+" "+t:t},V=function(e,n){if(!window.document.documentElement.attachShadow)return B(e,n.replace(H,""));var t=function(e){return e.split(H)}(n);if(t.length<2)return B(e,n);for(var r=e,o=0;o<t.length;o+=1){var i=_(r,t[o]),a=B(r,i);if(0===a.length||!a[0]||!a[0].shadowRoot)return a;r=a[0].shadowRoot}},L=function(e){return-1!==e.indexOf(H)},z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return L(e)?V(n,e):B(n,e)},J={childList:!0,subtree:!0},W=function(e){return new Error("Could not find: "+e)},Q=function(e){return new Promise(e)},X=function(e){return N(e.MutationObserver)},$=function(e,n,t,r,o){return Q((function(i,a){var c=new e.MutationObserver((function(){var e=o(t);T(e)&&(c.disconnect(),i(e))}));setTimeout((function(){c.disconnect(),a(W(t))}),r),c.observe(n,J)}))},G=function(e){return"visible"===e.visibilityState},K=function(e,n,t,r){return Q((function(o,i){!function t(){var i=r(n);T(i)?o(i):e.requestAnimationFrame(t)}(),setTimeout((function(){i(W(n))}),t)}))},Y=function(e,n,t){return Q((function(r,o){!function n(){var o=t(e);T(o)?r(o):setTimeout(n,100)}(),setTimeout((function(){o(W(e))}),n)}))},Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,i=n(e);return T(i)?Promise.resolve(i):X(r)?$(r,o,e,t,n):G(o)?K(r,e,t,n):Y(e,t,n)},ee=function(e){var n=e.parentNode;return n?n.removeChild(e):null},ne={name:"Adobe Alloy"},te={style:{display:"none",width:0,height:0}},re=function(e,n){return Array.prototype.concat.apply([],e.map(n))},oe="com.adobe.alloy.",ie=oe+"getTld",ae=function(e){return e.replace("@","_")},ce=function(e,n){return"kndctr_"+ae(e)+"_"+n},ue=function(e){var n=e.orgId,t=ce(n,"identity");return function(){return Boolean(g.get(t))}},se=function(e,n,t){return{getItem:function(r){try{return e[n].getItem(t+r)}catch(e){return null}},setItem:function(r,o){try{return e[n].setItem(t+r,o),!0}catch(e){return!1}},clear:function(){try{return Object.keys(e[n]).forEach((function(r){F(r,t)&&e[n].removeItem(r)})),!0}catch(e){return!1}}}},de=function(e,n){return e.filter((function(e){return o(n,e)}))},fe=function(e){return v(e)&&0===Object.keys(e).length},le=function(e){return"number"==typeof e&&!isNaN(e)},pe=function(e){var n=parseInt(e,10);return le(n)&&e===n},ge=function(e){return"string"==typeof e},me=function(e){return ge(e)&&e.length>0},ve=function(){},he=function(e,n,t){var r=String(e),o=String(t);if(r.length>=n||0===o.length)return r;for(var i=n-r.length;i>o.length;)o+=o;return o.slice(0,i)+r},ye=function(e,n,t,r){n=n||"&",t=t||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\\+/g;e=e.split(n);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var u=0;u<c;++u){var s,d,f,l,p=e[u].replace(i,"%20"),g=p.indexOf(t);g>=0?(s=p.substr(0,g),d=p.substr(g+1)):(s=p,d=""),f=decodeURIComponent(s),l=decodeURIComponent(d),oi(o,f)?Array.isArray(o[f])?o[f].push(l):o[f]=[o[f],l]:o[f]=l}return o},we=function(e){switch(Ko(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},be=function(e,n,t,r){return n=n||"&",t=t||"=",null===e&&(e=void 0),"object"===Ko(e)?Object.keys(e).map((function(r){var o=encodeURIComponent(we(r))+t;return Array.isArray(e[r])?e[r].map((function(e){return o+encodeURIComponent(we(e))})).join(n):o+encodeURIComponent(we(e[r]))})).join(n):r?encodeURIComponent(we(r))+t+encodeURIComponent(we(e)):""},Ce=Xo((function(e,n){n.decode=n.parse=ye,n.encode=n.stringify=be}));Ce.decode,Ce.parse,Ce.encode,Ce.stringify;for(var Ee=function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),Ce.parse(e)},Ie=function(e){return e instanceof Error?e:new Error(e)},De=function(e){var n=e.error,t=e.message;try{n.message=t}catch(e){}},Re=function(e){var n=e.error,t=e.message,r=Ie(n),o=t+"\\nCaused by: "+r.message;return De({error:r,message:o}),r},Se=function(e,n){if(le(e)||ge(e)){var t=Math.round(Number(e));if(!isNaN(t))return t}return n},ke=function(e){var n=e.getFullYear(),t=he(e.getMonth()+1,2,"0"),r=he(e.getDate(),2,"0"),o=he(e.getHours(),2,"0"),i=he(e.getMinutes(),2,"0"),a=he(e.getSeconds(),2,"0"),c=he(e.getMilliseconds(),3,"0"),u=Se(e.getTimezoneOffset(),0);return n+"-"+t+"-"+r+"T"+o+":"+i+":"+a+"."+c+(u>0?"-":"+")+he(Math.floor(Math.abs(u)/60),2,"0")+":"+he(Math.abs(u)%60,2,"0")},Oe=Xo((function(e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var t=new Uint8Array(16);e.exports=function(){return n(t),t}}else{var r=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r}}})),Pe=[],qe=0;qe<256;++qe)Pe[qe]=(qe+256).toString(16).substr(1);var xe=function(e,n){var t=n||0,r=Pe;return[r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]]].join("")},Me=function(e,n,t){var r=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||Oe)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var i=0;i<16;++i)n[r+i]=o[i];return n||xe(o)},Ae=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,r){return n(e(t,r),r)};return f(r,e,t),r},Ne=function(e,n,t){return Ae(e,(function(e,t){return null==e?e:n(e,t)}),t)},Te=function(e,n,t,r){if(!e)throw new Error("\'"+t+"\': Expected "+r+", but got "+JSON.stringify(n)+".")},je=function(e,n){return Te(function(e){return"boolean"==typeof e}(e),e,n,"true or false"),e},Ue=function(e,n){return Te(N(e),e,n,"a function"),e},Be=function(e,n){return function(t,r){return Te(t>=n,t,r,e+" greater than or equal to "+n),t}},Fe=function(e){return function(n,t){return v(n)?Te(!fe(n),n,t,e):Te(n.length>0,n,t,e),n}},He=function(){return function(e,n){Te(function(e){for(var n=Object.create(null),t=0;t<e.length;t+=1){var r=e[t];if(r in n)return!1;n[r]=!0}return!0}(e),e,n,"array values to be unique")}},_e=/^[a-z0-9.-]{1,}$/i,Ve=function(e,n){return Te(_e.test(e),e,n,"a valid domain"),e},Le=function(e,n){return Te(pe(e),e,n,"an integer"),e},ze=function(e,n){return Te(le(e),e,n,"a number"),e},Je=function(e,n){return Te(function(e){try{return null!==new RegExp(e)}catch(e){return!1}}(e),e,n,"a regular expression"),e},We=function(e,n){if(null==e)throw new Error("\'"+n+"\' is a required option");return e},Qe=function(e,n){return Te(ge(e),e,n,"a string"),e},Xe=function(e){return e};Xe.default=function(e){return Ae(this,function(e){return function(n){return null==n?e:n}}(e))},Xe.required=function(){return Ae(this,We)};var $e=function(){return Ne(this,Ve)},Ge=function(e){return Ne(this,Be("an integer",e))},Ke=function(e){return Ne(this,Be("a number",e))},Ye=function(){return Ne(this,Le,{minimum:Ge})},Ze=function(){return Ne(this,Fe("a non-empty string"))},en=function(){return Ne(this,Fe("a non-empty array"))},nn=function(){return Ne(this,Fe("a non-empty object"))},tn=function(){return Ne(this,Je)},rn=function(){return Ne(this,(e=[],function(n,t){return Te(-1===e.indexOf(n),n,t,"a unique value across instances"),e.push(n),n}));var e},on=function(){return Ne(this,He())},an=function(e,n){return Ae(this,function(e,n){return function(t,r){var o=D(e,(function(e){try{return e(t,r),!0}catch(e){return!1}}));return Te(o,t,r,n),t}}(e,n))}.bind(Xe),cn=function(){return Ne(this,Xe)}.bind(Xe),un=function(e){return Ne(this,function(e){return function(n,t){Te(Array.isArray(n),n,t,"an array");var r=[],o=n.map((function(n,o){try{return e(n,t+"["+o+"]")}catch(e){return void r.push(e.message)}}));if(r.length)throw new Error(r.join("\\n"));return o}}(e),{nonEmpty:en,uniqueItems:on})}.bind(Xe),sn=function(){return Ne(this,je)}.bind(Xe),dn=function(){return Ne(this,Ue)}.bind(Xe),fn=function(e){return Ne(this,function(e){return function(n,t){return Te(n===e,n,t,""+e),n}}(e))}.bind(Xe);(function(){return Ne(this,ze,{minimum:Ke,integer:Ye,unique:rn})}).bind(Xe);var ln=function(e){return Ne(this,(n=e,function(e,t){Te(v(e),e,t,"an object");var r=[],o={};if(Object.keys(e).forEach((function(i){var a=e[i],c=t?t+"."+i:i;try{var u=n(a,c);void 0!==u&&(o[i]=u)}catch(e){r.push(e.message)}})),r.length)throw new Error(r.join("\\n"));return o}),{nonEmpty:nn});var n}.bind(Xe),pn=function(e){return Ne(this,function(e){return function(n,t){Te(v(n),n,t,"an object");var r=[],o={};if(Object.keys(e).forEach((function(i){var a=n[i],c=e[i],u=t?t+"."+i:i;try{var s=c(a,u);void 0!==s&&(o[i]=s)}catch(e){r.push(e.message)}})),Object.keys(n).forEach((function(e){Object.prototype.hasOwnProperty.call(o,e)||(o[e]=n[e])})),r.length)throw new Error(r.join("\\n"));return o}}(e),{noUnknownFields:function(){return Ne(this,function(e){return function(n,t){var r=[];if(Object.keys(n).forEach((function(n){if(!e[n]){var o=t?t+"."+n:n;r.push("\'"+o+"\': Unknown field.")}})),r.length)throw new Error(r.join("\\n"));return n}}(e))},nonEmpty:nn})}.bind(Xe),gn=function(){return Ne(this,Qe,{regexp:tn,domain:$e,nonEmpty:Ze,unique:rn})}.bind(Xe),mn=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return an(n.map(fn),"one of these values: ["+JSON.stringify(n)+"]")},vn=ln(un(pn({authenticatedState:mn("ambiguous","authenticated","loggedOut"),id:gn(),namespace:pn({code:gn()}).noUnknownFields(),primary:sn(),xid:gn()}).noUnknownFields()).required()),hn=function(e){var n,t=e.console,r=e.locationSearch,o=e.createLogger,i=e.instanceName,a=e.createNamespacedStorage,c=e.getMonitors,u=Ee(r),s=a("instance."+i+"."),d=s.session.getItem("debug"),f="true"===d,l=null===d,p=function(){return f},g=function(e,n){var t=n.fromConfig;t&&!l||(f=e),t||(s.session.setItem("debug",e.toString()),l=!1)};return void 0!==u.alloy_debug&&g((n=u.alloy_debug,ge(n)&&"true"===n.toLowerCase()),{fromConfig:!1}),{setDebugEnabled:g,logger:o({getDebugEnabled:p,context:{instanceName:i},getMonitors:c,console:t}),createComponentLogger:function(e){return o({getDebugEnabled:p,context:{instanceName:i,componentName:e},getMonitors:c,console:t})}}},yn=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick"],wn=function(e){return yn.reduce((function(n,t){var r;return n[t]=(r=function(e,n){return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return Promise.all(e.getLifecycleCallbacks(n).map((function(e){return new Promise((function(n){n(e.apply(void 0,r))}))})))}}(e,t),function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Promise.resolve().then((function(){return r.apply(void 0,n)}))}),n}),{})},bn=function(e,n){return function(){var t;try{t=e.apply(void 0,arguments)}catch(e){throw Re({error:e,message:n})}return t instanceof Promise&&(t=t.catch((function(e){throw Re({error:e,message:n})}))),t}},Cn=function(){var e={},n={},t={};return{register:function(r,o){var i=o.commands,a=o.lifecycle;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=de(Object.keys(n),Object.keys(t));if(r.length)throw new Error("[ComponentRegistry] Could not register "+e+" because it has existing command(s): "+r.join(","));Object.keys(t).forEach((function(r){var o=t[r];o.commandName=r,o.run=bn(o.run,"["+e+"] An error occurred while executing the "+r+" command."),n[r]=o}))}(r,i),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(n).forEach((function(r){t[r]=t[r]||[],t[r].push(bn(n[r],"["+e+"] An error occurred while executing the "+r+" lifecycle hook."))}))}(r,a),e[r]=o},getCommand:function(e){return n[e]},getCommandNames:function(){return Object.keys(n)},getLifecycleCallbacks:function(e){return t[e]||[]}}},En="in",In="pending",Dn="general",Rn="declinedConsent",Sn="default",kn="initial",On="new",Pn=function(e){var n=new Error(e);return n.code=Rn,n.message=e,n},qn=function(e){var n=e.logger,t=[],r=function(){return Promise.resolve()},o=function(){return Promise.resolve()},i=function(){return Promise.reject(Pn("No consent preferences have been set."))},a=function(){return Promise.reject(Pn("The user declined consent."))},c=function(e){if(e)return Promise.reject(new Error("Consent is pending."));var n=I();return t.push(n),n.promise};return{in:function(e){e===Sn?this.awaitConsent=r:(e===kn?n.info("Loaded user consent preferences. The user previously consented."):e===On&&this.awaitConsent!==o&&n.info("User consented."),function(){for(;t.length;)t.shift().resolve()}(),this.awaitConsent=o)},out:function(e){e===Sn?(n.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=i):(e===kn?n.warn("Loaded user consent preferences. The user previously declined consent."):e===On&&this.awaitConsent!==a&&n.warn("User declined consent."),function(){for(;t.length;)t.shift().reject(Pn("The user declined consent."))}(),this.awaitConsent=a)},pending:function(e){e===Sn&&n.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=c},awaitConsent:function(){return Promise.reject(new Error("Consent has not been initialized."))},withConsent:function(){return this.awaitConsent(!0)}}},xn=function(){var e,n,t={},r=!1,o=!1,i=!0,a=function(e){if(o)throw new Error(e+" cannot be called after event is finalized.")},c={setUserXdm:function(n){a("setUserXdm"),e=n},setUserData:function(e){a("setUserData"),n=e},mergeXdm:function(e){a("mergeXdm"),e&&y(t,{xdm:e})},mergeMeta:function(e){a("mergeMeta"),e&&y(t,{meta:e})},mergeQuery:function(e){a("mergeQuery"),e&&y(t,{query:e})},documentMayUnload:function(){r=!0},finalize:function(r){if(!o&&(e&&c.mergeXdm(e),n&&(t.data=n),o=!0,r)){i=!1;var a={xdm:t.xdm||{},data:t.data||{}},u=r(a);i=!1!==u,t.xdm=a.xdm||{},t.data=a.data||{},fe(t.xdm)&&delete t.xdm,fe(t.data)&&delete t.data}},getDocumentMayUnload:function(){return r},isEmpty:function(){return fe(t)&&(!e||fe(e))&&(!n||fe(n))},shouldSend:function(){return i},getViewName:function(){if(e&&e.web&&e.web.webPageDetails)return e.web.webPageDetails.viewName},toJSON:function(){if(!o)throw new Error("toJSON called before finalize");return t}};return c},Mn="configure",An="setDebug",Nn=function(e){var n=e.command,t=e.options,r=n.commandName,o=n.documentationUri,i=void 0===o?"https://adobe.ly/3sHgQHb":o,a=n.optionsValidator,c=t;if(a)try{c=a(t)}catch(e){throw new Error("Invalid "+r+" command options:\\n\\t - "+e+" For command documentation see: "+i)}return c},Tn=function(e){var n=e.eventManager;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:function(e){return function(e){var n=e.options;return pn({type:gn(),xdm:pn({eventType:gn(),identityMap:vn}),data:pn({}),documentUnloading:sn(),renderDecisions:sn(),decisionScopes:un(gn()).uniqueItems(),datasetId:gn(),mergeId:gn()}).required().noUnknownFields()(n)}({options:e})},run:function(e){var t=e.xdm,r=e.data,o=e.documentUnloading,i=void 0!==o&&o,a=e.type,c=e.mergeId,u=e.renderDecisions,s=void 0!==u&&u,d=e.decisionScopes,f=void 0===d?[]:d,l=e.datasetId,p=n.createEvent();return i&&p.documentMayUnload(),p.setUserXdm(t),p.setUserData(r),a&&p.mergeXdm({eventType:a}),c&&p.mergeXdm({eventMergeId:c}),l&&p.mergeMeta({collect:{datasetId:l}}),n.sendEvent(p,{renderDecisions:s,decisionScopes:f})}},applyResponse:{documentationUri:"",optionsValidator:function(e){return function(e){var n=e.options;return pn({renderDecisions:sn(),responseHeaders:ln(gn().required()),responseBody:pn({handle:un(pn({type:gn().required(),payload:cn().required()})).required()}).required()}).noUnknownFields()(n)}({options:e})},run:function(e){var t=e.renderDecisions,r=void 0!==t&&t,o=e.responseHeaders,i=void 0===o?{}:o,a=e.responseBody,c=void 0===a?{handle:[]}:a,u=n.createEvent();return n.applyResponse(u,{renderDecisions:r,responseHeaders:i,responseBody:c})}}}}};Tn.namespace="DataCollector",Tn.configValidators={};var jn=function(e){var n=function(e){var n=e.eventManager,t=e.lifecycle,r=e.handleError;return function(e){var o=e.target,i=n.createEvent();return i.documentMayUnload(),t.onClick({event:i,clickedElement:o}).then((function(){return i.isEmpty()?Promise.resolve():n.sendEvent(i)})).then(ve).catch((function(e){r(e,"click collection")}))}}({eventManager:e.eventManager,lifecycle:e.lifecycle,handleError:e.handleError});document.addEventListener("click",n,!0)},Un={clickCollectionEnabled:sn().default(!0),downloadLinkQualifier:gn().regexp().default("\\\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$")},Bn=function(e,n,t,r){var o="other";return!function(e,n,t){var r=new RegExp(e);return!!t.download||r.test(n.toLowerCase())}(n.downloadLinkQualifier,t,r)?function(e,n){var t=e.location.hostname.toLowerCase();return!(n.toLowerCase().indexOf(t)>=0)}(e,t)&&(o="exit"):o="download",o},Fn=function(e){var n=e.config,t=e.eventManager,r=e.handleError,o=function(e,n){return function(t,r){if(n.clickCollectionEnabled){var o=function(e){for(var n,t=e;t;){if((n=t).href&&("A"===n.tagName||"AREA"===n.tagName)&&(!n.onclick||!n.protocol||n.protocol.toLowerCase().indexOf("javascript")<0))return t;t=t.parentNode}return null}(r);if(o){var i=function(e,n){var t=e.location,r=n.href?n.href:"",o=n.protocol,i=n.host;if(!function(e){return e&&/^[a-z0-9]+:\\/\\//i.test(e)}(r)){o||(o=t.protocol?t.protocol:""),o=o?o+"//":"",i||(i=t.host?t.host:"");var a="";if("/"!==r.substring(0,1)){var c=t.pathname.lastIndexOf("/");c=c<0?0:c,a=t.pathname.substring(0,c)}r=""+o+i+a+"/"+r}return r}(e,o);if(i){var a=Bn(e,n,i,o);t.documentMayUnload(),t.mergeXdm({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:"Link Click",type:a,URL:i,linkClicks:{value:1}}}})}}}}}(window,n);return{lifecycle:{onComponentsRegistered:function(e){var o=e.lifecycle;jn({config:n,eventManager:t,lifecycle:o,handleError:r})},onClick:function(e){var n=e.event,t=e.clickedElement;o(n,t)}}}};Fn.namespace="ActivityCollector",Fn.configValidators=Un;var Hn,_n,Vn,Ln=function(e,n){return"ID sync "+(n?"succeeded":"failed")+": "+e.spec.url},zn={thirdPartyCookiesEnabled:sn().default(!0),idMigrationEnabled:sn().default(!0)},Jn=function(e){return pn({namespaces:un(fn("ECID")).nonEmpty().uniqueItems()}).noUnknownFields()(e),{namespaces:["ECID"]}},Wn=pn({url:gn().required().nonEmpty()}).required().noUnknownFields(),Qn=function(e){var n=e.logger;return new Promise((function(e,t){if(v(window.adobe)&&v(window.adobe.optIn)){var r=window.adobe.optIn;n.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),r.fetchPermissions((function(){r.isApproved([r.Categories.ECID])?(n.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),e()):t(new Error("Legacy opt-in was declined."))}),!0)}else e()}))},Xn=function(e){var n=e.logger,t=e.orgId,r=e.awaitVisitorOptIn;return function(){var e=function(e){var n=e.Visitor;return N(n)&&N(n.getInstance)&&n}(window);return e?r({logger:n}).then((function(){return n.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((function(r){e.getInstance(t,{}).getMarketingCloudVisitorID((function(e){n.info("Resuming previously delayed request that was waiting for ECID from Visitor."),r(e)}),!0)}))})).catch((function(e){e?n.info(e.message+", retrieving ECID from experience edge"):n.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()}},$n="ECID",Gn=function(e){e.mergeQuery({identity:{fetch:[$n]}})},Kn=(Hn=function(o){var i,a;return(Yo(i={},n,/Edge\\/([0-9\\._]+)/),Yo(i,t,/Edg\\/([0-9\\.]+)/),Yo(i,e,/(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/),Yo(i,"Firefox",/Firefox\\/([0-9\\.]+)(?:\\s|$)/),Yo(i,"IE",/Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/),Yo(i,"Safari",/Version\\/([0-9\\._]+).*Safari/),a=i,function(e){for(var n=Object.keys(a),t=0;t<n.length;t+=1){var o=n[t];if(a[o].test(e))return o}return r})(o.navigator.userAgent)},Vn=new Map,function(){var e=_n?_n.apply(void 0,arguments):arguments.length<=0?void 0:arguments[0];if(Vn.has(e))return Vn.get(e);var n=Hn.apply(void 0,arguments);return Vn.set(e,n),n}),Yn=function(e,n){e.addIdentity($n,{id:n})},Zn=function(e){var n=e.getPayloadsByType("identity:result"),t=D(n,(function(e){return e.namespace&&e.namespace.code===$n}));return t?t.id:void 0},et=function(e){return function(n,t){e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[n]=e.xdm.identityMap[n]||[],e.xdm.identityMap[n].push(t)}},nt=function(e){var n=e.payload,t=e.getAction,r=e.getUseSendBeacon,o=Me(),i=!1,a=!1;return{getId:function(){return o},getPayload:function(){return n},getAction:function(){return t({isIdentityEstablished:a})},getUseSendBeacon:function(){return r({isIdentityEstablished:a})},getUseIdThirdPartyDomain:function(){return i},setUseIdThirdPartyDomain:function(){i=!0},setIsIdentityEstablished:function(){a=!0}}},tt=function(e){var n=function(n){var t=n.isIdentityEstablished;return e.getDocumentMayUnload()&&t};return nt({payload:e,getAction:function(e){var t=e.isIdentityEstablished;return n({isIdentityEstablished:t})?"collect":"interact"},getUseSendBeacon:n})},rt=function(e){var n=e.content,t=e.addIdentity,r=e.hasIdentity;return{mergeMeta:w(n,"meta"),mergeState:w(n,"meta.state"),mergeQuery:w(n,"query"),addIdentity:t,hasIdentity:r,toJSON:function(){return n}}},ot=function(e){return function(n){return void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[n])}},it=function(){var e={},n=rt({content:e,addIdentity:et(e),hasIdentity:ot(e)});return n.addEvent=function(n){e.events=e.events||[],e.events.push(n)},n.getDocumentMayUnload=function(){return(e.events||[]).some((function(e){return e.getDocumentMayUnload()}))},n},at=function(e){return nt({payload:e,getAction:function(){return"identity/acquire"},getUseSendBeacon:function(){return!1}})},ct=function(e){var n={query:{identity:{fetch:e}}};return rt({content:n,addIdentity:et(n),hasIdentity:ot(n)})},ut=/^([^?#]*)(\\??[^#]*)(#?.*)$/,st=function(e){var n=e.config,t=e.logger,r=e.consent,o=e.fireReferrerHideableImage,i=e.sendEdgeNetworkRequest,c=e.apexDomain,u=n.orgId,s=n.thirdPartyCookiesEnabled,d=function(e){var n=e.config,t=e.getEcidFromVisitor,r=e.apexDomain,o=e.isPageSsl,i=e.cookieJar,a=n.idMigrationEnabled,c="AMCV_"+n.orgId,u=function(){var e=null,n=i.get("s_ecid")||i.get(c);if(n){var t=n.match(/(^|\\|)MCMID\\|(\\d+)($|\\|)/);t&&(e=t[2])}return e};return{getEcid:function(){if(a){var e=u();return e?Promise.resolve(e):t()}return Promise.resolve()},setEcid:function(e){if(a&&u()!==e){var n=o?{sameSite:"none",secure:!0}:{};i.set(c,"MCMID|"+e,Go({domain:r,expires:390},n))}}}}({config:n,getEcidFromVisitor:Xn({logger:t,orgId:u,awaitVisitorOptIn:Qn}),apexDomain:c,cookieJar:C({logger:t,cookieJar:g}),isPageSsl:"https:"===window.location.protocol}),l=ue({orgId:u}),p=function(e){var n=e.sendEdgeNetworkRequest,t=e.createIdentityRequestPayload,r=e.createIdentityRequest;return function(e){var o=t(e),i=r(o);return n({request:i})}}({sendEdgeNetworkRequest:i,createIdentityRequestPayload:ct,createIdentityRequest:at}),m=function(e){var n=e.thirdPartyCookiesEnabled,t=e.areThirdPartyCookiesSupportedByDefault;return function(e){n&&t(Kn(window))&&e.setUseIdThirdPartyDomain()}}({thirdPartyCookiesEnabled:s,areThirdPartyCookiesSupportedByDefault:a}),v=function(e){var n=e.getLegacyEcid,t=e.addEcidToPayload;return function(e){return e.hasIdentity($n)?Promise.resolve():n().then((function(n){n&&t(e,n)}))}}({getLegacyEcid:d.getEcid,addEcidToPayload:Yn}),h=function(e){var n=e.locationSearch,t=e.dateProvider,r=e.orgId,o=e.logger;return function(e){if(!e.hasIdentity($n)){var i=Ee(n).adobe_mc;if(void 0!==i){var a=i.split("|").reduce((function(e,n){var t=ei(n.split("="),2),r=t[0],o=t[1];return e[r]=o,e}),{}),c=parseInt(a.TS,10),u=a.MCMID,s=decodeURIComponent(a.MCORGID);t().getTime()/1e3<=c+300&&s===r&&u?(o.info("Found valid ECID identity "+u+" from the adobe_mc query string parameter."),e.addIdentity($n,{id:u})):o.info("Detected invalid or expired adobe_mc query string parameter.")}}}}({locationSearch:window.document.location.search,dateProvider:function(){return new Date},orgId:u,logger:t}),y=function(e){var n=e.doesIdentityCookieExist,t=e.orgId;return function(e){var r=e.onResponse,o=e.onRequestFailure;return new Promise((function(e,i){r((function(){if(!n()){var r=new Error("An identity was not set properly. Please verify that the org ID "+t+" configured in Alloy matches the org ID specified in the edge configuration.");throw i(r),r}e()})),o((function(){n()?e():i(new Error("No identity was set on response."))}))}))}}({doesIdentityCookieExist:l,orgId:u}),w=function(e){var n,t=e.doesIdentityCookieExist,r=e.setDomainForInitialIdentityPayload,o=e.addLegacyEcidToPayload,i=e.awaitIdentityCookie,a=e.logger,c=function(e){return r(e),o(e.getPayload())};return function(e){var r=e.request,o=e.onResponse,u=e.onRequestFailure;if(t())return r.setIsIdentityEstablished(),Promise.resolve();if(n){a.info("Delaying request while retrieving ECID from server.");var s=n;return n=s.catch((function(){return i({onResponse:o,onRequestFailure:u})})),s.then((function(){a.info("Resuming previously delayed request."),r.setIsIdentityEstablished()})).catch((function(){return c(r)}))}return n=i({onResponse:o,onRequestFailure:u}),c(r)}}({doesIdentityCookieExist:l,setDomainForInitialIdentityPayload:m,addLegacyEcidToPayload:v,awaitIdentityCookie:y,logger:t}),b=function(e){var n=e.fireReferrerHideableImage,t=e.logger;return function(e){var r=e.filter((function(e){return"url"===e.type}));return r.length?Promise.all(r.map((function(e){return n(e.spec).then((function(){t.info(Ln(e,!0))})).catch((function(){t.error(Ln(e,!1))}))}))).then(ve):Promise.resolve()}}({fireReferrerHideableImage:o,logger:t}),E=function(e){var n=e.processIdSyncs;return function(e){return n(e.getPayloadsByType("identity:exchange"))}}({processIdSyncs:b}),I=function(e){var n=e.dateProvider,t=e.orgId;return function(e,r){var o=Math.round(n().getTime()/1e3),i=encodeURIComponent("TS="+o+"|MCMID="+e+"|MCORGID="+encodeURIComponent(t)),a=ei(r.match(ut),4),c=a[1],u=a[2],s=a[3],d=function(e){return""===e?"?":"?"===e?"":"&"}(u);return""+c+u+d+"adobe_mc="+i+s}}({dateProvider:function(){return new Date},orgId:u});return function(e){var n,t=e.addEcidQueryToPayload,r=e.addQueryStringIdentityToPayload,o=e.ensureSingleIdentity,i=e.setLegacyEcid,a=e.handleResponseForIdSyncs,c=e.getEcidFromResponse,u=e.getIdentity,s=e.consent,d=e.appendIdentityToUrl,l=e.logger,p={};return{lifecycle:{onBeforeRequest:function(e){var n=e.request,i=e.onResponse,a=e.onRequestFailure;return t(n.getPayload()),r(n.getPayload()),o({request:n,onResponse:i,onRequestFailure:a})},onResponse:function(e){var t=e.response;return n||(n=c(t))&&i(n),p=f(p,t.getEdge()),a(t)}},commands:{getIdentity:{optionsValidator:Jn,run:function(e){return s.awaitConsent().then((function(){return n?void 0:u(e.namespaces)})).then((function(){return{identity:{ECID:n},edge:p}}))}},appendIdentityToUrl:{optionsValidator:Wn,run:function(e){return s.withConsent().then((function(){return n?void 0:u(e.namespaces)})).then((function(){return{url:d(n,e.url)}})).catch((function(n){return l.warn("Unable to append identity to url. "+n.message),e}))}}}}}({addEcidQueryToPayload:Gn,addQueryStringIdentityToPayload:h,ensureSingleIdentity:w,setLegacyEcid:d.setEcid,handleResponseForIdSyncs:E,getEcidFromResponse:Zn,getIdentity:p,consent:r,appendIdentityToUrl:I,logger:t})};st.namespace="Identity",st.configValidators=zn;var dt=function(e,n){return"URL destination "+(n?"succeeded":"failed")+": "+e.spec.url},ft=function(e){var n=e.fireReferrerHideableImage,t=e.logger,r=e.cookieJar,o=e.isPageSsl?{sameSite:"none",secure:!0}:{};return function(e){return function(e){e.filter((function(e){return"cookie"===e.type})).forEach((function(e){var n=e.spec,t=n.name,i=n.value,a=n.domain,c=n.ttlDays;r.set(t,i||"",Go({domain:a||"",expires:c||10},o))}))}(e),function(e){var r=e.filter((function(e){return"url"===e.type}));return Promise.all(r.map((function(e){return n(e.spec).then((function(){t.info(dt(e,!0))})).catch((function(){t.error(dt(e,!1))}))}))).then(ve)}(e)}},lt=function(e){var n=e.processDestinations;return function(e){var t,r,o=e.response;return(t={response:o},r=t.response.getPayloadsByType("activation:push"),n(r)).then((function(){return{destinations:{response:o}.response.getPayloadsByType("activation:pull")}}))}},pt=function(e){var n=e.logger,t=e.fireReferrerHideableImage,r=C({logger:n,cookieJar:g}),o=ft({fireReferrerHideableImage:t,logger:n,cookieJar:r,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:lt({processDestinations:o})},commands:{}}};pt.namespace="Audiences",pt.configValidators={};var gt,mt="__view__",vt="https://ns.adobe.com/personalization/default-content-item",ht="https://ns.adobe.com/personalization/dom-action",yt="https://ns.adobe.com/personalization/html-content-item",wt="https://ns.adobe.com/personalization/redirect-item",bt={propositions:[]},Ct=function(e){var n=e.logger,t=e.fetchDataHandler,r=e.viewChangeHandler,i=e.onClickHandler,a=e.isAuthoringModeEnabled,c=e.mergeQuery,u=e.viewCache,s=e.showContainers,d=e.applyPropositions,f=e.setTargetMigration;return{lifecycle:{onBeforeRequest:function(e){var n=e.request;return f(n),Promise.resolve()},onBeforeEvent:function(e){var i=e.event,d=e.renderDecisions,f=e.decisionScopes,l=void 0===f?[]:f,p=e.onResponse,g=void 0===p?ve:p,m=e.onRequestFailure,v=void 0===m?ve:m;if(g((function(){return{propositions:[]}})),v((function(){return s()})),a())return n.warn("Rendering is disabled for authoring mode."),void c(i,{enabled:!1});var h=function(e){var n=e.renderDecisions,t=e.decisionScopes,r=e.event,i=e.viewCache,a=r.getViewName();return{isRenderDecisions:function(){return n},getViewName:function(){return a},hasScopes:function(){return t.length>0},hasViewName:function(){return me(a)},createQueryDetails:function(){var e=ni(t);this.isCacheInitialized()||o(e,mt)||e.push(mt);var n=[vt,yt,"https://ns.adobe.com/personalization/json-content-item",wt];return o(e,mt)&&n.push(ht),{schemas:n,decisionScopes:e}},isCacheInitialized:function(){return i.isInitialized()},shouldFetchData:function(){return this.hasScopes()||!this.isCacheInitialized()},shouldUseCachedData:function(){return this.hasViewName()&&this.isCacheInitialized()}}}({renderDecisions:d,decisionScopes:l,event:i,viewCache:u});if(h.shouldFetchData()){var y=I();return u.storeViews(y.promise),v((function(){return y.reject()})),void t({decisionsDeferred:y,personalizationDetails:h,event:i,onResponse:g})}return h.shouldUseCachedData()?r({personalizationDetails:h,event:i,onResponse:g,onRequestFailure:v}):void 0},onClick:function(e){var n=e.event,t=e.clickedElement;i({event:n,clickedElement:t})}},commands:{applyPropositions:{optionsValidator:function(e){return function(e){var n=e.logger,t=e.options,r=pn({propositions:un(pn(cn())).nonEmpty(),metadata:pn(cn())}).required();try{return r(t)}catch(e){return n.warn("Invalid options for applyPropositions. No propositions will be applied.",e),bt}}({logger:n,options:e})},run:d}}}},Et=function(e){return k("DIV",{},{innerHTML:e})},It=Xo((function(e,n){var t;t=l,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var n=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var n,t=String(e),r=t.length,o=-1,i="",a=t.charCodeAt(0);++o<r;)0!=(n=t.charCodeAt(o))?i+=n>=1&&n<=31||127==n||0==o&&n>=48&&n<=57||1==o&&n>=48&&n<=57&&45==a?"\\\\"+n.toString(16)+" ":0==o&&1==r&&45==n||!(n>=128||45==n||95==n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)?"\\\\"+t.charAt(o):t.charAt(o):i+="\ufffd";return i};return e.CSS||(e.CSS={}),e.CSS.escape=n,n}(t)})),Dt=/:eq\\((\\d+)\\)/g,Rt=function(e){return-1===e.indexOf(":eq(")},St=/(#|\\.)(-?\\w+)/g,kt=function(e,n,t){return""+n+It(t)},Ot=function(e){for(var n=[],t=function(e){return e.split(Dt).filter(me)}(function(e){return e.replace(St,kt)}(e.trim())),r=t.length,o=0;o<r;){var i=t[o],a=t[o+1];a?n.push({sel:i,eq:Number(a)}):n.push({sel:i}),o+=2}return n},Pt=function(e){var n=document;if(Rt(e))return z(e,n);for(var t=Ot(e),r=t.length,o=[],i=n,a=0;a<r;){var c=t[a],u=c.sel,s=c.eq,d=z(u,i),f=d.length;if(0===f)break;if(null!=s&&s>f-1)break;if(a<r-1)if(null==s)i=ei(d,1)[0];else i=d[s];a===r-1&&(o=null==s?d:[d[s]]),a+=1}return o},qt=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n.getElementById(e)},xt=function(e,n,t){e.setAttribute(n,t)},Mt=function(e,n){return e.getAttribute(n)},At=function(e){return e.parentNode},Nt=function(e,n){if(e){var t=At(e);t&&t.insertBefore(n,function(e){return e.nextElementSibling}(e))}},Tt=function(e,n){if(e){var t=At(e);t&&t.insertBefore(n,e)}},jt=function(e){var n=e.childNodes;return n?j(n):[]},Ut=function(e){return e.firstElementChild},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(void 0===gt){var n=e.querySelector("[nonce]");gt=n&&(n.nonce||n.getAttribute("nonce"))}return gt},Ft="alloy-prehiding",Ht={},_t=function(e){var n=Ht[e];n&&(ee(n),delete Ht[e])},Vt=function(e){if(e&&!qt(Ft)){var n=Bt(),t=Go({id:Ft},n&&{nonce:n}),r=k(x,t,{textContent:e});R(document.head,r)}},Lt=function(){var e=qt(Ft);e&&ee(e)},zt=function(e,n){e.textContent=n},Jt="src",Wt=function(e){return k(q,{src:e})},Qt=function(e){z(q,e).forEach((function(e){var n=Mt(e,Jt);n&&Wt(n)}))},Xt=function(e){return function(e,n){return e.tagName===n}(e,x)&&!Mt(e,Jt)},$t=function(e){var n=z(x,e),t=n.length,r=Bt();if(r)for(var o=0;o<t;o+=1){var i=n[o];Xt(i)&&(i.nonce=r)}},Gt=setTimeout;ci.prototype.catch=function(e){return this.then(null,e)},ci.prototype.then=function(e,n){var t=new this.constructor(ai);return ui(this,new li(e,n,t)),t},ci.prototype.finally=function(e){var n=this.constructor;return this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){return n.reject(t)}))}))},ci.all=function(e){return new ci((function(n,t){if(!ii(e))return t(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);var o=r.length;function i(e,a){try{if(a&&("object"===Ko(a)||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,(function(n){i(e,n)}),t)}r[e]=a,0==--o&&n(r)}catch(e){t(e)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},ci.resolve=function(e){return e&&"object"===Ko(e)&&e.constructor===ci?e:new ci((function(n){n(e)}))},ci.reject=function(e){return new ci((function(n,t){t(e)}))},ci.race=function(e){return new ci((function(n,t){if(!ii(e))return t(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)ci.resolve(e[r]).then(n,t)}))},ci._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Gt(e,0)},ci._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Kt,Yt=(Kt=Object.freeze({__proto__:null,default:ci}))&&Kt.default||Kt,Zt="undefined"!=typeof window&&window.Promise||void 0!==l&&l.Promise||Yt.default||Yt,er=function(e){var n=document.createElement("script");n.src=e,n.async=!0;var t=function(e,n){return new Zt((function(t,r){n.onload=function(){t(n)},n.onerror=function(){r(new Error("Failed to load script "+e))}}))}(e,n);return document.getElementsByTagName("head")[0].appendChild(n),t},nr=function(e,n){return!!e&&e.tagName===n},tr=function(e){return nr(e,M)&&!Mt(e,Jt)},rr=function(e){return nr(e,M)&&Mt(e,Jt)},or=function(e){for(var n=z(M,e),t=[],r=n.length,o=Bt(),i=Go({},o&&{nonce:o}),a=0;a<r;a+=1){var c=n[a];if(tr(c)){var u=c.textContent;u&&t.push(k(M,i,{textContent:u}))}}return t},ir=function(e){for(var n=z(M,e),t=[],r=n.length,o=0;o<r;o+=1){var i=n[o];if(rr(i)){var a=Mt(i,Jt);a&&t.push(a)}}return t},ar=function(e,n){n.forEach((function(n){e.appendChild(n),e.removeChild(n)}))},cr=function(e){return Promise.all(e.map(er))},ur=function(e,n){var t=Et(n);$t(t);var r=jt(t),o=or(t),i=ir(t);return Qt(t),r.forEach((function(n){R(e,n)})),ar(e,o),cr(i)},sr=function(e,n){!function(e){jt(e).forEach(ee)}(e),ur(e,n)},dr=function(e,n){var t=Et(n);$t(t);var r=jt(t),o=or(t),i=ir(t),a=r.length-1;for(Qt(t);a>=0;){var c=r[a],u=Ut(e);u?Tt(u,c):R(e,c),a-=1}return ar(e,o),cr(i)},fr=function(e,n){var t=Et(n);$t(t);var r=jt(t),o=or(t),i=ir(t);return Qt(t),r.forEach((function(n){Tt(e,n)})),ar(e,o),cr(i)},lr=function(e,n){fr(e,n),ee(e)},pr=function(e,n){var t=Et(n);$t(t);var r=jt(t),o=or(t),i=ir(t);return Qt(t),r.forEach((function(n){Nt(e,n)})),ar(e,o),cr(i)},gr=["priority"],mr=function(e,n){var t=n.priority,r=Zo(n,gr);Object.keys(r).forEach((function(n){!function(e,n,t,r){var o;o=r?n+":"+t+" !"+r+";":n+":"+t+";",e.style.cssText+=";"+o}(e,n,r[n],t)}))},vr=function(e,n){Object.keys(n).forEach((function(t){xt(e,t,n[t])}))},hr=function(e,n){e.tagName===q&&(Wt(n),function(e,n){e.removeAttribute(n)}(e,Jt),xt(e,Jt,n))},yr=function(e,n){var t=n.from,r=n.to,o=function(e){var n=e.children;return n?j(n):[]}(e),i=o[t],a=o[r];i&&a&&(t<r?Nt(a,i):Tt(a,i))},wr=function(e){return function(n){var t=n.selector,r=n.prehidingSelector,o=n.content,i=n.meta;return function(e){if(!Ht[e]){var n=Bt(),t=Go({},n&&{nonce:n}),r=k(x,t,{textContent:e+" { visibility: hidden }"});R(document.head,r),Ht[e]=r}}(r),Z(t,Pt).then((function(n){return function(e,n,t){var r=e.map((function(e){return t(e,n)}));return Promise.all(r)}(n,o,e)})).then((function(){return _t(r),{meta:i}}),(function(e){return _t(r),{meta:i,error:e}}))}},br=function(e){return{setHtml:wr(sr),customCode:wr(dr),setText:wr(zt),setAttribute:wr(vr),setImageSource:wr(hr),setStyle:wr(mr),move:wr(mr),resize:wr(mr),rearrange:wr(yr),remove:wr(ee),insertAfter:wr(pr),insertBefore:wr(fr),replaceHtml:wr(lr),prependHtml:wr(dr),appendHtml:wr(ur),click:function(n){return function(e,n){return n({selector:e.selector,meta:e.meta}),Promise.resolve()}(n,e)},defaultContent:function(e){return Promise.resolve({meta:e.meta})}}},Cr=function(e){var n,t=f({},e),r=t.content,o=t.selector;if(!ge(n=r)||!n.trim())return t;var i=Pt(o);return nr(i[0],"HEAD")?(t.type="appendHtml",t.content=function(e){var n=Et(e);return z("SCRIPT,LINK,STYLE",n).map((function(e){return e.outerHTML})).join("")}(r),t):t},Er=function(e,n,t){if(e.enabled){var r=JSON.stringify(n),o=t.message,i=t.stack,a="Failed to execute action "+r+". "+o+" "+(i?"\\n "+i:"");e.error(a)}},Ir=function(e,n,t){var r=e.map((function(e){var r=Cr(e),o=r.type;return function(e,n,t,r){var o=n[t];if(!o){var i=new Error(\'DOM action "\'+t+\'" not found\');throw Er(e,r[0],i),i}return o.apply(void 0,ni(r))}(t,n,o,[r]).then((function(e){return function(e,n){if(e.enabled){var t=JSON.stringify(n);e.info("Action "+t+" executed.")}}(t,r),e})).catch((function(e){throw Er(t,r,e),e}))}));return Promise.all(r)},Dr="display",Rr="interact",Sr=function(e){return e},kr=function(e){var n=e.modules,t=e.logger,r=e.executeActions;return function(e){var o=e.map((function(e){var o=function(e){var n={id:e.id,scope:e.scope,scopeDetails:e.scopeDetails};return e.items.map((function(e){return f({type:"defaultContent"},e.data,{meta:n})}))}(e);return r(o,n,t)}));return Promise.all(o).then((function(e){return function(e,n){var t=re(n,Sr),r=[],o=new Set;return t.forEach((function(n){if(n)if(n.error)e.warn(n);else{var t=n.meta;o.has(t.id)||(o.add(t.id),r.push(t))}})),r}(t,e)})).catch((function(e){t.error(e)}))}},Or=function(e,n){if(Rt(e))return function(e,n){return n.matches?n.matches(e):n.msMatchesSelector(e)}(e,n);for(var t=Pt(e),r=!1,o=0;o<t.length;o+=1)if(t[o]===n){r=!0;break}return r},Pr=function(e,n,t){for(var r=document.documentElement,o=e;o&&o!==r;){if(Or(n,o))return t(n);o=o.parentNode}return null},qr=function(e,n,t){for(var r=[],o=0;o<n.length;o+=1){var i=Pr(e,n[o],t);i&&r.push.apply(r,ni(i))}return r},xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return-1!==e.location.href.indexOf("adobe_authoring_enabled")},Mr=function(e,n,t){e.mergeXdm({_experience:{decisioning:{propositions:n,propositionEventType:Yo({},t,1)}}})},Ar=function(e,n){e.mergeQuery({personalization:Go({},n)})},Nr=function(e){var n=e.decisions,t=e.renderAttempted;return n.map((function(e){return f({renderAttempted:t},e)}))},Tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t={propositions:Nr({decisions:e,renderAttempted:n})};return n||(t.decisions=e),t},jr=function(e,n){var t=[],r=[];return e.forEach((function(e){o(n,e.schema)?t.push(e):r.push(e)})),[t,r]},Ur=function(e,n){return{id:e.id,scope:e.scope,items:n,scopeDetails:e.scopeDetails}},Br=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var o=[],i=[];return e.forEach((function(e){var n=e.items,r=ei(jr(void 0===n?[]:n,t),2),a=r[0],c=r[1];T(a)&&o.push(Ur(e,a)),T(c)&&i.push(Ur(e,c))})),{matchedDecisions:o,unmatchedDecisions:i}},Fr=function(e){var n,t,r,i=Br(e,wt),a=(n=i.unmatchedDecisions,t=n.filter((function(e){var n=e.items;return(void 0===n?[]:n).some((function(e){return"https://ns.adobe.com/personalization/measurement"===e.schema}))})),r=n.filter((function(e){return!o(t,e)})),{matchedDecisions:t,unmatchedDecisions:r}),c=Br(a.unmatchedDecisions,ht,vt),u=function(e){var n=[],t=[],r={};return T(e)&&e.forEach((function(e){var o;e.scope===mt?n.push(e):(o=e.scopeDetails).characteristics&&o.characteristics.scopeType&&"view"===o.characteristics.scopeType?function(e,n){e[n.scope]||(e[n.scope]=[]),e[n.scope].push(n)}(r,e):t.push(e)})),{pageWideScopeDecisions:n,nonPageWideScopeDecisions:t,viewScopeDecisions:r}}(c.matchedDecisions),s=u.pageWideScopeDecisions,d=u.nonPageWideScopeDecisions,f=u.viewScopeDecisions;return{redirectDecisions:i.matchedDecisions,pageWideScopeDecisions:s,viewDecisions:f,nonAutoRenderableDecisions:[].concat(ni(a.matchedDecisions),ni(c.unmatchedDecisions),ni(d))}},Hr=function(){var e={};return{storeClickMetrics:function(n){e[n.selector]||(e[n.selector]={}),e[n.selector][n.meta.id]={scope:n.meta.scope,scopeDetails:n.meta.scopeDetails}},getClickSelectors:function(){return Object.keys(e)},getClickMetasBySelector:function(n){return e[n]?function(e){return Object.keys(e).map((function(n){return{id:n,scope:e[n].scope,scopeDetails:e[n].scopeDetails}}))}(e[n]):{}}}},_r=function(e){var n=e.viewCache;return function(e){var t=e.viewName,r=e.redirectDecisions,o=e.pageWideScopeDecisions,i=e.nonAutoRenderableDecisions,a=[].concat(ni(r),ni(o),ni(i));return Promise.resolve(a).then((function(e){return function(e){var n=e.viewCache,t=e.viewName,r=e.propositions;return t?n.getView(t).then((function(e){return[].concat(ni(e),ni(r))})):r}({viewCache:n,viewName:t,propositions:e})})).then((function(e){return function(e){var n=e.propositions;return{decisions:n,propositions:Nr({decisions:n,renderAttempted:!1})}}({propositions:e})}))}},Vr=[ht,yt],Lr=function(e){var n=e.executeDecisions,t=function(e){return Vr.indexOf(e.schema)>-1},r=function(e){return!(e.scope===mt&&e.renderAttempted)},o=function(e){var o=function(e){var n=e.propositions,o=e.metadata;return n.filter(r).map((function(e){var n,r,i;return T(e.items)?{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails,items:(n={items:e.items,metadataForScope:o[e.scope]},r=n.items,i=n.metadataForScope,r.filter(t).map((function(e){return e.schema!==yt?Go({},e):v(i)?Go(Go({},e),{},{data:Go(Go({},e.data),{},{selector:i.selector,type:i.actionType})}):void 0})).filter((function(e){return e})))}:e})).filter((function(e){return T(e.items)}))}({propositions:e.propositions,metadata:e.metadata});return n(o).then((function(){return Tr(o,!0)}))};return function(e){var n=e.propositions,t=e.metadata,r=void 0===t?{}:t;return T(n)?o({propositions:n,metadata:r}):Promise.resolve(bt)}},zr=function(e){var n,t,r=e.config,o=e.logger,i=e.eventManager,a=r.targetMigrationEnabled,c=r.prehidingStyle,u=function(e){var n=e.eventManager,t=e.mergeDecisionsMeta;return function(e){var r=e.decisionsMeta,o=void 0===r?[]:r,i=e.documentMayUnload,a=void 0!==i&&i,c=e.viewName,u=n.createEvent(),s={eventType:"decisioning.propositionDisplay"};return c&&(s.web={webPageDetails:{viewName:c}}),T(o)&&t(u,o,Dr),u.mergeXdm(s),a&&u.documentMayUnload(),n.sendEvent(u)}}({eventManager:i,mergeDecisionsMeta:Mr}),s=Hr(),d=s.getClickMetasBySelector,l=s.getClickSelectors,p=s.storeClickMetrics,g=(t=I(),{storeViews:function(e){e.then((function(e){void 0===n&&(n={}),f(n,e),t.resolve()})).catch((function(){void 0===n&&(n={}),t.resolve()}))},getView:function(e){return t.promise.then((function(){return n[e]||[]}))},isInitialized:function(){return!(void 0===n)}}),m=br(p),v=kr({modules:m,logger:o,executeActions:Ir}),h=function(e){var n=e.collect,t=e.window,r=e.logger,o=e.showContainers;return function(e){var i=function(e){var n=e[0],t=n.items,r=n.id,o=n.scope,i=n.scopeDetails;return{content:t[0].data.content,decisions:[{id:r,scope:o,scopeDetails:i}]}}(e),a=i.content,c=i.decisions;return n({decisionsMeta:c,documentMayUnload:!0}).then((function(){t.location.replace(a)})).catch((function(){o(),r.warn("An error occurred while executing the redirect offer.")}))}}({collect:u,window:window,logger:o,showContainers:Lt}),y=function(e){var n=e.viewCache,t=e.executeDecisions,r=e.showContainers,o=e.collect;return function(e){var i=e.viewName,a=e.pageWideScopeDecisions,c=e.nonAutoRenderableDecisions;return Promise.resolve(a).then((function(e){return function(e){var n=e.viewCache,t=e.viewName,r=e.pageWideScopeDecisions;return t?n.getView(t).then((function(e){return{pageWideScopeDecisions:r,viewPropositions:e}})):{pageWideScopeDecisions:r,viewPropositions:[]}}({viewCache:n,viewName:i,executeDecisions:t,pageWideScopeDecisions:e})})).then((function(e){return t(e.pageWideScopeDecisions).then((function(e){T(e)&&o({decisionsMeta:e})})),i&&t(e.viewPropositions).then((function(e){o({decisionsMeta:e,viewName:i})})),r(),[].concat(ni(e.pageWideScopeDecisions),ni(e.viewPropositions))})).then((function(e){return{decisions:ni(c),propositions:[].concat(ni(Nr({decisions:e,renderAttempted:!0})),ni(Nr({decisions:c,renderAttempted:!1})))}}))}}({viewCache:g,executeDecisions:v,showContainers:Lt,collect:u}),w=Lr({executeDecisions:v}),b=function(e){var n=e.autoRenderingHandler,t=e.nonRenderingHandler,r=e.groupDecisions,o=e.handleRedirectDecisions,i=e.showContainers;return function(e){var a=e.decisionsDeferred,c=e.personalizationDetails,u=e.response.getPayloadsByType("personalization:decisions"),s=c.getViewName();if(0===u.length)return i(),a.resolve({}),{decisions:[],propositions:[]};var d=r(u),f=d.redirectDecisions,l=d.pageWideScopeDecisions,p=d.viewDecisions,g=d.nonAutoRenderableDecisions;return c.isRenderDecisions()&&T(f)?(a.resolve({}),o(f)):(a.resolve(p),c.isRenderDecisions()?n({viewName:s,pageWideScopeDecisions:l,nonAutoRenderableDecisions:g}):t({viewName:s,redirectDecisions:f,pageWideScopeDecisions:l,nonAutoRenderableDecisions:g}))}}({autoRenderingHandler:y,nonRenderingHandler:_r({viewCache:g}),groupDecisions:Fr,handleRedirectDecisions:h,showContainers:Lt}),C=function(e){var n=e.prehidingStyle,t=e.responseHandler,r=e.hideContainers,o=e.mergeQuery;return function(e){var i=e.decisionsDeferred,a=e.personalizationDetails,c=e.event,u=e.onResponse;a.isRenderDecisions()&&r(n),o(c,a.createQueryDetails()),u((function(e){var n=e.response;return t({decisionsDeferred:i,personalizationDetails:a,response:n})}))}}({prehidingStyle:c,responseHandler:b,hideContainers:Vt,mergeQuery:Ar}),E=function(e){var n=e.mergeDecisionsMeta,t=e.collectClicks,r=e.getClickSelectors,o=e.getClickMetasBySelector;return function(e){var i=e.event,a=e.clickedElement,c=r();if(T(c)){var u=t(a,c,o);if(T(u)){var s={eventType:"decisioning.propositionInteract"},d=u[0].scope;d!==mt&&(s.web={webPageDetails:{viewName:d}}),i.mergeXdm(s),n(i,u,Rr)}}}}({mergeDecisionsMeta:Mr,collectClicks:qr,getClickSelectors:l,getClickMetasBySelector:d}),D=function(e){var n=e.mergeDecisionsMeta,t=e.collect,r=e.executeDecisions,o=e.viewCache;return function(e){var i=e.personalizationDetails,a=e.event,c=e.onResponse,u=i.getViewName();return o.getView(u).then((function(e){return i.isRenderDecisions()?r(e).then((function(r){if(T(r))return n(a,r,Dr),void c((function(){return Tr(e,!0)}));c((function(){return t({decisionsMeta:[],viewName:u}),Tr(e,!0)}))})):(c((function(){return Tr(e,!1)})),{})}))}}({mergeDecisionsMeta:Mr,collect:u,executeDecisions:v,viewCache:g}),R=function(e){return e.targetMigrationEnabled?function(e){e.getPayload().mergeMeta({target:{migration:!0}})}:ve}({targetMigrationEnabled:a});return Ct({logger:o,fetchDataHandler:C,viewChangeHandler:D,onClickHandler:E,isAuthoringModeEnabled:xr,mergeQuery:Ar,viewCache:g,showContainers:Lt,applyPropositions:w,setTargetMigration:R})};zr.namespace="Personalization",zr.configValidators={prehidingStyle:gn().nonEmpty(),targetMigrationEnabled:sn().default(!1)};var Jr,Wr="2.13.1",Qr=["architecture","bitness","model","platformVersion","wow64"],Xr=function(e){return function(n){var t={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};y(n,{web:t})}}(window),$r=function(e){return function(n){var t=e.screen,r=t.width,o=t.height,i={},a=Se(o);a>=0&&(i.screenHeight=a);var c=Se(r);c>=0&&(i.screenWidth=c);var u=function(e){var n=e.screen.orientation;if(null==n||null==n.type)return null;var t=n.type.split("-");return 0===t.length||"portrait"!==t[0]&&"landscape"!==t[0]?null:t[0]}(e)||function(e){if(N(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null}(e);u&&(i.screenOrientation=u),Object.keys(i).length>0&&y(n,{device:i})}}(window),Gr=function(e){return function(n){var t=e.document.documentElement,r=(t=void 0===t?{}:t).clientWidth,o=t.clientHeight,i={type:"browser"},a=Se(r);a>=0&&(i.browserDetails={viewportWidth:a});var c=Se(o);c>=0&&(i.browserDetails=i.browserDetails||{},i.browserDetails.viewportHeight=c),y(n,{environment:i})}}(window),Kr=(Jr=function(){return new Date},function(e){var n=Jr(),t={localTime:ke(n)},r=Se(n.getTimezoneOffset());void 0!==r&&(t.localTimezoneOffset=r),y(e,{placeContext:t})}),Yr=function(e){return function(n){var t=e().toISOString();y(n,{timestamp:t})}}((function(){return new Date})),Zr={web:Xr,device:$r,environment:Gr,placeContext:Kr},eo={highEntropyUserAgentHints:function(e){return function(e){return void 0!==e.userAgentData}(e)?function(n,t){try{return e.userAgentData.getHighEntropyValues(Qr).then((function(e){var t={};Qr.forEach((function(n){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})),y(n,{environment:{browserDetails:{userAgentClientHints:t}}})}))}catch(e){return t.warn("Unable to collect user-agent client hints. "+e.message),ve}}:ve}(navigator)},no=Go(Go({},Zr),eo),to=[Yr,function(e){y(e,{implementationDetails:{name:"https://ns.adobe.com/experience/alloy",version:Wr,environment:"browser"}})}],ro=function(e){return function(e,n,t,r){var o=e.context,i=re(o,(function(e,r){return t[e]?[t[e]]:(n.warn("Invalid context["+r+"]: \'"+e+"\' is not available."),[])})).concat(r);return{namespace:"Context",lifecycle:{onBeforeEvent:function(e){var t=e.event,r={};return Promise.all(i.map((function(e){return Promise.resolve(e(r,n))}))).then((function(){return t.mergeXdm(r)}))}}}}(e.config,e.logger,no,to)};ro.namespace="Context",ro.configValidators={context:un(gn()).default(Object.keys(Zr))};var oo=function e(n){return Array.isArray(n)?n.map((function(n){return e(n)})):"object"===Ko(n)&&null!==n?Object.keys(n).sort().reduce((function(t,r){return t[r]=e(n[r]),t}),{}):n},io=function(e){return E(JSON.stringify(oo(e)))},ao=["standard","version"],co=function(e){return e.standard+"."+e.version},uo=function(){var e={},n=rt({content:e,addIdentity:function(n,t){e.identityMap=e.identityMap||{},e.identityMap[n]=e.identityMap[n]||[],e.identityMap[n].push(t)},hasIdentity:function(n){return void 0!==(e.identityMap&&e.identityMap[n])}});return n.setConsent=function(n){e.consent=n},n},so=function(e){return nt({payload:e,getAction:function(){return"privacy/set-consent"},getUseSendBeacon:function(){return!1}})},fo=function(e){return e.split(";").reduce((function(e,n){var t=ei(n.split("="),2),r=t[0],o=t[1];return e[r]=o,e}),{})},lo=pn({consent:un(cn()).required().nonEmpty(),identityMap:vn}).noUnknownFields().required(),po=function(e){var n,t,r=e.config,o=e.consent,i=e.sendEdgeNetworkRequest,a=e.createNamespacedStorage,c=r.orgId,u=r.defaultConsent,s=function(e){var n=e.parseConsentCookie,t=e.orgId,r=e.cookieJar,o=ce(t,"consent");return{read:function(){var e=r.get(o);return e?n(e):{}},clear:function(){r.remove(o)}}}({parseConsentCookie:fo,orgId:c,cookieJar:g}),d=(n=0,t=Promise.resolve(),{addTask:function(e){n+=1;var r=function(){return e().finally((function(){n-=1}))};return t=t.then(r,r)},get length(){return n}}),f=function(e){var n=e.createConsentRequestPayload,t=e.createConsentRequest,r=e.sendEdgeNetworkRequest;return function(e){var o=e.consentOptions,i=e.identityMap,a=n();a.setConsent(o),v(i)&&Object.keys(i).forEach((function(e){i[e].forEach((function(n){a.addIdentity(e,n)}))}));var c=t(a);return r({request:c}).then((function(){}))}}({createConsentRequestPayload:uo,createConsentRequest:so,sendEdgeNetworkRequest:i}),l=function(e){var n=e.storage;return{clear:function(){n.clear()},lookup:function(e){var t={},r=function(e){var n=co(e);e.standard,e.version;var r=Zo(e,ao);return t[n]||(t[n]=io(r).toString()),t[n]};return{isNew:function(){return e.some((function(e){var t=co(e),o=n.getItem(t);return null===o||o!==r(e)}))},save:function(){e.forEach((function(e){var t=co(e);n.setItem(t,r(e))}))}}}}}({storage:a(ae(c)+".consentHashes.").persistent}),p=ue({orgId:c});return function(e){var n=e.storedConsent,t=e.taskQueue,r=e.defaultConsent,o=e.consent,i=e.sendSetConsentRequest,a=e.validateSetConsentOptions,c=e.consentHashStore,u=e.doesIdentityCookieExist,s=Yo({},Dn,r),d=n.read(),f=u(),l=void 0!==d.general;f&&l||c.clear(),f||(n.clear(),d={}),o.initializeConsent(s,d);var p=function(){if(0===t.length){var e=n.read();void 0!==e.general&&o.setConsent(e)}};return{commands:{setConsent:{optionsValidator:a,run:function(e){var n=e.consent,r=e.identityMap;o.suspend();var a=c.lookup(n);return t.addTask((function(){return a.isNew()?i({consentOptions:n,identityMap:r}):Promise.resolve()})).then((function(){return a.save()})).finally(p)}}},lifecycle:{onResponse:p,onRequestFailure:p}}}({storedConsent:s,taskQueue:d,defaultConsent:u,consent:o,sendSetConsentRequest:f,validateSetConsentOptions:lo,consentHashStore:l,doesIdentityCookieExist:p})};po.namespace="Privacy";var go=function(){return{eventMergeId:Me()}},mo=function(){return{commands:{createEventMergeId:{run:{createEventMergeId:go}.createEventMergeId}}}};mo.namespace="EventMerge",mo.configValidators={};var vo=function(e){var n=function(e){var n=e.config,t=e.componentRegistry,r=[].concat(ni(t.getCommandNames()),[Mn,An]).sort(),o=Go({},n);return Object.keys(n).forEach((function(e){var t=n[e];"function"==typeof t&&(o[e]=t.toString())})),{version:Wr,configs:o,commands:r}}({config:e.config,componentRegistry:e.componentRegistry});return{commands:{getLibraryInfo:{run:function(){return{libraryInfo:n}}}}}};vo.namespace="LibraryInfo";var ho=function(e){return{inferences:e.response.getPayloadsByType("rtml:inferences")}},yo=function(){return{lifecycle:{onResponse:ho},commands:{}}};yo.namespace="MachineLearning",yo.configValidators={};var wo,bo,Co=[Tn,Fn,st,pt,zr,ro,po,mo,vo,yo],Eo=function(e){var n=e.options,t=e.componentCreators,r=e.coreConfigValidators,o=e.createConfig,i=e.logger,a=e.setDebugEnabled,c=function(e,n){var t={};return f(t,e),n.forEach((function(e){var n=e.configValidators;f(t,n)})),t}(r,t),u=o(function(e,n){try{return pn(e).noUnknownFields().required()(n)}catch(e){throw new Error("Resolve these configuration problems:\\n\\t - "+e.message.split("\\n").join("\\n\\t - ")+"\\nFor configuration documentation see: https://adobe.ly/3sHh553")}}(c,n));return a(u.debugEnabled,{fromConfig:!0}),i.logOnInstanceConfigured({config:u}),u},Io=function(e){return f({},e)},Do=function(e){var n=e.errorPrefix,t=e.logger;return function(e,r){var o=Ie(e);if(o.code===Rn)return t.warn("The "+r+" could not fully complete. "+o.message),{};throw De({error:o,message:n+" "+o.message}),o}},Ro=function(e){var n=e.getDebugEnabled,t=e.console,r=e.getMonitors,o=e.context,i="["+o.instanceName+"]";o.componentName&&(i+=" ["+o.componentName+"]");var a=function(e,n){var t=r();if(t.length>0){var i=f({},o,n);t.forEach((function(n){n[e]&&n[e](i)}))}},c=function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];a("onBeforeLog",{level:e,arguments:o}),n()&&t[e].apply(t,[i].concat(o))};return{get enabled(){return r().length>0||n()},logOnInstanceCreated:function(e){a("onInstanceCreated",e),c("info","Instance initialized.")},logOnInstanceConfigured:function(e){a("onInstanceConfigured",e),c("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand:function(e){a("onBeforeCommand",e),c("info","Executing "+e.commandName+" command. Options:",e.options)},logOnCommandResolved:function(e){a("onCommandResolved",e),c("info",e.commandName+" command resolved. Result:",e.result)},logOnCommandRejected:function(e){a("onCommandRejected",e),c("error",e.commandName+" command was rejected. Error:",e.error)},logOnBeforeNetworkRequest:function(e){a("onBeforeNetworkRequest",e),c("info","Request "+e.requestId+": Sending request.",e.payload)},logOnNetworkResponse:function(e){a("onNetworkResponse",e);var n=e.parsedBody||e.body?"response body:":"no response body.";c("info","Request "+e.requestId+": Received response with status code "+e.statusCode+" and "+n,e.parsedBody||e.body)},logOnNetworkError:function(e){a("onNetworkError",e),c("error","Request "+e.requestId+": Network request failed.",e.error)},info:c.bind(null,"info"),warn:c.bind(null,"warn"),error:c.bind(null,"error")}},So="Event was canceled because the onBeforeEventSend callback returned false.",ko=function(e){var n=e.orgId,t=e.targetMigrationEnabled;return function(e){return function(e,n){return 0===n.indexOf("kndctr_"+ae(e)+"_")}(n,e)||"at_qa_mode"===e||t&&"mbox"===e}},Oo=function(e){var n=e.shift()||[],t=e.shift()||[],r=e;return f.apply(void 0,[{}].concat(ni(n),ni(t),ni(r)))},Po=function(e){return function(n){var t=function(){throw n};return e.call({error:n}).then(t,t)}},qo="The server responded with a",xo=function(e){var n=e.orgId,t=e.cookieJar,r=ce(n,"cluster");return function(){return t.get(r)||function(){var e=t.get("mboxEdgeCluster");if(e)return"t"+e}()}},Mo=[429,503,502,504],Ao=function(e){var n=e.response;return e.retriesAttempted<3&&o(Mo,n.statusCode)},No=function(e){var n=e.response,t=e.retriesAttempted,r=function(e){var n,t=e.getHeader("Retry-After");if(t){var r=parseInt(t,10);n=pe(r)?1e3*r:Math.max(0,new Date(t).getTime()-(new Date).getTime())}return n}(n);return void 0===r&&(r=function(e){var n=1e3+1e3*e,t=.3*n,r=n-t,o=n+t;return Math.round(r+Math.random()*(o-r))}(t)),r},To=(wo=window,function(e){var n=oe+e;return{session:se(wo,"sessionStorage",n),persistent:se(wo,"localStorage",n)}}),jo=window,Uo=jo.console,Bo=jo.fetch,Fo=jo.navigator,Ho=jo.XMLHttpRequest,_o=function(){return window.__alloyMonitors||[]},Vo={debugEnabled:sn().default(!1),defaultConsent:mn(En,"out",In).default(En),edgeConfigId:gn().unique().required(),edgeDomain:gn().domain().default("edge.adobedc.net"),edgeBasePath:gn().nonEmpty().default("ee"),orgId:gn().unique().required(),onBeforeEventSend:dn().default(ve)},Lo=function(e,n){for(var t,r,o="",i=e.location.hostname.toLowerCase().split("."),a=1;a<i.length&&!n.get(ie);)o=(t=i,r=a+=1,t.slice(-r)).join("."),n.set(ie,ie,{domain:o});return n.remove(ie,{domain:o}),o}(window,g),zo=N(Bo)?function(e){var n=e.fetch;return function(e,t){return n(e,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrer:"client",body:t}).then((function(e){return e.text().then((function(n){return{statusCode:e.status,getHeader:function(n){return e.headers.get(n)},body:n}}))}))}}({fetch:Bo}):function(e){var n=e.XMLHttpRequest;return function(e,t){return new Promise((function(r,o){var i=new n;i.onreadystatechange=function(){4===i.readyState&&(0===i.status?o(new Error("Request aborted.")):r({statusCode:i.status,getHeader:function(e){return i.getResponseHeader(e)},body:i.responseText}))},i.onloadstart=function(){i.responseType="text"},i.open("POST",e,!0),i.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),i.withCredentials=!0,i.onerror=o,i.onabort=o,i.send(t)}))}}({XMLHttpRequest:Ho}),Jo=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.appendNode,r=void 0===t?R:t,o=n.awaitSelector,i=void 0===o?Z:o,a=n.createNode,c=void 0===a?k:a,u=n.fireImage,s=void 0===u?A:u,d=s,f=function(){return i(O).then((function(n){var t=ei(n,1)[0];return e||(e=c(P,ne,te),r(t,e))}))},l=function(e){var n=e.src;return f().then((function(e){var t=e.contentWindow.document;return s({src:n,currentDocument:t})}))};return function(e){var n=e.hideReferrer,t=e.url;return n?l({src:t}):d({src:t})}}(),Wo=function(e){var n=e.instanceName,t=e.logController,r=t.setDebugEnabled,o=t.logger,i=t.createComponentLogger,a=Cn(),c=wn(a),u=C({logger:o,cookieJar:g}),s=Do({errorPrefix:"["+n+"]",logger:o}),d=function(e){var n,t=e.logger,r=e.configureCommand,o=e.setDebugCommand,i=e.handleError,a=e.validateCommandOptions,c=function(e,i){var c;if(e===Mn){if(n)throw new Error("The library has already been configured and may only be configured once.");c=function(){return(n=r(i)).then((function(){}))}}else{if(!n)throw new Error("The library must be configured first. Please do so by executing the configure command.");c=e===An?function(){return o(i)}:function(){return n.then((function(n){var t=n.getCommand(e);if(!t||!N(t.run)){var r=[Mn,An].concat(n.getCommandNames()).join(", ");throw new Error("The "+e+" command does not exist. List of available commands: "+r+".")}var o=a({command:t,options:i});return t.run(o)}),(function(){return t.warn("An error during configuration is preventing the "+e+" command from executing."),new Promise((function(){}))}))}}return c};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){var o=c(e,n);t.logOnBeforeCommand({commandName:e,options:n}),r(o())})).catch((function(n){return i(n,e+" command")})).catch((function(r){throw t.logOnCommandRejected({commandName:e,options:n,error:r}),r})).then((function(r){var o=v(r)?r:{};return t.logOnCommandResolved({commandName:e,options:n,result:o}),o}))}}({logger:o,configureCommand:function(e){var t=Eo({options:e,componentCreators:Co,coreConfigValidators:Vo,createConfig:Io,logger:o,setDebugEnabled:r}),s=t.orgId,d=t.targetMigrationEnabled,f=ko({orgId:s,targetMigrationEnabled:d}),l=function(e){var n=e.cookieJar,t=e.shouldTransferCookie,r=e.apexDomain,o=e.dateProvider;return{cookiesToPayload:function(e,o){var i,a=(i=r,o.substr(-i.length)===i),c={domain:r,cookiesEnabled:!0};if(!a){var u=n.get(),s=Object.keys(u).filter(t).map((function(e){return{key:e,value:u[e]}}));s.length&&(c.entries=s)}e.mergeState(c)},responseToCookies:function(e){e.getPayloadsByType("state:store").forEach((function(e){var t={domain:r},i=e.attrs&&e.attrs.SameSite&&e.attrs.SameSite.toLowerCase();void 0!==e.maxAge&&(t.expires=new Date(o().getTime()+1e3*e.maxAge)),void 0!==i&&(t.sameSite=i),"none"===i&&(t.secure=!0),n.set(e.key,e.value,t)}))}}}({cookieJar:u,shouldTransferCookie:f,apexDomain:Lo,dateProvider:function(){return new Date}}),p=N(Fo.sendBeacon)?function(e){var n=e.sendBeacon,t=e.sendFetchRequest,r=e.logger;return function(e,o){var i=new Blob([o],{type:"text/plain; charset=UTF-8"});return n(e,i)?Promise.resolve({statusCode:204,getHeader:function(){return null},body:""}):(r.info("Unable to use `sendBeacon`; falling back to `fetch`."),t(e,o))}}({sendBeacon:Fo.sendBeacon.bind(Fo),sendFetchRequest:zo,logger:o}):zo,m=function(e){var n=e.logger,t=e.sendFetchRequest,r=e.sendBeaconRequest,o=e.isRequestRetryable,i=e.getRequestRetryDelay;return function(e){var a=e.requestId,c=e.url,u=e.payload,s=e.useSendBeacon,d=JSON.stringify(u),f=JSON.parse(d);return n.logOnBeforeNetworkRequest({url:c,requestId:a,payload:f}),function e(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(s?r:t)(c,d).then((function(t){var r;if(o({response:t,retriesAttempted:u})){var s=i({response:t,retriesAttempted:u});return new Promise((function(n){setTimeout((function(){n(e(u+1))}),s)}))}try{r=JSON.parse(t.body)}catch(e){}return n.logOnNetworkResponse(Go(Go({requestId:a,url:c,payload:f},t),{},{parsedBody:r,retriesAttempted:u})),{statusCode:t.statusCode,body:t.body,parsedBody:r,getHeader:t.getHeader}}))}().catch((function(e){throw n.logOnNetworkError({requestId:a,url:c,payload:f,error:e}),Re({error:e,message:"Network request failed."})}))}}({logger:o,sendFetchRequest:zo,sendBeaconRequest:p,isRequestRetryable:Ao,getRequestRetryDelay:No}),v=function(e){var n=e.logger;return function(e){var t=e.statusCode,r=e.body,o=e.parsedBody;if(t<200||t>=300||!o&&204!==t||o&&!Array.isArray(o.handle)){var i=o?JSON.stringify(o,null,2):r;throw new Error(qo+" status code "+t+" and "+(i?"response body:\\n"+i:"no response body."))}if(o){var a=o.warnings,c=void 0===a?[]:a,u=o.errors,s=void 0===u?[]:u;c.forEach((function(e){n.warn(qo+" warning:",e)})),s.forEach((function(e){n.error(qo+" non-fatal error:",e)}))}}}({logger:o}),h=function(e){var n=e.logger;return function(e){if(e){var t=e.split(";");if(t.length>=2&&t[1].length>0)try{var r=parseInt(t[1],10);if(!isNaN(r))return{regionId:r}}catch(e){}n.warn(\'Invalid adobe edge: "\'+e+\'"\')}return{}}}({logger:o}),y=function(e){var n=e.extractEdgeInfo;return function(e){var t=e.content,r=void 0===t?{}:t,o=e.getHeader,i=r.handle,a=void 0===i?[]:i,c=r.errors,u=void 0===c?[]:c,s=r.warnings,d=void 0===s?[]:s;return{getPayloadsByType:function(e){return re(a.filter((function(n){return n.type===e})),(function(e){return e.payload}))},getErrors:function(){return u},getWarnings:function(){return d},getEdge:function(){return n(o("x-adobe-edge"))},toJSON:function(){return r}}}}({extractEdgeInfo:h}),w=xo({orgId:s,cookieJar:g}),C=function(e){var n=e.config,t=e.lifecycle,r=e.cookieTransfer,o=e.sendNetworkRequest,i=e.createResponse,a=e.processWarningsAndErrors,c=e.getLocationHint,u=n.edgeDomain,s=n.edgeBasePath,d=n.edgeConfigId;return function(e){var n=e.request,f=e.runOnResponseCallbacks,l=void 0===f?ve:f,p=e.runOnRequestFailureCallbacks,g=void 0===p?ve:p,m=b();m.add(t.onResponse),m.add(l);var v=b();return v.add(t.onRequestFailure),v.add(g),t.onBeforeRequest({request:n,onResponse:m.add,onRequestFailure:v.add}).then((function(){var e=n.getUseIdThirdPartyDomain()?"adobedc.demdex.net":u,t=c(),i="https://"+e+"/"+(t?s+"/"+t:s)+"/v1/"+n.getAction()+"?configId="+d+"&requestId="+n.getId();return r.cookiesToPayload(n.getPayload(),e),o({requestId:n.getId(),url:i,payload:n.getPayload(),useSendBeacon:n.getUseSendBeacon()})})).then((function(e){return a(e),e})).catch(Po(v)).then((function(e){var n=e.parsedBody,t=e.getHeader,o=i({content:n,getHeader:t});return r.responseToCookies(o),m.call({response:o}).then(Oo)}))}}({config:t,lifecycle:c,cookieTransfer:l,sendNetworkRequest:m,createResponse:y,processWarningsAndErrors:v,getLocationHint:w}),E=function(e){var n=e.cookieTransfer,t=e.lifecycle,r=e.createResponse,o=e.processWarningsAndErrors;return function(e){var i=e.request,a=e.responseHeaders,c=e.responseBody,u=e.runOnResponseCallbacks,s=void 0===u?ve:u,d=e.runOnRequestFailureCallbacks,f=void 0===d?ve:d,l=b();l.add(t.onResponse),l.add(s);var p=b();p.add(t.onRequestFailure),p.add(f);var g=function(e){return a[e]};return t.onBeforeRequest({request:i,onResponse:l.add,onRequestFailure:p.add}).then((function(){return o({statusCode:200,getHeader:g,body:JSON.stringify(c),parsedBody:c})})).catch(Po(p)).then((function(){var e=r({content:c,getHeader:g});return n.responseToCookies(e),l.call({response:e}).then(Oo)}))}}({lifecycle:c,cookieTransfer:l,createResponse:y,processWarningsAndErrors:v}),I=function(e){var n=e.generalConsentState,t=e.logger,r=function(e,r){switch(e.general){case En:n.in(r);break;case"out":n.out(r);break;case In:n.pending(r);break;default:t.warn("Unknown consent value: "+e.general)}};return{initializeConsent:function(e,n){n.general?r(n,kn):r(e,Sn)},setConsent:function(e){r(e,On)},suspend:function(){n.pending()},awaitConsent:function(){return n.awaitConsent()},withConsent:function(){return n.withConsent()}}}({generalConsentState:qn({logger:o}),logger:o}),D=function(e){var n=e.config,t=e.logger,r=e.lifecycle,o=e.consent,i=e.createEvent,a=e.createDataCollectionRequestPayload,c=e.createDataCollectionRequest,u=e.sendEdgeNetworkRequest,s=e.applyResponse,d=n.onBeforeEventSend;return{createEvent:i,sendEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.renderDecisions,s=void 0!==i&&i,f=n.decisionScopes,l=a(),p=c(l),g=b(),m=b();return r.onBeforeEvent({event:e,renderDecisions:s,decisionScopes:f,onResponse:g.add,onRequestFailure:m.add}).then((function(){return l.addEvent(e),o.awaitConsent()})).then((function(){try{e.finalize(d)}catch(o){var n=function(){throw o};return m.add(r.onRequestFailure),m.call({error:o}).then(n,n)}if(!e.shouldSend()){m.add(r.onRequestFailure),t.info(So);var o=new Error(So);return m.call({error:o}).then((function(){}))}return u({request:p,runOnResponseCallbacks:g.call,runOnRequestFailureCallbacks:m.call})}))},applyResponse:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.renderDecisions,o=void 0!==t&&t,i=n.responseHeaders,u=void 0===i?{}:i,d=n.responseBody,f=void 0===d?{handle:[]}:d,l=a(),p=c(l),g=b();return r.onBeforeEvent({event:e,renderDecisions:o,decisionScopes:[mt],onResponse:g.add,onRequestFailure:ve}).then((function(){return l.addEvent(e),s({request:p,responseHeaders:u,responseBody:f,runOnResponseCallbacks:g.call})}))}}}({config:t,logger:o,lifecycle:c,consent:I,createEvent:xn,createDataCollectionRequestPayload:it,createDataCollectionRequest:tt,sendEdgeNetworkRequest:C,applyResponse:E});return function(e){var n=e.componentCreators,t=e.lifecycle,r=e.componentRegistry,o=e.getImmediatelyAvailableTools;return n.forEach((function(e){var n,t=e.namespace,i=o(t);try{n=e(i)}catch(e){throw Re({error:e,message:"["+t+"] An error occurred during component creation."})}r.register(t,n)})),t.onComponentsRegistered({lifecycle:t}).then((function(){return r}))}({componentCreators:Co,lifecycle:c,componentRegistry:a,getImmediatelyAvailableTools:function(e){var r=i(e);return{config:t,componentRegistry:a,consent:I,eventManager:D,fireReferrerHideableImage:Jo,logger:r,lifecycle:c,sendEdgeNetworkRequest:C,handleError:Do({errorPrefix:"["+n+"] ["+e+"]",logger:r}),createNamespacedStorage:To,apexDomain:Lo}}})},setDebugCommand:function(e){r(e.enabled,{fromConfig:!1})},handleError:s,validateCommandOptions:Nn});return d};(bo=window.__alloyNS)&&bo.forEach((function(e){var n=hn({console:Uo,locationSearch:window.location.search,createLogger:Ro,instanceName:e,createNamespacedStorage:To,getMonitors:_o}),t=function(e){return function(n){var t=n[0],r=n[1],o=n[2],i=o[0],a=o[1];e(i,a).then(t,r)}}(Wo({instanceName:e,logController:n})),r=window[e].q;r.push=t,n.logger.logOnInstanceCreated({instance:t}),r.forEach(t)}))}function Qo(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Xo(e,n){return e(n={exports:{}},n.exports),n.exports}function $o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Go(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$o(Object(t),!0).forEach((function(n){Yo(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ko(e){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(e)}function Yo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Zo(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function ei(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}(e,n)||ti(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e){return function(e){if(Array.isArray(e))return ri(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ti(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ti(e,n){if(e){if("string"==typeof e)return ri(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ri(e,n):void 0}}function ri(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function oi(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function ii(e){return Boolean(e&&void 0!==e.length)}function ai(){}function ci(e){if(!(this instanceof ci))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],pi(e,this)}function ui(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,ci._immediateFn((function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var r;try{r=t(e._value)}catch(e){return void di(n.promise,e)}si(n.promise,r)}else(1===e._state?si:di)(n.promise,e._value)}))):e._deferreds.push(n)}function si(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"===Ko(n)||"function"==typeof n)){var t=n.then;if(n instanceof ci)return e._state=3,e._value=n,void fi(e);if("function"==typeof t)return void pi(function(e,n){return function(){e.apply(n,arguments)}}(t,n),e)}e._state=1,e._value=n,fi(e)}catch(n){di(e,n)}}function di(e,n){e._state=2,e._value=n,fi(e)}function fi(e){2===e._state&&0===e._deferreds.length&&ci._immediateFn((function(){e._handled||ci._unhandledRejectionFn(e._value)}));for(var n=0,t=e._deferreds.length;n<t;n++)ui(e,e._deferreds[n]);e._deferreds=null}function li(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function pi(e,n){var t=!1;try{e((function(e){t||(t=!0,si(n,e))}),(function(e){t||(t=!0,di(n,e))}))}catch(e){if(t)return;t=!0,di(n,e)}}}();\n',
language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL95c4ac3bd4fc4398a2756bc4ea40acee",name:"15 - ['wapGlobal'] - [RC] - Scrolling",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:15}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'(()=>{const t=[!1,!1,!1,!1],e=50,o=n=>{const c=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+a,l=Math.min(Math.round(r/c*100),100),i=Math.round((c-a)/c*100),d=l/25,m=d<3.8?Math.floor(d)-1:3,s=m<3?`${25*(m+1)}%`:"100%",h=`${l}%`,u="page-scroll";if(i<e){document.removeEventListener("scroll",o);const t={evar47:u,prop37:u,evar44:h,prop34:h,event42:1};trackGaEvent({hit:t,category:"Navigation",action:"scroll: disabled",label:s,nonInteraction:!0})}else if(m>-1&&!t[m]){t[m]=!0,t[3]&&document.removeEventListener("scroll",o);for(let e=0;e<m;++e)if(!t[e]){t[e]=!0;const o=e+1,n=25*o,c=`${25*o}%`,a=(250*Math.floor(r*o/1e3)).toString(),l={evar47:u,prop37:u,evar44:n,prop34:n};trackGaEvent({hit:l,category:"Navigation",action:`scroll: ${c}`,label:a})}const e={evar47:u,prop37:u,evar44:h,prop34:h};trackGaEvent({hit:e,category:"Navigation",action:`scroll: ${s}`,label:(250*Math.floor(r/250)).toString()})}};document.addEventListener("scroll",o)})();',language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL55fe79eae51b41d38ee294f22df02696",name:"04 - ['wapEvent'; 'consent:ready'] - [RC] - Web SDK: Setup, Target, Analytics, Pixels",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:4}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCadcf0e3314ee47079660afe9f5671246-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC09812efd56524d37a96076201d5d50b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC0f7db614555a43e9a6de63b9b0e9f6e1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC19b8cc0ac0874e3a892ee917cffc283b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCf84a90dddce44d4bb0dff42949cd670d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCd85336bb5b604ca891a1966d383a7832-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC6c95cf34045d4c1a90d3472c00fce4b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCa11c7a16e1294b11a26b084b1427460d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC9ce72b23ba5745fe936a2f03d663dbde-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC8a26de597eb740f6bd89be4f2e7993e4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC98f0fac88e0b4a5b9fa9ca4e9adf6079-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8510e61560ed4f77b86cf264db3bc004",name:"01 - [DOM Ready] - [RC] iframe",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCec0f6ea8d481456999d039c7bee8da6c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8bf57c6a0aeb420aaaf60e4195288d2a",name:"10 - ['wapEvent': 'consent:ready'] - [RC] - Anonymous Keys",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC80080d1c316d46ac9dfbcc59e221f594-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5f0a4cab0aba43b3a5f6d053d764660e",name:"100 - DOM Ready - [RC] - Get Social Tag",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%consentCategoriesEnabled%",rightOperand:"functional"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"cq_tms.wa_enable_getsocial",value:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC3f6453346fc64d72bab95b1cd8b9cc4f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0c9da8572aea473494958ad59a6cc446",name:"60 - ['wapEvent': 'consent:ready'] - [RC] - Survey conditions",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:6}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCe4351a53f3a9423999d0b83691f2326e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b029755f844494cb9c02f99f87c443c",name:"05 - [DOM Ready] - [RC] - Links",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:5}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCb7a7ed36714e4ef59f39963fa50caa0f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL64af81fd43b04ca9a7e3f03c328f20b0",name:"40 - ['wapEvent': 'consent:ready'] - [RC] - Eloqua registration module",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!window.wap_tms?.consent?.isCategoryEnabled("functional")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC2ec89ca9ece24be79c0491ddb9991c3c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL52389d250bfd4fef9bb059f54b5a0823",name:"01 - [Library Loaded]  - [RC] - Cookies Consent Logic",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,
source:"// *** GLobal functions, delete once all it's implemented\n\n// *** Functions from global\n\n  /**\n   * Deletes a OneTrust consent tool cookie\n   * @param {string} name     The cookie name\n   * @param {string} [domain] The domain where cookie was created. Current domain without www by default\n   */\n\n  wap_tms.custom.deleteOneTrustCookie = function (name, domain) {\n    if (!domain) {\n      domain = (window.location.hostname).replace('www.', '').replace('www', '');\n    }\n    const deleteCookie = function (pDomain) {\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;' + pDomain;\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;.' + pDomain;\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=' + pDomain;\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=.' + pDomain;\n    };\n    document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;intel.com'\n    document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;.intel.com';\n    deleteCookie(domain);\n  };\n  \n\n/**\n * Extension: Cookies Consent - Functions\n */\n\nutag_data.event_name = '';\nutag_data.consent_categories = '';\nutag_data.cookies_consent_is_expired = 'false';\nutag_data.cookies_consent_tool = 'oneTrust'; //evidon, oneTrust\nutag_data.wa_explicitConsentCountryList = 'fr,de,ie,it,pl,es,gb,cn,be,bg,cz,dk,de,ee,gr,hr,cy,lv,lt,lu,hu,mt,nl,at,pt,ro,si,sk,fi,se,is,li,no,ch'; // UE countries\n\n// Labels vs sytem categories names mapping\nvar categoriesMap = {\n  'analytics': 'analytics',\n  'advertising': 'ad targeting',\n  'functional': 'functional'\n};\n\n// Initialize queue for adding functions that will be trigger when matching category is enabled\n// Example: wap_tms.categoriesQueue.analytics.push(myFunction);\nwap_tms.categoriesQueue = wap_tms.categoriesQueue || { 'analytics': [], 'ad targeting': [], 'functional': [] };\n\nwap_tms.consent = {\n  tool: utag_data.cookies_consent_tool,\n  toolEnabled: null,\n  initialCategories: null,\n  enabledCategories: [],\n  triggerAfterConsent: false,\n  expirationDays: 330, // Expirations days configuration is set by 330 days\n  expirationUE: 6, // 6 months\n  expirationGlobal: 13, // 13 months\n  location: (utag_data.wa_location || 'us'),\n  init: function () {\n    // **** Default Categories doesn't exist at this time, it should wait for Optanon cookie and take their values IF cookies consent enabled \n    if (utag_data.cookies_consent_enabled === 'true') {\n      // Read and wait for Optanon Cookie when available.  \n      wap_tms.custom.executeCallbackWhen({\n        when: () => {\n          return (wap_tms.consent.vendor.oneTrust.getObject() !== null);\n        },\n        callback: () => {          \n          utag_data.cookies_consent_default_categories = utag_data.cookies_consent_default_categories || wap_tms.consent.get();\n          utag_data.cookies_consent_default_categories = (utag_data.cookies_consent_default_categories).replace('advertising', 'ad targeting');\n          utag_data.cookies_consent_categories = wap_tms.consent.get();\n          wap_tms.consent.trigger();\n        }\n      });\n    } else {\n      if (utag_data.cookies_consent_enabled === 'true' || (navigator.doNotTrack === '1' || navigator.globalPrivacyControl)) {\n        //set default all taking into account GPC and DNT signal.\n        utag_data.cookies_consent_default_categories = 'analytics, functional';\n      } else {\n        utag_data.cookies_consent_default_categories = 'analytics, advertising, functional';\n      }      \n      utag_data.cookies_consent_default_categories = utag_data.cookies_consent_default_categories.replace('advertising', 'ad targeting');\n      wap_tms.consent.trigger();\n    }\n  },\n  onToolLoaded: function () {\n    // Setup Manage Cookies Hash\n    wap_tms.consent.components.hash.setup();\n    // Setup Manage Cookies Button\n    var manageCookiesButton = document.getElementById('_evh-button');\n    if (manageCookiesButton) {\n      manageCookiesButton.classList.add('component');\n      manageCookiesButton.setAttribute('data-component-id', '1');\n      manageCookiesButton.setAttribute('data-component', 'wa_skip_track');\n    }\n  },\n  isConsentConfigured: function () {\n    return wap_tms.custom.getCookie('OptanonAlertBoxClosed') ? true : false;\n  },\n  get: function () {\n    if ((!utag_data.cookies_consent_enabled || utag_data.cookies_consent_enabled === 'false') || localStorage.getItem('_wap_user_consent_str') === null) { // If cookies consent disabled will trigger everything\n      if (utag_data.cookies_consent_enabled === 'true' || (navigator.doNotTrack === '1' || navigator.globalPrivacyControl)) {\n        //set default all taking into account GPC and DNT signal.\n        return 'analytics, functional';\n      } else {\n        return 'analytics, advertising, functional';\n      }\n    }\n    let result = localStorage.getItem('_wap_user_consent_str') || 'null';    \n    return result;\n  },\n  enableCategories: function (categories) {\n    var categoriesArr = categories.split(',');\n    for (var i = 0; i < categoriesArr.length; ++i) {\n      var category = categoriesArr[i];\n      wap_tms.consent.enabledCategories.push(category);\n      for (var j = 0; j < (wap_tms.categoriesQueue[category] || []).length; ++j) {\n        wap_tms.categoriesQueue[category][j]();\n      }\n      wap_tms.categoriesQueue[category] = [];\n    }\n  },\n  onCategoryEnabled: function (category, fn) {\n    if (wap_tms.consent.enabledCategories.indexOf(category) > -1) {\n      fn();\n    } else if (wap_tms.categoriesQueue[category]) {\n      wap_tms.categoriesQueue[category].push(fn);\n    } else {\n      wap_tms.categoriesQueue[category] = [];\n      wap_tms.categoriesQueue[category].push(fn);\n    }\n  },\n  isCategoryEnabled: function (category) {\n    var consent = wap_tms.consent.get();\n    category = category === 'advertising' ? 'ad targeting': category; // just in case someone is asking for advertising instead of 'ad targeting'\n    return (consent.indexOf('all') >= 0 || consent.indexOf(category) >= 0);\n  },\n  isAdvertisingEnabled: function () { //TO-DO: check if necessary\n    return wap_tms.consent.isCategoryEnabled('advertising');\n  },\n  isAnalyticsEnabled: function () { //TO-DO: check if necessary\n    return wap_tms.consent.isCategoryEnabled('analytics');\n  },\n  validateDefaultLoading: function () { // Setup default categories when no consent configured\n    // If consent is configured or UDO not exists or UDO value is none -> do nothing\n    if (wap_tms.consent.isConsentConfigured() || !utag_data.cookies_consent_default_categories || utag_data.cookies_consent_default_categories === 'none') {\n      return;\n    }\n    // If Consent Tool (OneTrust) libraries will not load -> will use default categories configured in Tealium\n    if (!wap_tms.consent.vendor.oneTrust.isLoaded()) {\n      utag_data.cookies_consent_categories = utag_data.cookies_consent_default_categories;\n    }\n    wap_tms.consent.object.isUsingDefault = true;\n    wap_tms.consent.object.convertAndSave(); // Write consent object\n  },\n  setupDefaultConsentIfNotExist: function () {\n    if (!localStorage.getItem('_wap_user_consent_str') && utag_data.cookies_consent_enabled === 'true') {\n      // TO-DO: remove default object use only one\n      localStorage.setItem('_wap_user_consent_str', wap_tms.consent.object.toString(wap_tms.consent.vendor.oneTrust.getObject()));\n    } else if (!localStorage.getItem('_wap_user_consent_str') &&  utag_data.cookies_consent_default_categories) {\n      localStorage.setItem('_wap_user_consent_str', utag_data.cookies_consent_default_categories);\n    }\n  },\n  persistConsentData: function () { //-->\n    var data = {\n      object: localStorage.getItem('_wap_user_consent'),\n      string: localStorage.getItem('_wap_user_consent_str'),\n      consent: wap_tms.custom.getCookie('OptanonConsent'),\n      closed: wap_tms.custom.getCookie('OptanonAlertBoxClosed'),\n    };\n    var dataObj = JSON.parse(localStorage.getItem('_wap_user_consent_data') || '{}');\n    dataObj[wap_tms.consent.location] = data;\n    localStorage.setItem('_wap_user_consent_data', JSON.stringify(dataObj));\n  }\n};\n\nwap_tms.consent.trigger = function () {\n  /**\n   * Setup parameters for triggering Tealium tags and calls utag.view() to make it trigger\n   * Callback: this function will be executed when settings has been updated from iframe\n   * @returns The result of window.utag.view\n   */\n  var triggerTags = function () {\n    // Checks if user has not configured consent previously\n    if (!wap_tms.consent.isConsentConfigured()) {\n      wap_tms.consent.validateDefaultLoading();\n    }\n    wap_tms.consent.initialCategories = wap_tms.consent.get(); // Gets saved or default consent categories\n    if (!wap_tms.consent.initialCategories) { // If no result trying to get consent to trigger exit will not trigger tags\n      return null;\n    }\n    \n    // Wakes-up Adobe Target on user consent selection\n    if (wap_tms.consent.triggerAfterConsent) {\n      setTimeout(function () {\n        document.querySelector('div').click(); // Dummy click to make Target send the hit when Analytics accepted the very first time\n      }, 500);\n      wap_tms.consent.triggerAfterConsent = false;\n    }\n    wap_tms.consent.enableCategories(wap_tms.consent.initialCategories); // Call all the functions in the categories enabled queue\n    return _satellite.track('wap_consent_given', { categories: wap_tms.consent.initialCategories });    \n  };\n    wap_tms.consent.setupDefaultConsentIfNotExist(); // Setup defualt consent if object not exists\n    triggerTags(); // Triggers Tealium tags\n};\n\nwap_tms.consent.components = {\n  'hash': {\n    setup: function () {\n      if ((window.location.hash).indexOf('#managecookies') >= 0) { // If #managecookies found on URL when page loads\n        wap_tms.consent.components.popup.open();\n      }\n      window.addEventListener('hashchange', function () { // If #managecookies found on URL when hash changes\n        if ((window.location.hash).indexOf('#managecookies') >= 0) {\n          let banner = document.querySelector(wap_tms.consent.vendor.oneTrust.selectors.banner_container);\n          if (!banner || banner.style.display !== 'none') { // Fix for open issue when banner is open\n            setTimeout(wap_tms.consent.components.popup.open, 500);\n          } else {\n            wap_tms.consent.components.popup.open();\n          }\n          wap_tms.consent.eventsHandler.track('manage_cookies_button');\n        }\n      }, false);\n    },\n    remove: function () {// this will remove #managecookies only\n      if (window.history?.pushState && window.location.hash.includes('#managecookies')) {\n        window.history.pushState('', '', window.location.pathname + location.search)\n      } else {\n        window.location.hash = '#';\n      }\n    }\n  },\n  'banner': {\n    hide: function () {\n      wap_tms.custom.addStyleTag(wap_tms.consent.vendor.oneTrust.selectors.banner_container, ['display:none !important'], 'wap-consent-banner-style');\n    },\n    show: function () {\n      var styleTag = document.getElementById('wap-consent-banner-style');\n      if (styleTag) {\n        document.head.removeChild(styleTag);\n      }\n    }\n  }\n};\n\nwap_tms.consent.components.popup = {\n  initialized: false,\n  removeHashSetting: false,\n  open: function () {\n    wap_tms.consent.components.banner.hide();\n    wap_tms.consent.vendor.oneTrust.openPopup();\n    wap_tms.consent.components.popup.removeHashSetting = true;\n    wap_tms.consent.components.popup.init();\n  },\n  init: function () {\n    if (wap_tms.consent.components.popup.initialized) {\n      return;\n    }\n    wap_tms.consent.components.popup.initialized = true;\n    let selectors = wap_tms.consent.vendor.oneTrust.selectors;\n    wap_tms.custom.executeCallbackWhen({\n      'when': function () { // Wait for popup opens and configures action when click on X, Save or Cancel\n        return (document.querySelectorAll(selectors.popup_close).length > 0);\n      },\n      'callback': function () {\n        let popupOverlay = document.querySelector(selectors.popup_container);\n        if (popupOverlay) { // Setup wa_skip_track for popup\n          popupOverlay.classList.add('component');\n          popupOverlay.setAttribute('data-component-id', '1');\n          popupOverlay.setAttribute('data-component', 'wa_skip_track');\n        }\n        let closePopupEles = document.querySelectorAll(selectors.popup_accept + ',' + selectors.popup_decline + ',' + selectors.popup_close);\n        let onClosePopup = function () {\n          wap_tms.consent.components.banner.show();\n          if (wap_tms.consent.components.popup.removeHashSetting) { // Remove #managecookies hash from URL\n            wap_tms.consent.components.hash.remove(); // Remove hash from URL\n            wap_tms.consent.components.popup.removeHashSetting = false;\n          }\n          if (wap_tms.consent.vendor.oneTrust.onClosePopup) {\n            wap_tms.consent.vendor.oneTrust.onClosePopup();\n          }\n          for (var i = 0; i < closePopupEles.length; ++i) {\n            closePopupEles[i].removeEventListener('click', onClosePopup);\n          }\n        }\n        for (var i = 0; i < closePopupEles.length; ++i) {\n          closePopupEles[i].addEventListener('click', onClosePopup);\n        }\n        wap_tms.consent.components.popup.initialized = false;\n      }\n    });\n  }\n};\n\n/**\n * Handles all interactions with WAP Consent Object. It includes create, read and update the object\n */\nwap_tms.consent.object = {\n  isUsingDefault: false,\n  iframeCookie: null,\n  iframeRead: null,\n  /**\n   * Returns the WAP Consent Object\n   * @returns {object} The WAP Consent Object\n   */\n  get: function () {\n    var objStr = localStorage.getItem('_wap_user_consent');\n    return (objStr ? JSON.parse(objStr) : {});\n  },\n  /**\n   * Creates or updates WAP Consent Object\n   * @param {object} consentObj Object with categories enabled and disabled. Example: {strictly necessary: true, ad targeting: true, analytics: false, functional: true}\n   */\n  save: function (consentObj) {\n    if (consentObj && consentObj['strictly necessary']) {\n      delete (consentObj['strictly necessary']);\n    }\n    var consentObjToSave = {\n      categories: consentObj,\n      country: wap_tms.custom?.ipDetection?.information?.country || 'US',\n      expiration: new Date().toISOString(), // Setting Expiration date.\n      restarted: '2', // Flag that helps to know this is a new created consent object       \n    };\n    // TO-DO: unify, don't use separete for default    \n    localStorage.setItem('_wap_user_consent', JSON.stringify(consentObjToSave));\n    localStorage.setItem('_wap_user_consent_str', wap_tms.consent.object.toString());        \n    wap_tms.consent.object.saveToIframe(consentObjToSave); // Updates object in iframe\n  },\n  /**\n   * Reads Consent tool current options, converts them into WAP standard object and save it to LocalStorage\n   * @param {function} [optional] A callback function\n   */\n  convertAndSave: function (callback) {    \n    if (utag_data.cookies_consent_enabled === 'true'){\n      let consentObj = wap_tms.consent.vendor.oneTrust.getObject();\n      wap_tms.consent.object.save(consentObj);\n    } else {\n      let defaultConsent = {\n        'strictly necessary': true,\n        'analytics': true,\n        'functional': true,\n      };\n      if ((navigator.doNotTrack !== '1' || navigator.globalPrivacyControl)) {\n        defaultConsent['ad targeting'] = true;\n      } \n      wap_tms.consent.object.save(defaultConsent); \n    }\n    callback ? callback() : null; // Execute callback in parameters if exists\n  },\n  /**\n   * Saves the WAP Consent Object into intel.com iframe\n   * @param {object} consentObjToSave The WAP Consent Object to save\n   */\n  saveToIframe: function (consentObjToSave) {\n    wap_tms.custom.executeCallbackWhen({\n      'when': function () {\n        return !!(wap_tms.consent.object.iframeCookie);\n      },\n      'callback': function () {\n        var sharedObj = wap_tms.consent.object.iframeCookie;\n        var location = 'us'; // Default location is US\n        // Tries to get the site location from utag or cq_tms\n        if (utag_data.wa_location) {\n          location = utag_data.wa_location.toLowerCase();\n        } else if (typeof cq_tms !== 'undefined' && cq_tms.wa_location) {\n          location = cq_tms.wa_location.toLowerCase();\n        }\n        sharedObj[location] = consentObjToSave;\n        var element = document.getElementById('wap-iframe');\n        if (element && element.contentWindow && element.contentWindow.postMessage) {\n          var message = {\n            action: 'setItem',\n            key: '_wap_user_consent_location',\n            value: JSON.stringify(sharedObj),\n          }\n          wap_tms.custom.sendMessageToIframe(element, message);\n        } else if (utag_data['dom.domain'] === 'www.intel.com') {\n          localStorage.setItem('_wap_user_consent_location', JSON.stringify(sharedObj));\n        }\n      }\n    });\n  },\n  /**\n   * Gets the WAP Consent Object into intel.com iframe and updates the LocalStorage\n   * @param {function} callback Function to execute after getting the object from the iframe (usually trigger tags)\n   */\n  getFromIframe: function (callback) {\n    // If iframe cookie was read before execute callback and exit from function\n    if (wap_tms.consent.object.iframeCookie) {\n      callback();\n      return;\n    }\n    var sharedObj = {};\n    /**\n     * Saves the iframe cookie to LocalStorage and executes callback after that\n     * Callback function\n     */\n    var saveCookieToLocalStorage = function () {\n      // Tries to get location from utag_data or cq_tms, if not US by default\n      var location = 'us';\n      if (utag_data.wa_location) {\n        location = utag_data.wa_location.toLowerCase();\n      } else if (typeof cq_tms !== 'undefined' && cq_tms.wa_location) {\n        location = cq_tms.wa_location.toLowerCase();\n      }\n      // If WAP Consent Location Object exists -> it means it's www.intel.com and iframe cookie will take this value\n      if (localStorage.getItem('_wap_user_consent_location')) {\n        sharedObj = JSON.parse(localStorage.getItem('_wap_user_consent_location'));\n      }\n      wap_tms.consent.object.iframeCookie = sharedObj || {};\n      // wap_tms.consent.object.iframeCookie.us\n      if (wap_tms.consent.object.iframeCookie[location]) { // If iframe cookie contains current location\n        var sharedLocationObj = wap_tms.consent.object.iframeCookie[location];         // Gets the object\n        var sharedLocationObjStr = wap_tms.consent.object.toString(sharedLocationObj); // Converts the object to string\n        // Check cookie consent local storage expiration\n        if (!wap_tms.consent.isConsentExpired(sharedLocationObj.expiration)) {\n          localStorage.setItem('_wap_user_consent', JSON.stringify(sharedLocationObj));  // Save object to LocalStorage\n          localStorage.setItem('_wap_user_consent_str', sharedLocationObjStr);           // Save string to LocalStorage          \n        }\n      } else { // If iframe cookie NOT contains current location        \n        localStorage.removeItem('_wap_user_consent', wap_tms.consent.vendor.oneTrust.getObject());\n        localStorage.removeItem('_wap_user_consent_str', wap_tms.consent.object.toString(wap_tms.consent.vendor.oneTrust.getObject()));        \n      }\n      callback(); // Execue callback\n    };\n    // Gets the iframe DOM element\n    var element = document.getElementById('wap-iframe');\n    // If iframe exists -> send message and wait for response to override object in LocalStorage\n    if (element && element.contentWindow && element.contentWindow.postMessage && utag_data.cookies_consent_is_expired && utag_data.cookies_consent_is_expired !== 'true') {\n      wap_tms.consent.object.iframeRead = false;\n      //****** BACK MESSAGE FROM IFRAME CONFIGURATION ******//\n      var messageHandler = function (event) { // Setup back message callback\n        if (wap_tms.custom.iFrameOrigin === event.origin) {\n          if (event && event.data && event.data.key && event.data.key === '_wap_user_consent_location') {\n            sharedObj = event.data.value ? JSON.parse(event.data.value) : {};\n            window.removeEventListener('message', messageHandler, false);\n          }\n          wap_tms.consent.object.iframeRead = true; // Setup flag that says message got\n          saveCookieToLocalStorage(); // Save the read value to LocalStorage\n        }\n      };\n      window.addEventListener('message', messageHandler, false); // Setup back message listener\n      //****** SEND MESSAGE TO IFRAME CONFIGURATION ******//\n      var message = { // Setup message parameters\n        action: 'getItem',\n        key: '_wap_user_consent_location',\n        origin: origin\n      };\n      wap_tms.custom.sendMessageToIframe(element, message); // Send message to iframe\n      //****** FALLBACK IF NO MESSAGE BACK FROM IFRAME ******//\n      setTimeout(function () {\n        if (wap_tms.consent.object.iframeRead) { // If got message do nothing\n          return;\n        }\n        // If message missing go with default consent settings and execute callback\n        wap_tms.consent.setupDefaultConsentIfNotExist();\n        callback();\n      }, 1500);\n    } else if (localStorage.getItem('_wap_user_consent_location') && utag_data.cookies_consent_is_expired && utag_data.cookies_consent_is_expired !== 'true') { // TO-DO: not needed, remove this else if\n      wap_tms.consent.object.iframeCookie = JSON.parse(localStorage.getItem('_wap_user_consent_location'));\n      saveCookieToLocalStorage();\n    } else { // If iframe not exists (it's www.intel.com or microsite) will try to get value from Consent Location object\n      saveCookieToLocalStorage();\n    }\n  },\n  /**\n   * Converts WAP Consent Object to string\n   * @param {object} consentObject The categories object\n   * @returns The WAP Consent Object as string\n   */\n  toString: function (consentObject) {\n    if (!consentObject) {\n      consentObject = wap_tms.consent.object.get();\n    }\n    var result = [];\n    if (!consentObject.categories) {\n      // Do nothing\n    } else if (consentObject.categories.declined) {\n      result.push('declined');\n    } else if (consentObject.categories.all) {\n      result.push('all');\n    } else {\n      for (var key in consentObject.categories) {\n        if (consentObject.categories[key] === true) {\n          result.push(key.toLowerCase())\n        }\n      }\n    }\n    return result.join();\n  }\n};\n\nwap_tms.consent.eventsHandler = {\n  init: function () {    \n    // If banner will display, sends banner impression hit\n    wap_tms.custom.executeCallbackWhen({\n    when: () => {\n      return document.getElementById('onetrust-consent-sdk') ? true : false;\n    },\n    callback: () => {\n      if (document.getElementById('onetrust-banner-sdk')) { // we check if explicit consent banner is present\n        // **** Once OneTrust libraries are available, we set the UDO cookies_consent_banner_enabled if present.       \n        utag_data.cookies_consent_banner_enabled = true;\n        wap_tms.consent.eventsHandler.track('banner_impression');  \n      }      \n      wap_tms.consent.vendor.oneTrust.setupActions();\n    },\n    'tries': 100\n  });    \n  },\n  track: async function (event, params) {\n    if (params) {\n      event += ':' + params.replace(/ /g, '_').replace(/_,/g, ',').split(',').sort().join(',');\n    }\n    if (event === 'save:empty') {\n      event = 'decline_all';\n    }\n    var eventsMapping = {\n      'banner_impression': '133',\n      'accept_all': '134',\n      'manage_cookies_banner': '135',\n      'decline_all': '136',\n      'manage_cookies_button': '137',\n      'save:ad_targeting': '138',\n      'save:ad_targeting,analytics': '139',\n      'save:ad_targeting,functional': '140',\n      'save:ad_targeting,analytics,functional': '141',\n      'save:analytics': '142',\n      'save:analytics,functional': '143',\n      'save:functional': '144',\n      'gpc_detected': '145',\n      'dnt_detected': '146',\n      'do_no_share:true': '147',\n      'do_no_share:false': '148'\n    };\n    if (!eventsMapping[event]) {\n      return;\n    }\n    let e = eventValue = eventsMapping[event];\n    var category, action, label;\n    var events;\n\n    if (event === 'banner_impression') {\n      category = 'Page';\n      action = wap_tms.consent.tool.toLowerCase() + ': integration';\n      events = {\n        '64': '1'\n      };\n      if (navigator.globalPrivacyControl) {\n        events['145'] = '1';\n        e += eventValue === '145' ? '' : ',145';\n      }\n      if (navigator.doNotTrack === '1') {\n        events['146'] = '1';\n        e += eventValue === '146' ? '' : ',146';\n      }\n    } else {\n      category = 'Components';\n      action = 'click: cookies_consent';\n      label = event;\n      events = {\n        '47': '1',\n        '48': '1',\n        '62': '1',\n        '63': '1',\n        '64': '1',\n        '73': '1'\n      };\n    }\n    //if a user clicks on manage cookies then reset do not share value so we do not send the event\n    if (eventValue === '135' || eventValue === '137') {\n      utag_data.do_no_share = false;\n    }\n    //For tracking do not share\n    //When cookies consent settings are saved and do not share my personal information was selected, determine if ad targeting was disabled\n    if (window?.utag_data?.do_no_share && (parseInt(eventValue) > 135 && parseInt(eventValue) < 145 || eventValue === '134')) {\n      if (eventValue === '142' || eventValue === '143' || eventValue === '144' || eventValue == '136') {\n        utag_data.do_no_share = true;\n      } else {\n        utag_data.do_no_share = false;\n      }\n      if (utag_data.do_no_share === true && eventValue !== '147') {\n        e += ',147';\n        events['147'] = '1';\n      } else if (utag_data.do_no_share === false && eventValue !== '148') {\n        e += ',148';\n        events['148'] = '1';\n      }\n    }\n    const c = Math.floor(10000000 + Math.random() * 90000000);\n    let cc = 'xx';\n    let cs = 'xx';\n    if (window.wap_tms?.custom?.ipDetection?.information) {\n      cc = wap_tms.custom.ipDetection.information.country;\n      cs = wap_tms.custom.ipDetection.information.state || cs;\n    }\n    let p = location.hostname + location.pathname;\n    p = encodeURIComponent(p.replaceAll('.', ',').replaceAll('/', '|').toLowerCase());\n    //send akamai pixel\n    const url = 'https://www.intel.com/content/dam/www/global/wap/cdn/wap.gif?c=' + c + '&t=2&cc='+ cc + '&cs=' + cs + '&p=' + p + '&e=' + e;\n    await fetch(url);\n    // If Analytics currently enabled OR consent not configured and selected consent includes analytics RUN normal tracking\n    if (false && (wap_tms.consent.initialCategories.indexOf('analytics') > -1 || (!wap_tms.consent.isConsentConfigured() && event.indexOf('analytics') > -1) || event === 'accept_all')) {\n      var payload = {\n        'aa': {}\n      };\n      for (var key in events) {\n        payload.aa['event' + key] = events[key];\n      }\n      payload.aa['event' + eventValue] = '1';\n      if (params || event === 'accept_all') {\n        payload.aa['prop64'] = params || 'all';\n      }\n      trackGaEvent(category, action, label, null, true, '', payload);\n    } else { // If not RUN tracking by pixel\n      var payload = {\n        'eVar': {},\n        'prop': {},\n        'event': events\n      };\n      payload.event[eventValue] = '1';\n      if (params) {\n        payload.prop['64'] = event;\n      }\n      wap_tms.aaTrack.trackByPixel.do(category, action, label, payload);\n    }\n    if (wap_tms.consent.isConsentConfigured()) {\n      document.dispatchEvent(new CustomEvent('wapEvent', { detail: 'consent:ready' }));  \n    }; \n  },\n  doNotSellClick: function (event) {\n    event.preventDefault();\n    utag_data.do_no_share = true;\n    Optanon.ToggleInfoDisplay();\n    setTimeout(function () {\n      document.querySelector('h3#ot-header-id-'+wap_tms.consent.getDoNotSellGroupCode()).click();\n    }, 100);\n  }\n};\n\nwap_tms.consent.getOneTrustLocalCode = function (localCode) {\n  var languageParts = localCode.split('-');\n  if (languageParts.length < 2) {\n    return localCode;\n  } else {\n    return (`${languageParts[1]}-${languageParts[0]}`).toLowerCase();\n  }\n}\n\n// utag_data.cookies_consent_dns_group is an unexisting UDO, but in case something is wrong this will be use as backup/workaround...\nwap_tms.consent.getDoNotSellGroupCode = function () {\n  if (typeof (OneTrust) !== 'undefined' && typeof (OneTrust.GetDomainData) !== 'undefined') {\n    let oneTrustGroups = OneTrust.GetDomainData().Groups.map(e => e.OptanonGroupId);\n    for (const group of oneTrustGroups) {\n      if (group.indexOf('BG') > -1) {\n        return utag_data.cookies_consent_dns_group || group;\n      }\n    }\n  } else {\n    return undefined;\n  }\n}\n\n// True: if expiration has been passed. False: if expiration hasn't ocurr yet\nwap_tms.consent.isConsentExpired = function (creationDate) {\n  creationDate = new Date(creationDate);   \n  return new Date() > wap_tms.consent.getConsentExpirationDate(creationDate) ? true : false;\n};\n\n// Calculate expiration date based on creation date + location. 6 months for UE regions otherwise 13 months. \nwap_tms.consent.getConsentExpirationDate = function (date) {\n  return utag_data.wa_explicitConsentCountryList.includes(wap_tms.custom?.ipDetection?.information?.country || 'us') ? date.setMonth(date.getMonth() + wap_tms.consent.expirationUE) : date.setMonth(date.getMonth() + wap_tms.consent.expirationGlobal);\n};\n\n// Cookies Consent expiration for AEM profiles\nlet dataStr = localStorage.getItem('_wap_user_consent') || '{}';\nlet dataObj = JSON.parse(dataStr);\nif (dataStr !== '{}' && dataObj.expiration && wap_tms.consent.isConsentExpired(dataObj.expiration)) {\n  wap_tms.custom.deleteOneTrustCookie('OptanonConsent');\n  wap_tms.custom.deleteOneTrustCookie('OptanonAlertBoxClosed');\n  localStorage.removeItem('_wap_user_consent');\n  localStorage.removeItem('_wap_user_consent_str');\n  utag_data.cookies_consent_is_user_configured = 'false';\n  utag_data.cookies_consent_is_expired = 'true';\n\n  // Intel.com page\n  let dataStrL = localStorage.getItem('_wap_user_consent_location') || '{}';\n  let dataObjL = JSON.parse(dataStrL);\n  if (dataStrL !== '{}' && dataObjL[utag_data.wa_location] && dataObjL[utag_data.wa_location].expiration && wap_tms.consent.isConsentExpired(dataObjL[utag_data.wa_location].expiration)) {\n    delete dataObjL[utag_data.wa_location];\n    localStorage.setItem('_wap_user_consent_location', JSON.stringify(dataObjL));\n  }\n};\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"// this will contain the list and logic of when Cookies Consent is enabled or not for the current website\nutag_data = utag_data || {};\nutag_data.cookies_consent_enabled = 'false';\n\nutag_data.aem_Websites = ['www.intel.com',\n'www.intel.sg',\n'www.intel.com.au',\n'www.intel.in',\n'www.intel.co.id',\n'www.intel.co.jp',\n'www.intel.co.kr',\n'www.intel.cn',\n'www.intel.com.tw',\n'www.thailand.intel.com',\n'www.intel.vn',\n'www.intel.fr',\n'www.intel.de',\n'www.intel.ie',\n'www.intel.it',\n'www.intel.pl',\n'www.intel.es',\n'www.intel.com.tr',\n'www.intel.co.uk',\n'www.intel.la',\n'www.intel.com.br',\n'www.intel.co.il',\n'www.intel.ca',\n'ark.intel.com'];\n\n// if domain present in the list or if is a pre-production environment\nif (utag_data.aem_Websites.includes(location.hostname) || (_satellite && _satellite.environment && _satellite.environment.stage !== 'production')) {\n  utag_data.cookies_consent_enabled = 'true';\n}",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"// this will contain the list and logic of when IP detection is enabled or not for the current website\nif (utag_data.aem_Websites.includes(location.hostname) || (_satellite && _satellite.environment && _satellite.environment.stage !== 'production')) {\n  utag_data.cookies_consent_ip_detection_enabled = 'true';\n}\n\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,
source:"// this will contain the list and logic of when Do Not Sell My Personal Information is enabled or not for the current website\nif (utag_data.cookies_consent_enabled === 'true' && utag_data.wa_language === 'en'){\n  utag_data.cookies_consent_dns = 'true';  \n}\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"// this will contain the logic of what OneTrust environment should we use for the current website\nif (utag_data.cookies_consent_enabled === 'true' && _satellite?.environment?.stage) {\n  switch (_satellite.environment.stage) {\n    case 'production': \n        utag_data.cookies_consent_tool_env = 'prod';\n      break;\n    case 'staging': \n      utag_data.cookies_consent_tool_env = 'dev';\n      break;\n    case 'development': \n      utag_data.cookies_consent_tool_env = 'dev';\n      break;\n  }  \n}\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"// this will contain setup to evaluate if cookies consent force some values in QS of the url\nif (utag_data.cookies_consent_enabled === 'true') {\n  (function () {\n    // Overriding iplocation if present in queryString\n    if (utag_data.cookies_consent_ip_detection_enabled === 'true' && utag_data.wa_geolocation_country) {\n      const params = new Proxy(new URLSearchParams(window.location.search), {\n        get: (searchParams, prop) => searchParams.get(prop),\n      });\n      if (params.iplocation) { // if iplocation exists into the QueryString parameters\n        utag_data.wa_geolocation_country = params.iplocation.toUpperCase();\n      }\n    }\n\n    // Language for Cookies Consent tool\n    if (typeof cq_tms !== 'undefined') {\n      utag_data.cookies_consent_language = (cq_tms.wa_local || 'en').replace('_', '-').toLowerCase();\n    }\n    else if (typeof utag_data !== 'undefined' && utag_data.wa_local) { // Most tms loaders set utag_data.wa_local before utag executes... \n      utag_data.cookies_consent_language = wap_tms.consent.getOneTrustLocalCode(utag_data.wa_local);\n    }\n    else if (typeof wapLocalCode !== 'undefined') { // Some microsites set this general localization code before trigger tms and utag.js \n      utag_data.cookies_consent_language = wap_tms.consent.getOneTrustLocalCode(wapLocalCode);\n    }\n    else {\n      utag_data.cookies_consent_language = 'en';\n    }\n\n    if (localStorage.getItem('_wap_user_consent')) {\n      var userConsentObj = JSON.parse(localStorage.getItem('_wap_user_consent'));\n      if (!userConsentObj.restarted || userConsentObj.restarted !== '2' || wap_tms.consent.isConsentExpired(userConsentObj.expiration)) { // If flag doesn't exist or it's distinct to \"2\" delete cookies and local storage\n        wap_tms.custom.deleteOneTrustCookie('OptanonConsent');\n        wap_tms.custom.deleteOneTrustCookie('OptanonAlertBoxClosed');\n        localStorage.removeItem('_wap_user_consent');\n        localStorage.removeItem('_wap_user_consent_str');\n        localStorage.removeItem('_wap_default_user_consent_str');\n      }\n    }\n  }());\n}\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"// Setting the OneTrust key based on the domain\n\nif (utag_data.cookies_consent_enabled === 'true') {\nswitch (location.hostname) {\n  case 'www.intel.com':\n    utag_data.cookies_consent_onr_key = '602b1e7d-b5ad-4c8d-a375-0ee8df9e9f2f';\n    break;\n    \n  case 'www.intel.ca':\n    utag_data.cookies_consent_onr_key = '10272215-9f57-4cf7-add0-b947d3bd4073';\n    break;\n    \n  case 'www.intel.cn':\n    utag_data.cookies_consent_onr_key = '05379409-4d59-4d0b-8e2c-fe665c08cee8';\n    break;\n    \n   case 'www.intel.co.id':\n    utag_data.cookies_consent_onr_key = 'cd05a661-cb6d-4fb6-9b4e-6ba6715e0df6';\n    break;    \n    \n   case 'www.intel.co.il':\n    utag_data.cookies_consent_onr_key = 'ddefc06c-cb80-43ef-ba73-ff813bb37cce';\n    break;    \n    \n   case 'www.intel.co.jp':\n    utag_data.cookies_consent_onr_key = '58d2671c-f7a1-4728-9717-eecb21a1fa38';\n    break;\n    \n   case 'www.intel.co.kr':\n    utag_data.cookies_consent_onr_key = 'f5858432-05fa-4407-8832-adb0c5994df4';\n    break;\n    \n   case 'www.intel.co.uk':\n    utag_data.cookies_consent_onr_key = '56c0988b-d19e-421d-b5ce-3107cfc513a9';\n    break;\n    \n   case 'www.intel.com.au':\n    utag_data.cookies_consent_onr_key = '3173ba8e-6030-4a04-a446-0deb645433c0';\n    break;\n    \n   case 'www.intel.com.tr':\n    utag_data.cookies_consent_onr_key = '69bf8157-3fe5-47ef-b9bc-b655016ef955';\n    break;\n    \n   case 'www.intel.com.tw':\n    utag_data.cookies_consent_onr_key = '3f220e23-e2ea-4b3b-bace-5c92dc27275d';\n    break;\n    \n   case 'www.intel.de':\n    utag_data.cookies_consent_onr_key = '3b4678d9-3d40-4b04-84df-88c341c05a6a';\n    break;\n    \n   case 'www.intel.es':\n    utag_data.cookies_consent_onr_key = 'e7f265d6-49ea-470d-b304-d86ac74a25ee';\n    break;\n    \n   case 'www.intel.fr':\n    utag_data.cookies_consent_onr_key = 'ac0c67f6-cdd2-474d-a0cf-e6157fa16263';\n    break;\n    \n   case 'www.intel.ie':\n    utag_data.cookies_consent_onr_key = 'e663fb89-a017-441e-92be-18d7ec785fed';\n    break;\n    \n   case 'www.intel.in':\n    utag_data.cookies_consent_onr_key = 'd60695e9-6823-4ecb-95ca-9d59611d679d';\n    break;\n    \n   case 'www.intel.it':\n    utag_data.cookies_consent_onr_key = '4075ff79-4f64-4de2-b927-cf208ef7e09f';\n    break;\n    \n   case 'www.intel.la':\n    utag_data.cookies_consent_onr_key = 'dd36fd19-ff2c-498e-81c0-fc03de096a05';\n    break;\n    \n   case 'www.intel.pl':\n    utag_data.cookies_consent_onr_key = 'dde6e2ed-064a-4a5d-9056-552fa6bcbd8e';\n    break;\n    \n   case 'www.intel.ru':\n    utag_data.cookies_consent_onr_key = '601e06e0-c617-4ecc-a678-b0ebe6417436';\n    break;\n    \n   case 'www.intel.sg':\n    utag_data.cookies_consent_onr_key = 'ef47111d-de4e-4be8-b221-acde02d79863';\n    break;\n    \n   case 'www.intel.vn':\n    utag_data.cookies_consent_onr_key = '6f1a8c34-199e-475b-8a28-830d1a0a8476';\n    break;\n    \n   case 'www.thailand.intel.com':\n    utag_data.cookies_consent_onr_key = '9e6de8af-ee96-4a8c-9823-ea4f52220c8d';\n    break;\n    \n   case 'www.intel.com.br':\n    utag_data.cookies_consent_onr_key = 'fc62af16-3341-446a-ae6d-4f49a2cdc913';\n    break;\n    \n   case 'ark.intel.com':\n    utag_data.cookies_consent_onr_key = '1dc708ab-3d16-4e3b-bd00-20c04147a3d6';\n    break;  \n  \n} \n  \n  // fallback keys. Use intel.com key as fallback...\n  if (!utag_data.cookies_consent_onr_key) {\n    utag_data.cookies_consent_onr_key = '602b1e7d-b5ad-4c8d-a375-0ee8df9e9f2f';\n  }\n  \n}\n\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"/**\n * Extension: Cookies Consent - OneTrust Logic\n * Integrates OneTrust tool and handles interactions with its API\n */\nwap_tms.consent.vendor = wap_tms.consent.vendor || {};\n if (utag_data.cookies_consent_enabled === 'true' && utag_data.cookies_consent_dns === 'true' && wap_tms.custom && wap_tms.custom.ipDetection && wap_tms.custom.ipDetection.information && wap_tms.custom.ipDetection.information.country === 'US' && utag_data.wa_local.includes('en')) {\n   wap_tms.custom.executeCallbackWhen({\n     'when': function () {\n      let groupDNScode = wap_tms.consent.getDoNotSellGroupCode();\n      if (groupDNScode) {\n        return document.querySelector('#ot-desc-id-'+groupDNScode) !== null && document.getElementById('wap_dns') !== null;\n      } else {\n        return false;\n      }\n     },\n     'callback': function () {\n       document.getElementById('wap_dns').addEventListener(\"click\", wap_tms.consent.eventsHandler.doNotSellClick);\n       document.getElementById('wap_dns').style.display = 'block';\n     },\n     'tries': 200,\n     'time': 100\n   });\n   wap_tms.custom.executeCallbackWhen({\n     'when': function () {\n      let groupDNScode = wap_tms.consent.getDoNotSellGroupCode();\n      if (groupDNScode) {\n        return document.getElementById('ot-header-id-' + groupDNScode) !== null; \n      }       \n     },\n     'callback': function () {\n      let groupDNScode = wap_tms.consent.getDoNotSellGroupCode();\n       document.querySelector('#ot-header-id-' + groupDNScode).textContent = 'Ad Targeting';\n     },\n     'tries': 200,\n     'time': 100\n   });\n }\n\n // Consent Vendor OneTrust configuration\n wap_tms.consent.vendor.oneTrust = {   \n   onClosePopup: null,\n   bannerClosed: false,\n   selectors: {\n     'banner_container': '#onetrust-banner-sdk',\n     'popup_container': '#onetrust-pc-sdk',\n     'popup_accept': 'button.save-preference-btn-handler',\n     'popup_decline': 'button.ot-pc-refuse-all-handler',\n     'popup_close': '#close-pc-btn-handler'\n   },\n   categoriesMap: {\n     'strictly necessary': 'C0001',\n     'ad targeting': 'C0002',\n     'analytics': 'C0003',\n     'functional': 'C0004',\n   },\n   init: function () {\n     if (utag_data.cookies_consent_banner_enabled === 'false') {\n       wap_tms.consent.vendor.oneTrust.bannerClosed = true;\n       Optanon.Close();\n     }\n     wap_tms.consent.onToolLoaded();\n   },\n   isLoaded: function () {\n     return (typeof OneTrust !== 'undefined');\n   },\n   isActive: function () {\n     return (document.querySelectorAll(\"#onetrust-pc-sdk #accept-recommended-btn-handler\").length > 0);\n   },\n   /**\n    * Parses OneTrust OnetrustActiveGroups variable into a WAP Standard categories object\n    * Example - OnetrustActiveGroups: (\",C0001,C0004,C0002,\")\n    * Example - WAP Standard categories object: {strictly necessary: true, ad targeting: true, analytics: false, functional: true}\n    * @returns {object} WAP Standard categories object\n    */\n   getObject: function () {\n     var self = this;\n     if (typeof OnetrustActiveGroups === 'undefined' || OnetrustActiveGroups === ',,') {\n       return null;\n     }\n     var categoriesObj = {};\n     for (var key in self.categoriesMap) {\n       var value = self.categoriesMap[key];\n       categoriesObj[key] = OnetrustActiveGroups.indexOf(value) > -1;\n     }\n     return categoriesObj;\n   },\n   resetObj: function () {\n     //TO-DO: remove\n   },\n   setupActions: function () {\n     var isFirstTime = wap_tms.custom.getCookie('OptanonAlertBoxClosed') ? false : true;\n     var onConsentGiven = function () {\n       if (isFirstTime) {\n         isFirstTime = false;\n         wap_tms.consent.triggerAfterConsent = true;\n         wap_tms.consent.trigger();\n       }\n     };\n     window.addEventListener('consent.onetrust', function (e) {\n       if (wap_tms.consent.vendor.oneTrust.bannerClosed) {\n         wap_tms.consent.vendor.oneTrust.bannerClosed = false;\n         return;\n       }\n       wap_tms.consent.object.isUsingDefault = false;\n       wap_tms.consent.object.convertAndSave(onConsentGiven);\n     });\n     var handleAction = function (eventId) {\n       switch (eventId) {\n         case 'onetrust-accept-btn-handler':    // Accept All from banner\n         case 'accept-recommended-btn-handler': // Accept All from popup\n           wap_tms.consent.eventsHandler.track('accept_all');           \n           break;\n         case 'onetrust-pc-btn-handler': // Manage Cookie Settings from banner\n           wap_tms.consent.components.popup.init();\n           wap_tms.consent.eventsHandler.track('manage_cookies_banner');\n           break;\n         case 'ot-pc-refuse-all-handler': // Decline from banner\n         case 'onetrust-reject-all-handler': // Decline all from banner\n         case 'wap-custom-decline-all':   // Click on any part of the page for closing the banner\n           wap_tms.consent.eventsHandler.track('decline_all');           \n           break;\n         case 'save-preference-btn-handler': // Save from popup\n           setTimeout(function(){             \n             wap_tms.consent.eventsHandler.track('save', wap_tms.consent.object.toString() || 'empty');             \n           }, 1000);\n           break;\n         case 'ot-sdk-btn': // Manage Cookie Settings button (span)\n           wap_tms.consent.eventsHandler.track('manage_cookies_button');\n           break;\n       }\n     }\n     document.addEventListener('click', function (event) {       \n       var target = event.target;\n       var eventId = target.id || (target.classList.contains('ot-pc-refuse-all-handler') ? 'ot-pc-refuse-all-handler' : target.classList.contains('save-preference-btn-handler') ? 'save-preference-btn-handler' : '');\n       handleAction(eventId.trim());\n     }, true);\n   },\n   convertAndSaveWAP: function (saveWAPObjFn) { // TO-DO: delete\n     var consentObj = wap_tms.consent.vendor.oneTrust.getObject();\n     saveWAPObjFn(consentObj);\n   },\n   openPopup: function () {\n     setTimeout(() => {\n       OneTrust.ToggleInfoDisplay();  \n     }, 400); // delaying execution because of an issue.   \n   }\n };",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"/**\n * Extension: Cookies Consent - OneTrust Tag\n * Creates OneTrust tag for loading its libraries\n */\n\n// Setup OneTrust script settings\nif (utag_data.cookies_consent_enabled === 'true'){\nvar oneTrustKey = (_satellite.environment.stage !== 'production' && (utag_data.cookies_consent_onr_key).indexOf('-test') < 0) ? utag_data.cookies_consent_onr_key + '-test' : utag_data.cookies_consent_onr_key;\n\nswitch (utag_data.cookies_consent_language || 'en') {\n  case 'ja-jp':\n  case 'pt-br':\n  case 'zh-tw':\n  case 'en-au':\n  case 'en-in':\n  case 'en-ie':\n  case 'en-ca':\n  case 'zh-cn':\n    wap_tms.consent.oneTrustLangCode = utag_data.cookies_consent_language;\n    break;\n  case 'en-xa':\n    wap_tms.consent.oneTrustLangCode = 'en-sg';\n    break;\n  case 'uk-en':\n    wap_tms.consent.oneTrustLangCode = 'en-gb';\n    break;\n  default: // es, en, it, pl, etc\n    wap_tms.consent.oneTrustLangCode = (utag_data.cookies_consent_language).split('-')[0];\n}\n\n// Well known locals\nvar enabledOneTrustLangsCode = [\n  'de', 'en', 'es', 'fr', 'he', 'id', 'it', 'ko', 'pl', 'pt',\n  'ru', 'th', 'tr', 'vi', 'zh', 'en-gb', 'ja-jp', 'pt-br', 'zh-tw',\n  'en-sg', 'en-au', 'en-in', 'en-ie', 'en-ca', 'zh-cn'\n];\n\n// Fallback: if configured local is not known use en by default\nif (enabledOneTrustLangsCode.indexOf(wap_tms.consent.oneTrustLangCode) < 0) {\n  wap_tms.consent.oneTrustLangCode = 'en';\n}\n\n// Takes the location UDO and converts it to Upper. It uses US by default\nvar oneTrustLocation = (utag_data.wa_location || 'us').toUpperCase();\n\n// If location is UK change it to GB because it's the one OneTrust uses\nif (oneTrustLocation === 'UK') {\n  oneTrustLocation = 'GB';\n}\n\n// When Ip location is enable, this will use the user's country configuration\nif (utag_data.cookies_consent_ip_detection_enabled === 'true' && utag_data.wa_geolocation_country) {\n  oneTrustLocation = utag_data.wa_geolocation_country;\n}\n\n// Setup OneTrust location\nwindow.OneTrust = {\n  geolocationResponse: {\n    countryCode: oneTrustLocation\n  }\n};\n\n// Create and append OneTrust script tag\nvar newScript = document.createElement('script');\nnewScript.src = 'https://cdn.cookielaw.org/scripttemplates/otSDKStub.js';\nnewScript.setAttribute('data-language', wap_tms.consent.oneTrustLangCode); // Setup OneTrust language\nnewScript.setAttribute('type', 'text/javascript');\nnewScript.setAttribute('charset', 'UTF-8');\nnewScript.setAttribute('data-domain-script', oneTrustKey); // Setup OneTrust key\ndocument.head.appendChild(newScript); // Append to DOM head\n\nfunction OptanonWrapper() { }  \n}\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"/**\n * Extension: Cookies Consent - Cookies Consent - Init\n *\n */\n\n// Inits Cookies Consent tool when library loads\nif (utag_data.cookies_consent_enabled === 'true') {\n  wap_tms.custom.executeCallbackWhen({\n    when: () => {\n      return !!wap_tms.consent.vendor && (wap_tms.consent.vendor.oneTrust.getObject() !== null);\n    },\n    callback: () => {\n      // Setup default consent if WAP consent object not exists and calls utag.view() for triggering tags for enabled categories\n      wap_tms.consent.object.convertAndSave(); // Save Optanon Cookie or default content in local Storage      \n      wap_tms.consent.init(); // trigger Cookies Consent is ready event         \n      wap_tms.consent.vendor.oneTrust.init(); // Look if #manageCookies is present      \n      wap_tms.consent.eventsHandler.init(); // Track events for banner\n    }\n  });\n} else {\n  wap_tms.consent.object.convertAndSave(); // Save Optanon Cookie or default content in local Storage\n  wap_tms.consent.init(); // trigger Cookies Consent is ready event \n}\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"// Checks if user has closed the banner, if explicit consent, needs to wait for 'optanonalertboxclosed' cookie, otherwise cookies consent is ready.\nutag_data.cookies_consent_is_user_configured = wap_tms.custom.getCookie('OptanonAlertBoxClosed') || !utag_data.wa_explicitConsentCountryList.includes(utag_data.wa_geolocation_country.toLowerCase() || (wap_tms?.custom?.ipDetection?.information?.country.toLowerCase() || 'us'))  ? 'true' : 'false';\n\nif (utag_data.cookies_consent_is_user_configured === 'true') {\n  document.dispatchEvent(new CustomEvent('wapEvent', { detail: 'consent:ready' }));  \n}\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\nswitch (utag_data.wa_local) {\n  case 'id-id':\n    utag_data.cookies_consent_manage_cookies_translation = 'Kelola Pengaturan Cookie';\n    break;\n  case 'jp-ja':\n    utag_data.cookies_consent_manage_cookies_translation = 'Cookie\u8a2d\u5b9a\u306e\u7ba1\u7406';\n    break;\n  case 'kr-ko':\n    utag_data.cookies_consent_manage_cookies_translation = '\ucfe0\ud0a4 \uc124\uc815 \uad00\ub9ac';\n    break;  \n  case 'cn-zh':\n    utag_data.cookies_consent_manage_cookies_translation = '\u7ba1\u7406Cookie\u8bbe\u7f6e';\n    break;  \n  case 'tw-zh':\n    utag_data.cookies_consent_manage_cookies_translation = '\u7ba1\u7406Cookie\u8a2d\u7f6e';\n    break;  \n  case 'th-th':\n    utag_data.cookies_consent_manage_cookies_translation = '\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e04\u0e38\u0e01\u0e01\u0e35\u0e49';\n    break;  \n  case 'vn-vi':\n    utag_data.cookies_consent_manage_cookies_translation = 'Qu\u1ea3n l\xfd c\xe0i \u0111\u1eb7t cookie';\n    break;  \n  case 'fr-fr':\n    utag_data.cookies_consent_manage_cookies_translation = 'G\xe9rer les param\xe8tres des cookies';\n    break;  \n  case 'de-de':\n    utag_data.cookies_consent_manage_cookies_translation = 'Cookie-Einstellungen verwalten';\n    break;  \n  case 'it-it':\n    utag_data.cookies_consent_manage_cookies_translation = 'Gestisci le impostazioni dei cookie';\n    break;  \n  case 'pl-pl':\n    utag_data.cookies_consent_manage_cookies_translation = 'Zarz\u0105dzaj ustawieniami plik\xf3w cookie';\n    break;  \n  case 'ru-ru':\n    utag_data.cookies_consent_manage_cookies_translation = '\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 \u0444\u0430\u0439\u043b\u043e\u0432 cookie';\n    break;  \n  case 'es-es':\n    utag_data.cookies_consent_manage_cookies_translation = 'Administrar la configuraci\xf3n de cookies';\n    break;  \n  case 'tr-tr':\n    utag_data.cookies_consent_manage_cookies_translation = '\xc7erez Ayarlar\u0131n\u0131 Y\xf6netin';\n    break;  \n  case 'xl-es':\n    utag_data.cookies_consent_manage_cookies_translation = 'Administrar la configuraci\xf3n de cookies';\n    break;  \n  case 'br-pt':\n    utag_data.cookies_consent_manage_cookies_translation = 'Gerenciar configura\xe7\xf5es de cookies';\n    break;  \n  case 'il-he':\n    utag_data.cookies_consent_manage_cookies_translation = '\u05e0\u05d4\u05dc \u05d0\u05ea \u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05d4\u05e2\u05d5\u05d2\u05d9\u05d5\u05ea';\n    break;  \n  case 'ca-fr':\n    utag_data.cookies_consent_manage_cookies_translation = 'G\xe9rer les param\xe8tres des cookies';\n    break;  \n  default: \n    utag_data.cookies_consent_manage_cookies_translation = 'Manage Cookies Settings';\n}\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/**\n * Extension: Cookies Consent - Show Manage Cookies Button\n * Creates and appends \"Manage Cookies Settings\" button\n */\nif (location.pathname.includes('/privacy/intel-cookie-notice.html') || location.pathname.includes('/content/dam/www/global/wap/will-test/intel-cookie-notice-adobetags.html')) {\n  // Create button element and insert it before end of <body>\n  document.body.insertAdjacentHTML('beforeend', '<button id=\"ot-sdk-btn\" style=\"visibility: hidden\" class=\"ot-sdk-show-settings\"></button>');\n\n  // Creates styles tags for previous button\n  wap_tms.custom.addStyleTag('#ot-sdk-btn', ['position:fixed !important', 'bottom: 0.5em !important', 'right: 0.5em !important', 'background-color: #0071C5 !important', 'border: 1px solid #0071C5 !important', 'color: #fff !important', 'font-weight: bold !important']);\n  wap_tms.custom.addStyleTag('#ot-sdk-btn:hover, #ot-sdk-btn:focus', ['opacity: 0.7']);\n\n  // Creates MutationObserver for override button label translation once OneTrust add their own label (in english)\n  var targetNode = document.getElementById('ot-sdk-btn');\n  var observerOptions = {\n    childList: true,\n    attributes: false,\n    subtree: false\n  }\n  var observer = new MutationObserver(function(){\n    setTimeout(function(){\n      // cookies_consent_manage_cookies_translation setup in \"Cookies Consent - Tweaks - Manage Cookies Button Translations\" extension\n      targetNode.innerHTML = utag_data.cookies_consent_manage_cookies_translation;\n      targetNode.style.visibility = 'visible';\n    }, 100);\n    observer.disconnect();\n  });\n  observer.observe(targetNode, observerOptions);\n\n  // Sends the button behind the OneTrust banner and overlay when they exists\n  wap_tms.custom.executeCallbackWhen({\n    'when': function (){\n      return (!!wap_tms.consent.vendor.oneTrust && wap_tms.consent.vendor.oneTrust.isActive());\n    },\n    'callback': function () {\n      var bannerEle = document.getElementById('onetrust-banner-sdk');\n      var hiddenOverlay = document.querySelector('.onetrust-pc-dark-filter.ot-hide.ot-fade-in');\n      if (bannerEle && hiddenOverlay) {\n        hiddenOverlay.style.zIndex = '2147483645';\n        hiddenOverlay.classList.remove('ot-hide');\n      }\n    }\n  });  \n}\n",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RLeb1b64c7f8964979a455dfcc5d4d0cbe",name:"100 - [Library Loaded] - [RC] - Geo: ASMO-NA Actions",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%GEO%",rightOperand:"asmo-na"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(() => { //set target properties\n  switch (true) {\n    case wap_tms.qs.targetTest !== undefined:\n    case utag_data.wa_page_url?.includes('utcqcontent.cps.intel.com'):\n      utag_data.target_at_property = 'ab7de09f-34ea-58e1-fe05-32f69d435f59';\n      break;\n    case utag_data.wa_page_url?.includes('/programmable'):\n    case utag_data.wa_programidentifier === 'psg':\n      utag_data.target_at_property = '7dc418cf-2a59-3ba5-0df4-10380cb8a532';\n      break;\n    case utag_data.wa_page_url?.includes('test'):\n    case wap_tms.qs.targetTest !== undefined:\n    case utag_data.wa_page_url?.includes('wap01.amr.corp.intel.com'):\n    case utag_data.wa_page_url?.includes('spearce-mobl1.amr.corp.intel.com'):\n    case utag_data.wa_page_url?.includes('nbifano-mobl.amr.corp.intel.com'):\n    case utag_data.wa_page_url?.includes('dvillane-mac02.amr.corp.intel.com'):\n    case utag_data.wa_page_url?.includes('wcm-ciqa.intel.com'):\n      utag_data.target_at_property = '1c22feb6-172d-2bda-75dc-01fef242b07e';\n      break;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(() => {\n   if (utag_data.wa_page_url.includes('https://www.intel.com/content/www/us/en/support/intel-driver-support-assistant.html')) {\n    utag_data.load_eloqua = false;\n   }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(()=>{\n  if (utag_data.wa_section.includes('intc')) {\n    utag_data.load_survey = true;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"utag_data.target_load = 'true';\nutag_data.target_kpi = 'none';\nutag_data.target_params_page = 'wa_login';\nutag_data.target_params_profile = '';\nutag_data.target_params_entity = '';\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(()=>{\n  if (utag_data.wa_page_name !== undefined) {\n    utag_data.rec_entity_id = utag_data.wa_page_name;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(() => {\n  if (utag_data.wa_page_url.includes('/content/www/us/en/homepage.html')) {\n    utag_data.target_load = 'true';\n    utag_data.target_kpi = 'none';\n    utag_data.target_params_page = 'wa_login,wa_internal_user';\n    utag_data.target_params_profile = '';\n    utag_data.target_params_entity = '';\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(()=>{\n  if (wap_tms.qs?.wap?.includes('test')) {\n    utag_data.chat_salesforce_env = 'dev';\n  } else {\n     utag_data.chat_salesforce_env = 'prod';\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(()=>{\n  utag_data.bk_campaign_id = (location.search.indexOf('cid') >= 0) ? (utag_data.wa_page_url + '?' + wap_tms.cleanPii(location.search)) : utag_data.wa_page_url;\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(() => {\n  if (\n    //SEJ Offering\n    utag_data.wa_page_url.includes('/partner-alliance/sales-enablement/') ||\n    utag_data.wa_page_url.includes('/test/ipa-prod-test/') ||\n    //MP Offering\n    utag_data.wa_page_url.includes('/content/dam/www/global/wap/target-test/v1/whisky_lake_english.html') ||\n    utag_data.wa_page_url.includes('/content/dam/www/global/wap/target-test/v1/apollo_lake_english.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/edge-computing/edge-cloud.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/internet-of-things/iot-solutions/pos/future-of-point-of-sale.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/manufacturing/machine-vision.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/products/solutions/iot.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/internet-of-things/industrial-iot/industrial-pc.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/internet-of-things/market-ready-solutions/market-ready-solutions.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/architecture-and-technology/intel-select-solutions-overview.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/products/devices-systems/laptops.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/products/devices-systems/laptops/2-in-1s.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/products/devices-systems/desktops.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/products/devices-systems/desktops/all-in-ones.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/products/devices-systems/desktops/mini-pcs.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/products/solutions/iot.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/products/devices-systems/tablets.html') ||\n    utag_data.wa_page_url.includes('/content/www/us/en/products/network-io.html') ||\n    utag_data.wa_page_url.includes('/content/dam/www/mglobal/wap/target-test/v1/2-in-1s_us.html')\n  ) {\n    utag_data.wa_anonymous_key = utag_data.wa_geo;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(()=>{\n  setTimeout(function () {\n  var searchInput = document.querySelector('input[data-wap_type=\"search-keyword\"]');\n  if (searchInput) {\n    searchInput.addEventListener('keypress', function (event) {\n      if (event.keyCode === 13) {\n        var value = this.value;\n        setTimeout(function(){\n          wap_tms.aaTrack.callbacks.search('keyword', {\n            component: 'content-table',\n            componentId: '1',\n            keyword: value,\n            totalResults: document.querySelector('.content-table-results-info__results').innerText.replace(' Results', '')\n          });\n        }, 1000);\n      }\n    });\n  }\n\n}, 1000);\n})();\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(() => {\n  if (utag_data.wa_page_url.startsWith('https://ark.intel.com/')) {\n    try {\n      var pdtStatus = '';\n      if ($('ul.specs-list li span[data-key=StatusCodeText]').length > 0) {\n        pdtStatus = $.trim($('ul.specs-list li span[data-key=StatusCodeText]').html()).toLowerCase();\n        utag_data.wa_zone = pdtStatus;\n      }\n    } catch (error) {\n      utag_data.wa_zone = '';\n    }\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(() => {\n  if (utag_data.wa_page_url.startsWith('https://ark.intel.com/')) {\n    try {\n      var selectors = ['#tech-specs-spoke .hub-content-wrap #techSpecs .tech-section:first .row:nth-child(3) .mobileRow:nth-child(2) .col-xs-6:nth-child(2)', '#specs-1-0-0 > div:nth-child(6) > .tech-data > span'];\n      var pdtStatus = '';\n      for (var i = 0; i < selectors.length; ++i) {\n        var element = $(selectors[i]);\n        if (element.length > 0) {\n          pdtStatus = $.trim(element.html()).toLowerCase();\n          break;\n        }\n      }\n      utag_data.wa_zone = pdtStatus;\n    } catch (error) {\n      utag_data.wa_zone = '';\n    }\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RLf47d1b967adc4c5abf68a17e2322474f",name:"55 - ['wapEvent': 'survey:ready'] - [RC] - Survey",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:55}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"survey:ready"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC37f0d0fa7ea7472aa1329db0763e21fb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCd4448f6dee5b4b93bfbd464a90c3f340-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC6e9b51c9072e4f1a8f05798708aa396e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd234a4bd828a4df886dc450d2c55770f",name:"100 -  [wapEvent consent:ready] - [ASMO-NA] Zeta Pixel - Digital Transformation",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:100}],
conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page URL%",rightOperand:"intel.com/content/www/us/en/now/xeon-accelerated/digital-transformation.html"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCc325edef0f7042119a745567cf7a5c49-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5ae2b624023c4f47b2cc55f25338fbc9",name:"03 - [Library Loaded] - [RC] - Data Layer wrapper",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:3}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'(()=>{window.adobeDataLayer=window.adobeDataLayer||[];const e="wapPageView",t="wapDataLayer",n="~",s="pageView",a="payload:";let o=[],r={};adobeDataLayer.add=((e,t,n,s)=>{"function"==typeof e?o.push(e):o.push({event:e,hit:t,page:n,next:s})});const i=t=>{document.removeEventListener(e,i),adobeDataLayer.add=((e,t,s,a)=>{"function"==typeof e?adobeDataLayer.push(e):adobeDataLayer.push({event:e||n,eventInfo:{hit:t,page:s,next:a,time:Date.now()}})});const a=o.findIndex(({event:e})=>e===s);let r=[...o];a>0&&(r=[].concat(r.slice(0,a).filter(e=>"function"==typeof e||!e.event)).concat([r[a]]).concat(r.slice(0,a).filter(e=>"function"!=typeof e&&!!e.event)).concat(r.slice(a+1)));for(let e of r)if("function"==typeof e)adobeDataLayer.add(e);else{const{event:t,hit:n,page:s,next:a}=e;adobeDataLayer.add(t,n,s,a)}};document.addEventListener(e,i);const v=e=>e||null,p=e=>{for(const t in e)null===e[t]?delete e[t]:"object"==typeof e[t]&&p(e[t]);return e},c=(e,t,s)=>{const{hit:o,page:i,next:p}={...t},c={event:`${a} ${e}`,eventInfo:{},...s};if(o){const t=e!==n?{...r,...o}:o;Object.keys(t).forEach(e=>{const n=e.toLowerCase();n.startsWith("evar")?(c.eventInfo.eVars=c.eventInfo.eVars||{},c.eventInfo.eVars[`eVar${e.substring(4)}`]=v(t[e])):n.startsWith("prop")?(c.eventInfo.props=c.eventInfo.props||{},c.eventInfo.props[`prop${e.substring(4)}`]=v(t[e])):n.startsWith("event")?(c.eventInfo.events=c.eventInfo.events||{},c.eventInfo.events[`event${e.substring(5)}`]=v(t[e])):n.startsWith("list")?(c.eventInfo.lists=c.eventInfo.lists||{},c.eventInfo.lists[`list${e.substring(4)}`]=v(t[e])):c.eventInfo[e]=v(t[e])})}i&&Object.keys(i).forEach(e=>{const t=e.toLowerCase();t.startsWith("evar")?(c.eVars=c.eVars||{},c.eVars[`eVar${e.substring(4)}`]=v(i[e])):t.startsWith("prop")?(c.props=c.props||{},c.props[`prop${e.substring(4)}`]=v(i[e])):t.startsWith("event")?(c.events=c.events||{},c.events[`event${e.substring(5)}`]=i[e]):t.startsWith("list")?(c.lists=c.lists||{},c.lists[`list${e.substring(4)}`]=i[e]):c[e]=v(i[e])});const f=p||{};return r=e!==n?f:{...r,...f},c},f=(e,s)=>{const{event:o,eventInfo:r}=e,i=s.getState();if(i.eVars=i.eVars||{},i.props=i.props||{},i.events=i.events||{},!o.startsWith(a)){const e=c(o,r,i);((e,s)=>{const{event:a,eventInfo:o,...r}=s;if(e!==n){const n={eventType:e,hit:p({...o}),page:p({...r})};document.dispatchEvent(new CustomEvent(t,{detail:n}))}})(o,e),s.push(e)}};adobeDataLayer.push(e=>{e.addEventListener("adobeDataLayer:event",t=>f({...t},e))})})();',language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL7a0bd9d4c34541c3b46298fef9f768b8",name:"15 - ['wapEvent'; 'consent:ready'] - [RC] - Real User Monitoring",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:15}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCfd1486068024498d9f64be159078cda0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL74d533329c454dc283af395a9e680420",name:"100 -  [wapEvent consent:ready] - [ASMO-NA] Zeta Pixel - Intel Brand Primary Landing Page",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page URL%",rightOperand:"intel.com/content/www/us/en/company-overview/wonderful/deepfake-detection.html"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC8b1248c6617941858946d279faaa5fa3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL68191bfa479941678c3e910048e06d69",name:"100 - DOM Ready - [RC] - [EMEA] LinkedIn Insight Tag 633241",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%GEO%",rightOperand:"emea"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return utag_data.wa_page_name.includes("/content/www/uk/en/now/edge-to-cloud/team-gb-swimming-powered-by-xeon-article-1.html")||utag_data.wa_page_name.includes("/content/www/uk/en/architecture-and-technology/software-guard-extensions.html")||utag_data.wa_page_name.includes("/content/www/uk/en/now/edge-to-cloud/ai.html")||utag_data.wa_page_name.includes("/content/www/uk/en/now/edge-to-cloud/overview.html")||utag_data.wa_page_name.includes("/content/www/uk/en/architecture-and-technology/software-guard-extensions.html")||utag_data.wa_page_name.includes("/content/www/uk/en/cloud-computing/top-reasons-for-cloud-guide.html")||utag_data.wa_page_name.includes("/content/www/uk/en/cloud-computing/top-reasons-for-cloud-guide.html")||utag_data.wa_page_name.includes("/content/www/uk/en/artificial-intelligence/documents/push-to-start-ai-snapshot.html")||utag_data.wa_page_name.includes("/content/www/uk/en/security/critical-need-for-confidential-computing-report.html")||utag_data.wa_page_name.includes("/content/www/fr/fr/now/your-data-on-intel/perspectives/confidential-computing.html")||utag_data.wa_page_name.includes("/content/www/fr/fr/now/your-data-on-intel/perspectives/edge-computing.html")||utag_data.wa_page_name.includes("/content/www/fr/fr/now/your-data-on-intel/perspectives/hyperconverged-clouds.html")||utag_data.wa_page_name.includes("/content/www/fr/fr/now/your-data-on-intel/perspectives/hybrid-cloud.html")||utag_data.wa_page_name.includes("/content/www/de/de/now/edge-to-cloud/overview.html")||utag_data.wa_page_name.includes("/content/www/de/de/cloud-computing/top-clouds-whitepaper.html")||utag_data.wa_page_name.includes("/content/www/de/de/cloud-computing/resources/sap-covid.html")||utag_data.wa_page_name.includes("/content/www/de/de/cloud-computing/resources/elektronische-patientenakte-aok.html")||utag_data.wa_page_name.includes("/content/www/de/de/cloud-computing/resources/edge-to-cloud-ki-infrastruktur.html")||utag_data.wa_page_name.includes("/content/www/de/de/artificial-intelligence/resources/ki-erleichtert-praxisalltag.html")||utag_data.wa_page_name.includes("/content/www/de/de/communications/opportunities-and-challenges-in-the-public-cloud.html")||utag_data.wa_page_name.includes("/content/www/de/de/edge-computing/overview.html")||utag_data.wa_page_name.includes("/content/www/de/de/cloud-computing/top-reasons-for-cloud-guide.html")||utag_data.wa_page_name.includes("/content/www/de/de/architecture-and-technology/software-guard-extensions.html")||utag_data.wa_page_name.includes("/content/www/de/de/artificial-intelligence/documents/push-to-start-ai-snapshot.html")||utag_data.wa_page_name.includes("/content/www/de/de/communications/5g-edge-to-cloud-security-guide.html")||utag_data.wa_page_name.includes("/content/www/de/de/edge-computing/overview.html")}},timeout:2e3}],actions:[{modulePath:"linkedin/src/lib/actions/loadInsightTag.js",settings:{},timeout:8e3,delayNext:!0}]},{id:"RL72b8944c526045f38758dc4fe3836e6d",name:"45 - ['wapEvent': 'websdk:ready'] - [RC] - Target custom components",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"target:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!window.wap_tms?.consent?.isCategoryEnabled("functional")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCf2870be28b0e4d7ebdb285a1e5a4e072-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL82f25d038ba54bfb9a30d139bc524411",name:"100 -  [wapEvent consent:ready] - [ASMO-NA] Zeta Pixel - Xeon Accelerated Solutions",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page URL%",rightOperand:"intel.com/content/www/us/en/now/xeon-accelerated/solutions.html"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCad21ce9c87904f62b694885646e642ca-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL88c7237bd6474014b653049a38f3e16b",name:"100 - [Library Loaded] - [RC] - Geo: APJ Actions",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%GEO%",rightOperand:"apj"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(() => { //set target properties\n  switch (true) {\n    case utag_data.wa_page_url?.includes('/programmable'):\n    case utag_data.wa_programidentifier === 'psg':\n      utag_data.target_at_property = '7dc418cf-2a59-3ba5-0df4-10380cb8a532';\n      break;\n    case utag_data.wa_page_url?.includes('test'):\n    case wap_tms.qs.targetTest !== undefined:\n      utag_data.target_at_property = '1c22feb6-172d-2bda-75dc-01fef242b07e';\n      break;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"if (utag_data.wa_section){\n  utag_data.load_survey = 'true';\n}",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"utag_data.target_load = 'true';\nutag_data.target_kpi = 'none';\nutag_data.target_params_page = 'wa_login';\nutag_data.target_params_profile = '';\nutag_data.target_params_entity = '';",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(()=>{\n  if (utag_data.wa_page_name !== undefined) {\n    utag_data.rec_entity_id = utag_data.wa_page_name;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(() => {\n  switch (true) {\n    case utag_data.wa_page_url?.includes('/content/dam/www/global/wap/target-test/v1/'):\n    case utag_data.wa_page_url?.includes('/content/dam/www/global/wap/target-test/v2/'):\n    case utag_data.wa_page_url?.includes('/jp/ja/manufacturing/machine-vision.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/internet-of-things/industrial-iot/industrial-pc.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/internet-of-things/iot-solutions/pos/future-of-point-of-sale.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/edge-computing/edge-cloud.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/architecture-and-technology/intel-select-solutions-overview.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/laptops.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/laptops/2-in-1s.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/desktops.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/desktops/all-in-ones.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/desktops/mini-pcs.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/solutions/iot.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/tablets.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/network-io.html'):\n      utag_data.wa_anonymous_key1 = utag_data.wa_geo;\n      break;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"if (utag_data.wa_page_url.startsWith('https://ark.intel.com/')){\n  utag_data.wa_zone = (function() { try { var pdtStatus = ''; if ($('ul.specs-list li span[data-key=StatusCodeText]').length > 0) { pdtStatus = $.trim($('ul.specs-list li span[data-key=StatusCodeText]').html()).toLowerCase(); return pdtStatus; } } catch (error) { return ''; } }());\n}",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"if (utag_data.wa_page_url.indexOf('/products/') > -1){\n  utag_data.wa_zone = (function () {   try {     var selectors = [       '#tech-specs-spoke .hub-content-wrap #techSpecs .tech-section:first .row:nth-child(3) .mobileRow:nth-child(2) .col-xs-6:nth-child(2)',       '#specs-1-0-0 > div:nth-child(6) > .tech-data > span'     ];     var pdtStatus = '';     for (var i = 0; i < selectors.length; ++i) {       var element = $(selectors[i]);       if (element.length > 0) {         pdtStatus = $.trim(element.html()).toLowerCase();         break;       }     }     return pdtStatus;   } catch (error) {     return '';   } }());\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL56a0153f6bb74901aedeb88415eb6cc9",name:"100 -  [wapEvent consent:ready] - [ASMO-NA] Zeta Pixel - Intel Brand Secondary Landing Page ",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page URL%",rightOperand:"intel.com/content/www/us/en/company-overview/wonderful/detect-deepfakes.html"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC82d866262a2d42d9916924566ab4eafc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa700b11f5596464483ff7db6002d4d58",name:"100 - [Library Loaded] - [RC] - Geo: ASMO-LAR actions",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%GEO%",rightOperand:"asmo-lar"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(() => { //set target properties\n  switch (true) {\n    case utag_data.wa_page_name?.includes('/programmable'):\n    case utag_data.wa_local === 'br-pt':\n      utag_data.target_at_property = '1f2d4d91-2cdc-b99e-79e8-ddf78512a007';\n      break;\n    case utag_data.wa_page_url?.includes('test'):\n    case wap_tms.qs.targetTest !== undefined:\n    case location.hostname.includes('wcm-ciqa.intel.com'):\n      utag_data.target_at_property = '1c22feb6-172d-2bda-75dc-01fef242b07e';\n      break;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"if (utag_data.wa_section){\n  utag_data.load_survey = 'true';\n}",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"utag_data.target_load = 'true';\nutag_data.target_kpi = 'none';\nutag_data.target_params_page = '';\nutag_data.target_params_profile = '';\nutag_data.target_params_entity = '';",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(()=>{\n  if (utag_data.wa_page_name !== undefined) {\n    utag_data.rec_entity_id = utag_data.wa_page_name;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(() => {\n  if (utag_data.wa_page_url.includes('/content/www/xl/es/secure/technology-provider/overview.html')) {\n    utag_data.target_load = 'true';\n    utag_data.target_kpi = 'none';\n    utag_data.target_params_page = '';\n    utag_data.target_params_profile = 'wa_cquser_pointsapproved';\n    utag_data.target_params_entity = '';\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(() => {\n  switch (true) {\n    case utag_data.wa_page_url?.includes('/content/dam/www/global/wap/target-test/v1/'):\n    case utag_data.wa_page_url?.includes('/content/dam/www/global/wap/target-test/v2/'):\n    case utag_data.wa_page_url?.includes('/jp/ja/manufacturing/machine-vision.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/internet-of-things/industrial-iot/industrial-pc.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/internet-of-things/iot-solutions/pos/future-of-point-of-sale.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/edge-computing/edge-cloud.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/architecture-and-technology/intel-select-solutions-overview.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/laptops.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/laptops/2-in-1s.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/desktops.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/desktops/all-in-ones.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/desktops/mini-pcs.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/solutions/iot.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/devices-systems/tablets.html'):\n    case utag_data.wa_page_url?.includes('/jp/ja/products/network-io.html'):\n      utag_data.wa_anonymous_key1 = utag_data.wa_geo;\n      break;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"if (utag_data.wa_page_url.startsWith('https://ark.intel.com/')){\n  utag_data.wa_zone = (function() { try { var pdtStatus = ''; if ($('ul.specs-list li span[data-key=StatusCodeText]').length > 0) { pdtStatus = $.trim($('ul.specs-list li span[data-key=StatusCodeText]').html()).toLowerCase(); return pdtStatus; } } catch (error) { return ''; } }());\n}",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"if (utag_data.wa_page_url.indexOf('/products/') > -1){\n  utag_data.wa_zone = (function () {   try {     var selectors = [       '#tech-specs-spoke .hub-content-wrap #techSpecs .tech-section:first .row:nth-child(3) .mobileRow:nth-child(2) .col-xs-6:nth-child(2)',       '#specs-1-0-0 > div:nth-child(6) > .tech-data > span'     ];     var pdtStatus = '';     for (var i = 0; i < selectors.length; ++i) {       var element = $(selectors[i]);       if (element.length > 0) {         pdtStatus = $.trim(element.html()).toLowerCase();         break;       }     }     return pdtStatus;   } catch (error) {     return '';   } }());\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RLda15c06ad6e741c5b118c0a1c0269988",name:"04 - [Library Loaded] - [RC] - Page View",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:4}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if(location.search?.includes('debugger') && location.search?.includes('storage')) {\n  debugger;\n}\n/**\n  * Storage object used to manage session storage and cookies\n  * In order to reference the utag_main cookie fields, use the variable wap_tms.storage.utag_main[fieldName]\n  * In order to reference cookies outside of utag main, use wap_tms.storage.utag_main[cookieName]\n  * If a cookie may have been loaded after this action executes, first run wap_tms.storage.refresh() before referencing the value\n  */\n wap_tms.storage = {\n   getStorageObject: () => {},\n   setStorageObject: () => {},\n   getCookie: () => {},\n   setCookie: () => {},\n   getUtagObject: () => {},\n   setUtagField: () => {},\n   refresh: () => {},\n   cookieRef: {},\n   utag_main: {}\n };\n /**\n  * Convert a string to an object (key/value pairs)\n  * @param {string} str - Original string\n  * @param {string} sep - Separator of items (key/value)\n  * @param {string} kvs - Key/Value separator (default: '=')\n  * @returns Object with key/value pair items\n  */\n wap_tms.custom.getObjectFromString = (str, sep, kvs = '=', decode=true) => {\n   const obj = {};\n   str.split(sep).forEach((kv) => {\n     const [k, ...v] = kv.trim().split(kvs);\n     if (k && v) {\n        if (decode) {\n          obj[decodeURIComponent(k)] = decodeURIComponent(v.join(kvs));\n        } else {\n          obj[k] = v.join(kvs);\n        }\n     }\n   });\n   return obj;\n };\n\n /**\n  * Parses an object from a storage, defaults to local storage\n  * @param {string} name - Name of object in storage\n  * @param {string} delimiter - storage location of item\n  * @returns Object with key/value pair inside of storage object | null if does not exists or is not an object\n  */\n wap_tms.storage.getStorageObject = (name, storage) => {\n   if (!name) {\n     return null;\n   }\n   if (storage === 'session') {\n     return JSON.parse(sessionStorage.getItem(name));\n   }\n   return JSON.parse(localStorage.getItem(name));\n };\n\n /**\n  * Parses an object from a storage, defaults to local storage\n  * @param {string} name - Name of object in storage\n  * @param {string} delimiter - storage location of item\n  * @returns Stringified object | null if is not an object\n  */\n wap_tms.storage.setStorageObject = (name, obj, storage) => {\n   if (!name || typeof obj !== 'object') {\n     return null;\n   }\n   obj = JSON.stringify(obj);\n   if (storage === 'session') {\n     sessionStorage.setItem(name, obj);\n   } else {\n     localStorage.setItem(name, obj);\n   }\n   return obj;\n };\n\n /**\n  * //Tags: cookie\n  * @param {string}  name   The cookie name\n  * @param {boolean} decode Whether or not to uri decode the cookie\n  * @returns The cookie value or null if cookie doesn't exist\n  */\n wap_tms.storage.getCookie = function (name, decode = true) {\n   const cookies = document.cookie.split('; ');\n   for (var i = 0; i < cookies.length; ++i) {\n     if (cookies[i].startsWith(name)) {\n       return decode ? decodeURIComponent(cookies[i].substring(cookies[i].indexOf('=') + 1)) : cookies[i].substring(cookies[i].indexOf('=') + 1);\n     }\n   }\n   return null;\n };\n\n /** //Tags: cookie\n  * Creates a cookie\n  * @param {string} name           The cookie name\n  * @param {string} value          The cookie value\n  * @param {int}    [daysToExpire] Expiration for the cookie. 365 days by default\n  * @param {string} [domain]       The domain where cookie will be created. Current domain without www by default\n  */\n wap_tms.storage.setCookie = function (params) {\n  let {name, value, daysToExpire, domain, encode=true} = params;\n   if (!daysToExpire) {\n     daysToExpire = 365;\n   }\n   if (!domain) {\n     domain = (window.location.hostname).replace('www', '');\n   }\n   const date = new Date();\n   date.setTime(date.getTime() + (daysToExpire * 24 * 60 * 60 * 1000));\n   const expires = 'expires=' + date.toUTCString();\n   value = encode ? encodeURIComponent(value) : value;\n   document.cookie = name + '=' + value + ';secure;' + expires + ';path=/;' + '; domain=' + domain;\n   wap_tms.storage.cookieRef = wap_tms.storage.cookieRef || wap_tms.custom.getObjectFromString(document.cookie, '; ');\n   wap_tms.storage.cookieRef[name] = value;\n };\n\n\n /** Retrieves the utag_main cookie in object format\n  * \n  * @returns Object utag_main\n  */\n wap_tms.storage.getUtagObject = () => {\n   const utagSessionObj = wap_tms.storage.getStorageObject('utag_main', 'session') || {};\n   wap_tms.storage.utag_main = wap_tms.custom.getObjectFromString((wap_tms.storage.cookieRef?.utag_main?.replaceAll(';', '%3B') || ''), '$', ':', false);\n   wap_tms.storage.cookieRef.utag_main = '';\n\n   //delete all session expiration objects\n   Object.entries(wap_tms.storage.utag_main).forEach(([key, value]) => {\n     if (value.includes('%3Bexp-session') && !utagSessionObj?.oldSession) {\n       delete wap_tms.storage.utag_main[key];\n     } else {\n      wap_tms.storage.cookieRef.utag_main += `${key}:${value}$`;\n     }\n   });\n   wap_tms.storage.cookieRef.utag_main = wap_tms.storage.cookieRef.utag_main.slice(0, -1)?.replaceAll(';', '%3B');\n   utagSessionObj.oldSession = true;\n   wap_tms.storage.setStorageObject('utag_main', utagSessionObj, 'session');\n   wap_tms.storage.dumpUtag();\n   return wap_tms.storage.utag_main;\n };\n\n /**\n  * Sets a field in the utag_main cookie and stores the result in the document.cookie\n  * @param {string} name - Name of field\n  * @param {string} value - Key/Value separator (default: '=')\n  * @returns Object with key/value pair items | empty string if value is not set/null\n  */\n wap_tms.storage.setUtagField = (name, value) => {\n   if (typeof value === 'undefined' || value === null) {\n     return '';\n   }\n   value  = value.toString();\n   wap_tms.storage.utag_main[name] = value?.replace(';', '%3B') || '';\n   wap_tms.storage.cookieRef.utag_main = '';\n   Object.entries(wap_tms.storage.utag_main).forEach(([key, value]) => {\n     wap_tms.storage.cookieRef.utag_main += `${key}:${value}$`;\n   });\n   wap_tms.storage.cookieRef.utag_main = wap_tms.storage.cookieRef.utag_main.slice(0, -1)?.replaceAll(';', '%3B');\n   return wap_tms.storage.dumpUtag();\n };\n\n /**\n  * Dumps the utag main cookie to storage\n  * @returns stringified utag_main cookie\n  */\n wap_tms.storage.dumpUtag = () => {\n  wap_tms.storage.setCookie({\n    name: 'utag_main',\n    value: wap_tms.storage.cookieRef.utag_main,\n    encode: false\n  });\n  return wap_tms.storage.cookieRef.utag_main;\n };\n\n /**\n  * Initializes the cookie reference and utag main values\n  */\n wap_tms.storage.refresh = () => {\n   wap_tms.storage.cookieRef = wap_tms.custom.getObjectFromString(document.cookie, '; ');\n   wap_tms.storage.utag_main = wap_tms.storage.getUtagObject();\n };\n wap_tms.storage.refresh();\n",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:"(() => {\n  const toUTF8Array = (str) => { // https://gist.github.com/lihnux/2aa4a6f5a9170974f6aa#gistcomment-2763620\n    let utf8 = [];\n    const length = str.length;\n    for (let i = 0; i < length; ++i) {\n      let charcode = str.charCodeAt(i);\n      if (charcode < 0x80) {\n        utf8.push(charcode);\n      } else if (charcode < 0x800) {\n        utf8.push(0xc0 | (charcode >> 6), 0x80 | (charcode & 0x3f));\n      } else if (charcode < 0xd800 || charcode >= 0xe000) {\n        utf8.push(0xe0 | (charcode >> 12), 0x80 | ((charcode >> 6) & 0x3f), 0x80 | (charcode & 0x3f));\n      } else {\n        i++;\n        charcode = 0x10000 + (((charcode & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\n        utf8.push(0xf0 | (charcode >> 18), 0x80 | ((charcode >> 12) & 0x3f), 0x80 | ((charcode >> 6) & 0x3f), 0x80 | (charcode & 0x3f));\n      }\n    }\n    return utf8;\n  }\n\n  window.wap_tms = window.wap_tms || {};\n\n  window.wap_tms.detectAdBlocker = async () => {\n    if (!utag_data.ad_block_sent) {\n      utag_data.ad_block_sent = 1;\n      let adBlocker = sessionStorage.getItem('waCheck');\n      const adCallSent = adBlocker !== null;\n      adBlocker = adBlocker === undefined ? 0 : Number(adBlocker);\n  \n      if (!adCallSent) {\n        const adUrl = utag_data.wa_local === 'cn-zh' ? 'https://hm.baidu.com/hm.js' : 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';\n        try {\n          const response = await fetch(adUrl, {\n            method: 'HEAD',\n            mode: 'no-cors',\n          });\n          adBlocker = response.redirected;\n        } catch (e) {\n          adBlocker = 1;\n        }\n        sessionStorage.setItem('waCheck', Number(adBlocker));\n        wap_tms.storage.setUtagField('ad_blocker', Number(adBlocker));\n      }\n      utag_data.ad_blocker = Boolean(adBlocker);\n      if (adBlocker) {\n        try {\n          let cc = 'xx';\n          let cs = 'xx';\n          if (window.wap_tms?.custom?.ipDetection?.information) {\n            cc = wap_tms.custom.ipDetection.information.country;\n            cs = wap_tms.custom.ipDetection.information.state || cs;\n          }\n          let p = location.hostname + location.pathname;\n          p = encodeURIComponent(p.replaceAll('.', ',').replaceAll('/', '|').toLowerCase());\n          const c = Math.floor(10000000 + Math.random() * 90000000);\n          const b = navigator.brave && navigator.brave.isBrave && (await navigator.brave.isBrave()) ? 1 : 0;\n          const url = 'https://www.intel.com/content/dam/www/global/wap/cdn/wap.gif?c=' + c + '&t=1' + '&b=' + b + '&cc=' + cc + '&cs=' + cs + '&p=' + p;\n          await fetch(url);\n        } catch (e) {}\n      }\n      return utag_data.ad_blocker;\n    }\n  }\n\n  wap_tms.udoMapping = {\n    wa_geo: {\n      eVar: '1',\n      prop: '1'\n    },\n    wa_local: {\n      eVar: '2',\n      prop: '2'\n    },\n    wa_section: {\n      eVar: '3',\n      prop: '3',\n      channel: ''\n    },\n    wa_site_id: {\n      eVar: '4',\n      prop: '4'\n    },\n    wa_org2: {\n      eVar: '5',\n      prop: '5'\n    },\n    wa_org3: {\n      eVar: '6',\n      prop: '6'\n    },\n    wa_org4: {\n      eVar: '7',\n      prop: '7'\n    },\n    wa_org5: {\n      eVar: '8',\n      prop: '8'\n    },\n    wa_org6: {\n      eVar: '9',\n      prop: '9'\n    },\n    wa_org7: {\n      eVar: '10',\n      prop: '10'\n    },\n    wa_org8: {\n      eVar: '11',\n      prop: '11'\n    },\n    wa_campaign: {\n      eVar: '21',\n      prop: '21'\n    },\n    wa_login: {\n      eVar: '22',\n      prop: '22'\n    },\n    wa_program_level: {\n      eVar: '23',\n      prop: '23'\n    },\n    wa_user_type: {\n      eVar: '24',\n      prop: '24'\n    },\n    wa_aid: {\n      eVar: '25'\n    },\n    wa_crid: {\n      eVar: '26'\n    },\n    wa_plid: {\n      eVar: '27'\n    },\n    wa_sid: {\n      eVar: '28'\n    },\n    wa_mid: {\n      eVar: '29'\n    },\n    wa_elq_id_short: {\n      eVar: '30'\n    },\n    wa_erpm_id: {\n      eVar: '31'\n    },\n    wa_erpm_org_id: {\n      eVar: '32'\n    },\n    wp_post_tags: {\n      eVar: '33',\n      prop: '25'\n    },\n    wa_page_name: {\n      eVar: '36',\n      prop: '26',\n      pageName: '',\n    },\n    wa_page_url: {\n      eVar: '35'\n    },\n    wa_campaign_cid: {\n      campaign: ''\n    },\n    wa_amc_id: {\n      eVar: '34'\n    },\n    doc_referrer: {\n      eVar: '37',\n      prop: '27'\n    },\n    doc_domain: {\n      server: ''\n    },\n    wa_onresearch_id: {\n      eVar: '51'\n    },\n    wa_client_id: {\n      eVar: '52'\n    },\n    wa_membership_group: {\n      eVar: '53',\n      list: '1'\n    },\n    wa_elq_id: {\n      eVar: '54'\n    },\n    wa_topic: {\n      eVar: '57',\n      prop: '43'\n    },\n    wa_programidentifier: {\n      eVar: '60'\n    },\n    wa_cquser_coverage_type: {\n      eVar: '61'\n    },\n    wa_page_type_micro: {\n      eVar: '64',\n      prop: '47'\n    },\n    wa_page_type_macro: {\n      eVar: '65',\n      prop: '48'\n    },\n    wa_aam_profile_id: {\n      eVar: '66'\n    },\n    dnb_status: {\n      eVar: '70'\n    },\n    dnb_duns: {\n      eVar: '71'\n    },\n    dnb_company: {\n      eVar: '72'\n    },\n    dnb_zip: {\n      eVar: '73'\n    },\n    dnb_ultimateduns: {\n      eVar: '74'\n    },\n    dnb_naicscode: {\n      eVar: '75'\n    },\n    dnb_naicsdescription: {\n      eVar: '76'\n    },\n    dnb_siccode: {\n      eVar: '77'\n    },\n    dnb_sicdescription: {\n      eVar: '78'\n    },\n    dnb_itexpense: {\n      eVar: '79'\n    },\n    dnb_jobfunction: {\n      eVar: '81'\n    },\n    dnb_jobseniority: {\n      eVar: '80'\n    },\n    content_ter_initiative: {\n      eVar: '18',\n      prop: '18'\n    },\n    wa_master_account_id: {\n      eVar: '90'\n    },\n    wa_org9: {\n      eVar: '91',\n      prop: '52'\n    },\n    elq_industry: {\n      eVar: '92'\n    },\n    elq_marketing_audience: {\n      eVar: '93'\n    },\n    elq_company_size: {\n      eVar: '94'\n    },\n    elq_country: {\n      eVar: '95'\n    },\n    elq_job_function: {\n      eVar: '96'\n    },\n    wa_intel_technology: {\n      eVar: '97'\n    },\n    wa_system_type: {\n      eVar: '98'\n    },\n    wa_intel_platform: {\n      eVar: '99'\n    },\n    wa_internal_search_referrer: {\n      eVar: '100'\n    },\n    wa_rwd: {\n      eVar: '102'\n    },\n    wa_transl_status: {\n      eVar: '103'\n    },\n    wa_author: {\n      eVar: '104'\n    },\n    wa_reference_design: {\n      eVar: '105'\n    },\n    wa_custom_content_group: {\n      eVar: '106'\n    },\n    target_cookie: {\n      eVar: '107'\n    },\n    wa_page_id: {\n      eVar: '110'\n    },\n    wa_os: {\n      eVar: '111'\n    },\n    wa_program_lang: {\n      eVar: '112'\n    },\n    wa_software: {\n      eVar: '113'\n    },\n    search_keyword: {\n      eVar: '118'\n    },\n    wa_renewal_status: {\n      eVar: '119'\n    },\n    wa_google_click_id: {\n      eVar: '122'\n    },\n    dnb_country: {\n      eVar: '120'\n    },\n    wa_google_click_type: {\n      eVar: '123'\n    },\n    wa_zone: {\n      eVar: '62'\n    },\n    wa_english_title: {\n      eVar: '63'\n    },\n    element_header_version: {\n      eVar: '134'\n    },\n    element_header_chosen: {\n      eVar: '135'\n    },\n    element_header_subnav: {\n      eVar: '136'\n    },\n    element_header_geo: {\n      eVar: '137'\n    },\n    element_footer_chosen: {\n      eVar: '138'\n    },\n    element_header_render: {\n      eVar: '139'\n    },\n    element_header_locale: {\n      eVar: '140'\n    },\n    wa_prod_org_level: {\n      eVar: '145',\n      prop: '58'\n    },\n    wa_target_audience: {\n      eVar: '55',\n      prop: '41'\n    },\n    doc_title: {\n      eVar: '147'\n    },\n    wa_language_code: {\n      eVar: '146'\n    },\n    wa_dcm_click_id: {\n      eVar: '148'\n    },\n    wa_snm: {\n      eVar: '149'\n    },\n    wa_asset_id: {\n      eVar: '151'\n    },\n    wa_industry_type: {\n      eVar: '152'\n    },\n    wa_partner_prog: {\n      eVar: '23',\n      prop: '23'\n    },\n    wa_partner_type: {\n      eVar: '153'\n    },\n    wa_audience: {\n      eVar: '55'\n    },\n    wa_biz_size: {\n      eVar: '154'\n    },\n    wa_emt_org: {\n      eVar: '155'\n    },\n    wa_product_name: {\n      eVar: '156',\n      prop: '61'\n    },\n    wa_emt_intel: {\n      eVar: '157'\n    },\n    wa_elqrid: {\n      eVar: '167'\n    },\n    wa_elqcampid: {\n      eVar: '166'\n    },\n    wa_page_last_modified: {\n      eVar: '165'\n    },\n    wa_offering_id: {\n      eVar: '162'\n    },\n    wa_mda_id: {\n      eVar: '163'\n    },\n    wa_campid: {\n      eVar: '164'\n    },\n    wa_idz_custom_tags: {\n      eVar: '125',\n      prop: '60'\n    },\n    wa_skill_level: {\n      eVar: '127'\n    },\n    wa_solution: {\n      eVar: '126'\n    },\n    wa_third_party_prod_sys_sol: {\n      eVar: '128'\n    },\n    wa_epm_id: {\n      eVar: '130'\n    },\n    wa_elqEmailId: {\n      eVar: '172'\n    },\n    wa_elqCampId: {\n      eVar: '173'\n    },\n    wa_clicktale_id: {\n      eVar: '82'\n    },\n    wa_emtcontenttype: {\n      eVar: '133',\n      prop: '65'\n    },\n    wa_6sense_company_name: {\n      eVar: '175'\n    },\n    wa_6sense_company_address: {\n      eVar: '176'\n    },\n    wa_6sense_company_sicnaics: {\n      eVar: '177'\n    },\n    wa_kickfire_company_name: {\n      eVar: '178'\n    },\n    wa_kickfire_company_address: {\n      eVar: '179'\n    },\n    wa_kickfire_company_sicnaics: {\n      eVar: '180'\n    },\n    wa_kickfire_company_connection: {\n      eVar: '181'\n    },\n    wa_ownedby: {\n      eVar: '183'\n    },\n    wa_epm_id_src: {\n      eVar: '20'\n    },\n    wa_primarycontenttagging: {\n      eVar: '184'\n    },\n    wa_contentformat: {\n      eVar: '185'\n    },\n    wa_platformcodenames: {\n      eVar: '186'\n    },\n    wa_geography: {\n      eVar: '187'\n    },\n    wa_application: {\n      eVar: '188'\n    },\n    wa_curated: {\n      eVar: '50'\n    },\n    wa_custom_user_id: {\n      eVar: '182'\n    },\n    wa_doc_id: {\n      eVar: '197'\n    },\n    wa_doc_version: {\n      eVar: '198'\n    },\n    wa_doc_publishdate: {\n      eVar: '199'\n    },\n    wa_cookies_consent_browser_policy: {\n      eVar: '161'\n    },\n    wa_geolocation_country: {\n      eVar: '189'\n    },\n    wa_instanceregion: {\n      prop: '70',\n      eVar: '200'\n    },\n    wa_project: {\n      eVar: '132'\n    }\n  };\n\n  document.addEventListener('wapPage', async ({ detail }) => {\n    const { page, hit } = detail;\n    window.wap_tms = window.wap_tms || {};\n    if (location.search.includes('debugger') && location.search.includes('pageView')) {\n      debugger;\n    }\n   \n\n    //do mapping of UDO -> page vars\n    Object.keys(wap_tms.udoMapping).forEach((key) => {\n      if (utag_data[ key ]) {\n        Object.keys(wap_tms.udoMapping[ key ]).forEach((dim) => {\n          switch (dim) {\n            case 'prop':\n            case 'eVar':\n            case 'list':{\n              let val = utag_data[ key ];\n              if (dim === 'eVar') {\n                val = /20|52|29|54|122|146|148/.test(wap_tms.udoMapping[ key ][ dim ]) ? val : val.toLowerCase();\n              } else if (dim ==='prop') {\n                val = /20/.test(wap_tms.udoMapping[ key ][ dim ]) ? val : val.toLowerCase();\n              }\n              page[ `${dim}${wap_tms.udoMapping[ key ][ dim ]}` ] = val;\n              break;}\n            default:\n              page[ dim ] = utag_data[ key ]?.toLowerCase();\n          }\n        })\n      }\n    });\n\n    wap_tms.version.set('adobetags');\n    wap_tms.version.set(_satellite.property.name.replace(/\\s/g, \"\"));\n    wap_tms.version.set(_satellite.buildInfo.buildDate);\n    page.eVar59 = page.prop44 = wap_tms.version.set('wa_profile:' + utag_data.wa_profile);\n    \n    //configure map and send page view\n    page.pageURL = page.eVar58 ? `${page.eVar35}${page.eVar58}` : page.eVar35;\n    hit.event1 = 1;\n    hit.event62 = 1;\n    hit.prodView = 1;\n    if (tmsGetParamByName('cid')) {\n      hit.event2 = 1;\n    }\n    if (tmsGetParamByName('wapkw')) {\n      hit.event56 = 1;\n    }\n    if (utag_data.target_load == \"true\") {\n      hit.event77 = 1;\n    }\n    if (wa_doc?.referrer && !(/intel\\./.test(wa_doc.referrer.getHostDomain()))) {\n      hit.event92 = 1;\n    }\n    if (navigator.globalPrivacyControl) {\n      hit.event145 = 1;\n    }\n    if (navigator.doNotTrack === '1') {\n      hit.event146 = 1;\n    }\n    \n    if (await wap_tms.detectAdBlocker()) {\n      hit.event130 = 1;\n    }\n    utag_data.wa_elqEmailId = tmsGetParamByName('em_id'); //eVar172\n    utag_data.wa_elqCampId = tmsGetParamByName('elqcampid'); //eVar173\n    const emailContent = tmsGetParamByName('em_content');\n    if (emailContent) {\n      hit.event102 = 1;\n      const parts = emailContent.split('!');\n      let content, slot, entity_clicked;\n      parts.forEach(function (part) {\n        if (part) {\n          const k_v = part.split('_');\n          switch (k_v[ 0 ]) {\n            case \"n\":\n              content = k_v[ 1 ];\n              break;\n            case \"s\":\n              slot = k_v[ 1 ];\n              break;\n            case \"id\":\n              entity_clicked = k_v[ 1 ];\n              break;\n          }\n        }\n      });\n      page.eVar158 = wap_tms.getContentName(content);\n      if (slot) {\n        page.eVar159 = slot;\n      }\n      page.eVar160 = utag_data.wa_page_url;\n      if (entity_clicked) {\n        page.eVar168 = entity_clicked;\n      }\n    }\n    page.eVar42 = page.prop32 = page.eVar42 || page.prop32 || wap_tms.events.dmfpoints.pageload.name;\n    hit.event62 = hit.event62 || wap_tms.events.dmfpoints.pageload.val;\n    page.eVar117 = page.eVar117 || hit.eVar117;\n    page.eVar59 = page.prop44 = page.eVar59 || '';\n    page.eVar62 = page.prop45 = page.eVar62 || utag_data.wa_zone || '';\n    page.eVar58 = page.eVar58 || wap_tms.getQuerystring();\n    page.eVar117 = page.eVar117 || (utag_data.wa_internal_user ? utag_data.wa_internal_user : 'false');\n\n    const EVAR_MAX = 255;\n    const PROP_MAX = 100;\n    const SUB_STRING = 4;\n    let variables = [];\n    const obj = { ...hit, ...page };\n    Object.keys(obj).forEach((key) => {\n      const lower = key.toLowerCase();\n      if (lower.startsWith('evar')) {\n        const evar = obj[key];\n        const id = key.substring(SUB_STRING);\n        typeof (evar) === 'string' && toUTF8Array(evar).length > EVAR_MAX ? variables.push(`v${id}`) : null;\n      } else if (lower.startsWith('prop')) {\n        const prop = obj[key];\n        const id = key.substring(SUB_STRING);\n        typeof (prop) === 'string' && toUTF8Array(prop).length > PROP_MAX ? variables.push(`p${id}`) : null;\n      }\n    });\n    const count = variables.length;\n    if (count > 0) {\n      hit.event103 = count;\n      hit.prop63 = variables.join(',');\n    }\n\n    //page view function\n    if (window.wapVirtualParams) {\n      window.ga_auto_fire = false;\n    }\n\n    if (window.ga_auto_fire === false) {\n      window.ga_auto_fire = null;\n      window.adobeDataLayer.add('', {}, page);\n      if (window.wapVirtualParams) {\n        wap_tms.custom.trackGaVirtualPageView(...window.wapVirtualParams);\n      }\n    } else {\n      window.adobeDataLayer.add('pageView', hit, page);\n    }\n  });\n\n  \n  const webSdkHandler = async ({ detail }) => {\n    if (detail === 'websdk:ready') {\n      document.removeEventListener('wapEvent', webSdkHandler);\n      document.dispatchEvent(new CustomEvent('wapPageView'));\n    }\n  }\n  document.addEventListener('wapEvent', webSdkHandler);\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:"(()=>{\n  document.addEventListener('wapCqDone', ({detail}) => {\n    const {page, hit} = detail;\n    if (location.search.includes('debugger') && location.search.includes('gt')) {\n      debugger;\n    }\n    //Global tag\n    //~~tv:7110.20140501\n    //~~tc: Adding support for Display Advertising Features. Adding list of cross-domain tracking domains from tag config.\n\n    //tags: ga deprecate\n    const wap_ga = {}; //object for GA script usage\n    wap_ga.config = {}; //config settings & functions\n    wap_ga.campaign = {}; //campaign settings & functions\n    //*********************************************************************************************\n    //* Config                                                                                    *\n    //*********************************************************************************************\n    \n    wap_ga.win = window;\n    wap_ga.env = (typeof wa_env !== 'undefined') ? wa_env : true; //if wa_env is set we use that value otherwise set to 'true' when publishing to production, and 'false' when testing in pre-prod;\n    wap_ga.scroll = (typeof waTrackScroll !== 'undefined') ? waTrackScroll : true; //if set to true then enable scroll tracking, default = true\n    wap_ga.pagename = (typeof ga_page_name !== 'undefined') ? ga_page_name : '';\n    window.ga_auto_fire = (typeof window.ga_auto_fire !== 'undefined') ? window.ga_auto_fire : (typeof wapSinglePage !== 'undefined') ? !wapSinglePage : true;\n    wap_ga.location = (typeof ga_page_location !== 'undefined') ? ga_page_location : '';\n    wap_ga.allowhash = typeof(wapSinglePage) !== 'undefined' ? wapSinglePage : false; //configure ga page to capture hash as part of URL, default is false\n    wap_ga.avoidEventBeforePageView = true; // Delay hits so we can avoid sessions issue\n    wap_ga.delayedHits = (typeof ga_delayed_hits !== 'undefined') ? ga_delayed_hits : false; //optional: if set to true then GA hits could be sent with a delay.\n\n    wap_ga.name = (typeof ga_trackerName !== 'undefined') ? 'gawap' : 'gawap'; //unique GA tracker object reference to avoid conflicts w/ other GA impelementations\n\n    wap_ga.pageViewTracked = false;\n    wap_ga.registrationFormName = 'false';\n    wap_ga.campaign = ( tmsGetParamByName('cid') ||  tmsGetParamByName('eid') || '') ? true : false; //check if click came from a paid campaign\n\n    wap_ga.config.campaign = function () {\n      if ( tmsGetParamByName('utm_campaign')) {\n        wap_ga.campaign = false;\n      } //if utm_source param found set to 'false' so we can use utm params exactly as set\n      if ( tmsGetParamByName('dclid')) {\n        wap_ga.campaign = false;\n      } //don't manual tag camapign if DoubleClick auto-tagging found\n      if ( tmsGetParamByName('gclid')) {\n        wap_ga.campaign = false;\n      } //don't manual tag camapign if AdWords auto-tagging found\n    //set querystring cid value to Campaign ID (cd107)\n      var errorType = 'campaign.other:',\n        error = '',\n        errorVal = '',\n        errorwapkw = ( tmsGetParamByName('wapkw')) ? 'internal search hard-coded,' : '';\n      var errordouble = (/\\?(.*)\\?/.test(window.location)) ? 'illegal double ? in querystring,' : '';\n\n      hit.eVar43 = hit.prop33 = 'load:page:std';\n\n\n      //Error tracking\n      //SEM\n      if ( tmsGetParamByName('cid') ||  tmsGetParamByName('gclid')) {\n        //SEM Adwords\n        if ( tmsGetParamByName('gclid')) {\n          errorType = 'campaign.sem.google:';\n          error += ( tmsGetParamByName('cid')) ? '' : 'no campaign id,';\n          error += ( tmsGetParamByName('utm')) ? 'manual tagging with auto-tagging,' : '';\n        } else { //Other\n          errorType = 'campaign.sem.other:';\n          error += ( tmsGetParamByName('utm')) ? '' : 'no utm tagging,';\n        }\n        error += errorwapkw + errordouble\n      }\n\n      //DCM error tracking\n      if ( tmsGetParamByName('dfaid') ||  tmsGetParamByName('dclid')) {\n        errorType = 'campaign.dcm:';\n        error += ( tmsGetParamByName('dfaid')) ? '' : 'no dfaid,';\n        error += (/%/.test( tmsGetParamByName('dclid'))) ? '% encoding error,' : '';\n        error += ( tmsGetParamByName('dclid')) ? '' : 'no auto-tagging,';\n        error += ( tmsGetParamByName('utm')) ? 'manual tagging with auto-tagging,' : '';\n        error += errorwapkw + errordouble;\n      }\n\n      //capture campaign error\n      if (error != '') {\n        wap_tms.error.set(error, errorType);\n      }\n\n    };\n    wap_ga.config.pageErrors = function () {\n      var error = '',\n        errorType = 'page.load:';\n      error += (utag_data.wa_geo !== 'unassigned') ? '' : 'geo not set,';\n      error += (utag_data.wa_local !== 'unassigned') ? '' : 'local code not set,';\n      error += (utag_data.wa_section !== 'unassigned') ? '' : 'section not set,';\n      if (error != '') {\n        wap_tms.error.set(error, errorType);\n      }\n    };\n\n    wap_tms.custom.toUTF8Array = (str) => { // https://gist.github.com/lihnux/2aa4a6f5a9170974f6aa#gistcomment-2763620\n      let utf8 = [];\n      const length = str.length;\n      for (let i = 0; i < length; ++i) {\n        var charcode = str.charCodeAt(i);\n        if (charcode < 0x80) {\n          utf8.push(charcode);\n        } else if (charcode < 0x800) {\n          utf8.push(0xc0 | (charcode >> 6), 0x80 | (charcode & 0x3f));\n        } else if (charcode < 0xd800 || charcode >= 0xe000) {\n          utf8.push(0xe0 | (charcode >> 12), 0x80 | ((charcode >> 6) & 0x3f), 0x80 | (charcode & 0x3f));\n        } else {\n          i++;\n          charcode = 0x10000 + (((charcode & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\n          utf8.push(0xf0 | (charcode >> 18), 0x80 | ((charcode >> 12) & 0x3f), 0x80 | ((charcode >> 6) & 0x3f), 0x80 | (charcode & 0x3f));\n        }\n      }\n      return utf8;\n    }\n\n    wap_tms.custom.checkVariables = () => {\n      const EVAR_MAX = 255;\n      const PROP_MAX = 100;\n      let vars = [];\n      Object.keys(aa_payload.eVar).forEach((key) => {\n        const evar = aa_payload.eVar[key];\n        if (typeof (evar) === 'string' && wap_tms.custom.toUTF8Array(evar).length > EVAR_MAX) vars.push('v' + key.split(',')[0]);\n      });\n      Object.keys(aa_payload.prop).forEach((key) => {\n        const prop = aa_payload.prop[key];\n        if (typeof (prop) === 'string' && wap_tms.custom.toUTF8Array(prop).length > PROP_MAX) vars.push('p' + key.split(',')[0]);\n      });\n      const count = vars.length;\n      if (count > 0) {\n        hit.event103 = count;\n        hit.prop63 = vars.join(',');\n      }\n    }\n\n    ga_trackVideoJs = 'true'; //brightcove SWF looks for value to determine if we use JS tracking or Flash based tracking for videos **Don't REMOVE**\n\n    //Set Eloqua ID to persistent cookie\n\n    //tags: ga deprecate (check with scott on if this is needed he mentioned it may not be anymore) TODO check this\n    /*\n    wap_tms.eloqua.setcookie = function (id) {\n      var id = genContactIdShort(id),\n        id_ext = genContactId(id);\n      utag.loader.SC('utag_main', {\n        'elqid': id\n      }); \n      wap_tms.eloqua.id = id;\n      wap_tms.eloqua.id_ext = id_ext;\n    };\n    if (typeof utag_data.wa_elq_id_short !== 'undefined') {\n      wap_tms.eloqua.setcookie(utag_data.wa_elq_id_short);\n    }\n    */\n\n    let elqCookie = wap_tms.storage.utag_main;\n    wap_tms.eloqua.id = (elqCookie.elqid != undefined) ? elqCookie.elqid : ''; //short ID\n    wap_tms.eloqua.id_ext = genContactId(wap_tms.eloqua.id); //extended ID\n    if (wap_tms.eloqua.id !== '') {\n      utag_data.wa_elq_id = wap_tms.eloqua.id_ext;\n      utag_data.wa_elq_id_short = wap_tms.eloqua.id;\n    }\n    page.eVar54 = wap_tms.eloqua.id_ext;\n    page.eVar30 = wap_tms.eloqua.id;\n    //END\n\n    //*********************************************************************************************\n    //* Functions                                                                                 *\n    //*********************************************************************************************\n\n    //set page name\n    //tags: ga deprecate\n    wap_ga.config.pagename = function (virtualPage) {\n      virtualPage = (typeof virtualPage === 'undefined') ? location.pathname : virtualPage; //if undefined set to URL pathname\n      virtualPage = (virtualPage == '') ? location.pathname : virtualPage; //if blank set to URL pathname\n      virtualPage = (virtualPage.charAt(0) == '/') ? virtualPage : '/' + virtualPage; //check if path starts w/ forward slash, if not add (GA dp field requires)\n      var hash = virtualPage.split('#')[1] || location.hash;\n      virtualPage = virtualPage.split('?')[0].split('#')[0];\n      virtualPage = (wap_ga.allowhash) ? virtualPage + ('#' + hash) : virtualPage;\n      virtualPage = wap_tms.cleanPii(virtualPage, 'url'); //remove email if in URL\n      return virtualPage;\n    };\n\n\n\n    //track GA page views\n    window.trackGaPage = (virtualPage,  hitScope, pageScope) => {\n      const hit = hitScope ||  {};\n      const page = pageScope || {};\n      var trackAAPageView = (typeof virtualPage === 'string' && virtualPage !== '');\n      utag_data.wa_page_name = wap_ga.config.pagename(virtualPage); //set page name\n\n      var aao = { //field object\n        'event1': '1',\n        'event58': '1',\n        'eVar42': wap_tms.events.dmfpoints.pageload.name,\n        'prop32': wap_tms.events.dmfpoints.pageload.name,\n        'event62': wap_tms.events.dmfpoints.pageload.val,\n        'eVar117': 'false'\n      };\n\n      hit.event1 = '1';\n      hit.event58 = '1';\n      hit.event62 =  wap_tms.events.dmfpoints.pageload.val;\n\n      hit.eVar42  = hit.prop42 = wap_tms.events.dmfpoints.pageload.name;\n      hit.eVar117 = 'false';\n\n      \n      var qs = virtualPage.split('?')[1];\n      qs = qs ? ('?' + wap_tms.getQuerystring(qs)) : wap_tms.getQuerystring();\n      if (qs) {\n        hit.eVar58 = qs;\n      }\n\n      wap_ga.avoidEventBeforePageView = false;\n      if (trackAAPageView) {\n        document.dispatchEvent(new CustomEvent('wapPage', {\n          detail: {\n            page,\n            hit\n          }\n        }));\n      }\n    }\n\n    // Function to set parameters to the iframe\n    wap_tms.events.setIframeCampaigns = function (trackerName) {\n      var iframeUrl = (window.location != window.parent.location) ? document.referrer : document.location;\n      var isIframe = (window.location != window.parent.location) ? true : false;\n      if (isIframe && document.referrer.indexOf(document.location.host) == -1) {\n        var newDocumentLocation = document.location.origin + document.location.pathname; //+ document.location.search;\n        if (newDocumentLocation.indexOf('?') == -1) {\n          newDocumentLocation = newDocumentLocation + iframeUrl.substring(iframeUrl.indexOf('?'));\n        } else {\n          newDocumentLocation = newDocumentLocation + '&' + iframeUrl.substring(iframeUrl.indexOf('?') + 1);\n        }\n      }\n    }\n\n    //Function to set Native Campaigns\n    wap_tms.events.setNativeCampaigns = function (trackerName) {\n      var newDocumentLocation = document.location.origin + document.location.pathname + '?utm_source=' + tmsGetParamByName('utm_source').toLowerCase() + '&utm_medium=native&utm_campaign=native_referral' + (tmsGetParamByName('utm_term') ? '&utm_term=' + tmsGetParamByName('utm_term').toLowerCase() : '') + (tmsGetParamByName('utm_content') ? '&utm_content=' + tmsGetParamByName('utm_content').toLowerCase() : '');\n    }\n\n    //Function to set Native Referrer Campaigns\n    wap_tms.events.setNativeReferrerCampaigns = function (trackerName) {\n      var regexpReferrer = /(.*)?(outbrain|taboola|accuen|adnboost|buzzfeed|douban|wezeit|zol)(.*)?/;\n      var regexpMatching = regexpReferrer.exec(document.referrer);\n      var newDocumentLocation = document.location.origin + document.location.pathname + '?utm_source=' + regexpMatching[2].toLowerCase() + '&utm_medium=native&utm_campaign=native_referral' + (tmsGetParamByName('utm_term', document.referrer) ? '&utm_term=' + tmsGetParamByName('utm_term', document.referrer).toLowerCase() : '') + (tmsGetParamByName('utm_content', document.referrer) ? '&utm_content=' + tmsGetParamByName('utm_content', document.referrer).toLowerCase() : '');\n    }\n    //Function to check Native Campaigns\n    wap_tms.events.isNativeCampaignPresent = function () {\n      if (/(.*)?(utm_source=)(outbrain|taboola|accuen|adnboost|buzzfeed|douban|wezeit|zol)(.*)?/.test(document.location.href)) {\n        return true;\n      }\n      return false\n    }\n    //Function to check Native Referrer Campaigns\n    wap_tms.events.isNativeReferrerPresent = function () {\n      if (/(.*)?(outbrain|taboola|accuen|adnboost|buzzfeed|douban|wezeit|zol)(.*)?/.test(document.referrer)) {\n        return true;\n      }\n      return false\n    }\n\n    //track brightcove videos\n    //Tags: method to manually trigger video hit (useful for microsites)\n    function gaBrightCoveTracking(trackType, gaEventCategory, gaEventAction, gaEventLabel, gaVideoDuration) {\n      wap_tms.custom.video_duration = gaVideoDuration;\n      hit.eVar44 = hit.prop34 = 'brightcove:' + gaEventLabel.split(':')[2];\n      hit.eVar47 = hit.prop37 = 'flash';\n      hit.eVar45 = hit.prop35 = gaEventLabel.split(':')[2];\n      switch (gaEventAction) {\n        case 'video: share: link':\n        case 'video: share: embed':\n        case 'video: share: blog':\n        case 'video: share: email':\n          trackGaEvent(gaEventCategory, gaEventAction, gaEventLabel.split(':')[1]);\n        break;\n        case 'video: play':\n          trackGaEvent(gaEventCategory, gaEventAction, gaEventLabel.split(':')[1]);\n        break;\n        case 'video: 50% complete':\n          trackGaEvent(gaEventCategory, gaEventAction, gaEventLabel.split(':')[1]);\n        break;\n        case 'video: 100% complete':\n          trackGaEvent(gaEventCategory, gaEventAction, gaEventLabel.split(':')[1]);\n        break;\n        case 'video: 25% complete':\n        case 'video: 75% complete':\n        case 'video: 90% complete':\n        case 'video: 95% complete':\n        case 'video: fullscreen':\n          trackGaEvent(gaEventCategory, gaEventAction, gaEventLabel.split(':')[1]);\n        break;\n        }\n    }\n\n    function configGA() {\n      wap_ga.config.campaign();\n      wap_ga.config.pageErrors();\n    }\n\n    function checkCrossDomain() {\n      if (utag_data.enable_crossdomain == 'true' && !wap_tms.cross_domain_loaded) {\n        if (wap_tms.jquery.ver_1_7_plus || wap_tms.isjQueryAvailable) {\n          (function ($) {\n            wap_tms.cross_domain_loaded = true;\n            $('body').on('mousedown keydown', 'a', function (event) {\n              // Adding empty string at the end just in case the anchor \n              // doesn't have defined a href attribute. \n              // This will prevent the variable linkHref to get 'undefined' as its value.\n              let linkHref = decodeURIComponent($(this).attr('href') + '');\n              let linkHostName = wap_tms.extractHostname(linkHref).replace(/(.*)\\.intel/, '.intel');\n              wap_ga.config.appendlink = (/^https?:\\/\\//.test(linkHref));\n              wap_ga.config.appendlink = wap_ga.config.appendlink\n                && !(/(www\\.intelserveredge\\.com|japan\\.intel\\.com|appshowcase\\.intel\\.com)|((s-|b2b|())(download(()|center)\\.)((mcafee|nai)\\.com))/g.test(linkHref))\n                && !(/\\_ga\\=/.test(linkHref))\n                && !(/(.*)((#(.*)\\?)|(\\?(.*)#)|(\\?(.*)\\?))/g.test(linkHref))\n                && !(tms_domain.indexOf(linkHostName) > -1)\n                && (linkHostName.indexOf('.intel') > -1);\n              if (/(onsite2\\.researchintel\\.com)|(((buy|())(altera\\.co))|(rocketboards\\.org))/.test(linkHref)) {\n                wap_ga.config.appendlink = true;\n              }\n              wap_ga.config.appendlink = wap_ga.config.appendlink\n                && !(wap_tms.custom.isAsset(linkHref))\n                && !(/^ftp?:\\/\\//.test(linkHref));\n              if (wap_ga.config.appendlink) {\n                const now = Date.now();\n                if (utag_data.wa_elq_id_short) {\n                  linkHref = wap_tms.custom.updateUrlParameter(linkHref, 'elq_cid', utag_data.wa_elq_id_short + '_ts' + now);\n                }\n                if (utag_data.wa_erpm_id) {\n                  linkHref = wap_tms.custom.updateUrlParameter(linkHref, 'erpm_id', utag_data.wa_erpm_id + '_ts' + now);\n                }\n                $(this).attr('href', linkHref);\n              }\n            });\n          }($wap));\n        }\n      }\n    }\n\n    wap_tms.cross_domain_loaded = false; // Flag for load only once the cross domain solution\n    configGA(); //configure GA UA\n    checkCrossDomain();\n\n\n    //set some page scoped variables\n    try {\n      page.eVar58 = decodeURIComponent(location.search);\n    } catch (e) {\n      page.eVar58 = location.search;\n    };\n    page.eVar58 = wap_tms.cleanPii(page.eVar58, 'qs');\n    page.eVar101 = utag_data.user_agent.toLowerCase();\n    if ( tmsGetParamByName('wapkw')) {\n      page.eVar100  =  tmsGetParamByName('wapkw').toLowerCase();\n      page.event56 = '1';\n    } //track search results referal, look to see if wapkw is appended\n  \n\n\n    // Support PWA Page View hits called from React Router.\n    if (typeof cq_tms !== 'undefined' && cq_tms.wa_pwa === 'true') {\n      wap_tms.custom.dispatchUtagLoadedEvent();\n    }\n\n    //Tags: Need to keep this for tracking login errors\n    wap_tms.custom.trackLoginError = function (compName, path, details) {\n      const hit = {};\n      hit.eVar44 = hit.prop34 = details;\n      hit.event114 = '1';\n      trackGaEvent({\n        hit,\n        category: 'User Account Activity',\n        action: 'login: intel-error',\n        label: compName + ':parent:' + path,\n      });\n    };\n\n    //Check for internal users\n    wap_tms.identifyInternalUser();\n\n    var trackerName = ''; // WORKAROUND\n\n    if (utag_data.load_iframe_parameters == 'true') {\n      wap_tms.events.setIframeCampaigns(trackerName);\n    }\n    if (wap_tms.events.isNativeCampaignPresent()) {\n      wap_tms.utm_medium = 'native';\n      wap_tms.utm_campaign = 'native_referral';\n      wap_tms.events.setNativeCampaigns(trackerName);\n    } else if (wap_tms.events.isNativeReferrerPresent()) {\n      wap_tms.utm_source = tmsGetParamByName('utm_source', document.referrer) ? tmsGetParamByName('utm_source', document.referrer).toLowerCase() : 'NA';\n      wap_tms.utm_medium = 'native';\n      wap_tms.utm_term = tmsGetParamByName('utm_term', document.referrer) ? tmsGetParamByName('utm_term', document.referrer).toLowerCase() : 'NA';\n      wap_tms.utm_campaign = 'native_referral';\n      wap_tms.utm_content = tmsGetParamByName('utm_content', document.referrer) ? tmsGetParamByName('utm_content', document.referrer).toLowerCase() : 'NA';\n      wap_tms.events.setNativeReferrerCampaigns(trackerName);\n    }\n    if (utag_data.wa_campaign_cid || (wap_tms.utm_source && wap_tms.utm_source !== 'NA')) {\n      page.eVar29 = (utag_data.wa_campaign_cid ? utag_data.wa_campaign_cid : 'NA') + ':' + wap_tms.utm_source + ':' + wap_tms.utm_medium + ':' + wap_tms.utm_term + ':' + wap_tms.utm_campaign + ':' + wap_tms.utm_content;\n    }\n\n    wap_tms.ga_loaded = true; /* Flag for test for GA script loaded, DO NOT REMOVE = should be last line */\n\n    document.dispatchEvent(new CustomEvent('wapPage', {\n      detail: {\n        page,\n        hit\n      }\n    }));\n  });\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(() => {\n  document.addEventListener('wapCq', ({\n    detail\n  }) => {\n    const {\n      page,\n      hit\n    } = detail;\n    wap_tms.custom = wap_tms.custom || {};\n    wap_tms.custom.get404ReferrerParameter = function () {\n      var referrerParam = wap_tms.getQuerystring();\n      if (referrerParam.indexOf('?ref=') > -1) {\n        referrerParam = referrerParam.replace('?ref=', '');\n        hit.eVar17 = referrerParam;\n      }\n    }();\n\n    //to copy github downloads when a user copies and pastes on one api download page\n    const copyAnalyticsEvent = () => {\n      let copyCount = 0;\n      const copyInterval = setInterval(() => {\n        if (document.querySelectorAll('.text-to-copy').length > 0) {\n          document.querySelectorAll('.text-to-copy').forEach((element, index) => {\n            element.addEventListener('copy', (event) => {\n              wap_tms.aaTrack.callbacks.click(\n                'copy',\n                (index + 1).toString(),\n                window.getSelection().toString()\n              );\n            });\n          });\n          clearInterval(copyInterval);\n        }\n        ++copyCount;\n        if (copyCount == 20) {\n          clearInterval(copyInterval);\n        }\n      }, 250);\n    }\n    copyAnalyticsEvent();\n\n    const link = document.querySelector('link[rel=\"canonical\"]');\n    if (link) {\n      const href = link.getAttribute('href');\n      const regExp = /.+\\/content\\/www\\/([a-z]+)\\/([a-z]+)\\/download\\/(\\d+)\\/.+/;\n      if (regExp.test(href)) {\n        const MAPPING = {\n          'us-en': 'en',\n          'ca-fr': 'fr',\n          'tw-zh': 'tw',\n          'ru-ru': 'ru',\n          'br-pt': 'br',\n          'jp-ja': 'ja',\n          'kr-ko': 'ko',\n          'it-it': 'it',\n          'cn-zh': 'cn',\n          'au-en': 'en',\n          'id-id': 'id',\n          'fr-fr': 'fr',\n          'xl-es': 'xl',\n          'vn-vi': 'vn',\n          'ie-en': 'en',\n          'tr-tr': 'tr',\n          'ca-en': 'en',\n          'in-en': 'en',\n          'pl-pl': 'pl',\n          'uk-en': 'en',\n          'xa-en': 'en',\n          'th-th': 'th',\n          'de-de': 'de',\n          'es-es': 'es',\n          'il-he': 'il',\n        }\n        const match = regExp.exec(href);\n        const [url, location, language, id] = match;\n        if (url && location && language && id) {\n          const suffix = MAPPING[`${location}-${language}`]\n          if (suffix) {\n            utag_data.wa_asset_id = `${id}-dc-${suffix}`;\n          }\n        }\n      }\n    }\n\n    //This selector looks for the special attribute \"data-wap-chat\", if exist evaluates if is online or not according with the attribute's value.\n    if (!wap_tms.custom.chatObserver) {\n      wap_tms.custom.chatObserver = new MutationObserver(() => {\n        wap_tms.custom.tagStatus.onTagSent('analytics', () => {\n          wap_tms.chatElement = document.querySelector('[data-wap-chat]');\n          if (wap_tms.chatElement) {\n            wap_tms.custom.chatObserver.disconnect();\n            wap_tms.isChatEnable = wap_tms.chatElement.getAttribute('data-wap-chat');\n            wap_tms.isChatEnable === 'true' ? hit.event111 = '1' : hit.event112 = '1';\n          }\n        });\n      });\n\n      wap_tms.custom.chatObserver.observe(document.documentElement, {\n        subtree: true,\n        childList: true,\n        attributes: false\n      });\n    }\n    document.dispatchEvent(new CustomEvent('wapCqDone', {\n      detail: {\n        page,\n        hit\n      }\n    }));\n  });\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:"(()=>{\n  document.addEventListener('wapGlobal', ({detail}) => {\n    const {page, hit} = detail;\n    let {wa_pathObj} = detail.localVars;\n    if (location.search.includes('debugger') && location.search.includes('cq')) {\n      debugger;\n    }\n    //*********************************************************************************************\n    //* Extension: WAP CQ Profile Config - Pre-loader (2)                                           *\n    //*********************************************************************************************\n    // Change according to US510179 - Send IDZ AEM version data to Production report suite\n    if (/^\\/content\\/www\\/(.*)\\/develop\\/(.*)/.test(location.pathname)) {\n      wa_env = true;\n      utag_data.wa_env = wap_tms.env = cq_tms.env = 'prod';\n      utag_data.wa_section = 'ssg-intc';\n    }\n    \n    var ga_page_group = (/^\\/content\\/www\\//.test(location.pathname)) ? location.pathname.replace(/^\\/content\\/www\\/..\\/..\\//, \"/\") : location.pathname;\n    ga_page_group = (/^\\/content\\/m\\//.test(location.pathname)) ? location.pathname.replace(/^\\/content\\/m\\/..\\/..\\//, \"/\") : ga_page_group;\n    ga_page_group = ga_page_group.replace(/\\.html(.*)/, \".html\");\n    \n    \n    utag_data.wa_page_name_orig = wap_tms.stripSuffixFromPath(document.location.href);\n    window.wa_fireConversionTagPage = false, //flag (page-level) to determine if we need to fire conversion tag, i.e. DFA, etc.\n      window.wa_fireConversionTagLink = false, //flag (link-level) to determine if we need to fire conversion tag, i.e. DFA, etc.\n      window.linkInstanceId = \"\",\n      window.waCustomTracking = (typeof waCustomTracking !== \"undefined\") ? waCustomTracking : false, //check if page-level analyitcs solution is being used\n      window.waCustomVpsOverride = \"\",\n      window.waVpsOverride,\n      window.wa_trackOmniture = true, //cach s['trackOmniture'] for better performance\n      window.wa_trackGA = false, //don't track GA Classic\n      window.wa_TrackVps = true, //track vps by default, can override in wa_local obj config\n      window.wa_vpsVal, //cache s['vps'] for better performance\n      window.waAddEvents = \"\", //used to store additional SiteCat events\n      window.waVpsOverride = \"\", //used to override or add VPS using hashtag #vps=VPS-VALUE\n      window.wa_pageTypeMacro,\n      window.wa_localCode,\n      window.wa_loc,\n      window.wa_lang;\n    window.wapSearchTrackFlag = true;\n    window.wapRecentSearchFlag = false;\n    window.wa_filter_name = \"\";\n    window.wa_keyword = \"\";\n    window.wapCustomPH = [];\n    window.wapCustomArr = [];\n    window.wapCustomFired = false;\n    window.wapCustomCookieLessFired = false;\n    window.wa_doc = document;\n    \n    //*********************************************************************************************\n    //* Functions                                                                                 *\n    //*********************************************************************************************\n    \n    // Adding a readyState function to support PWA tracking of elements\n    // since previous $(document).ready() is not supported.\n    wap_tms.onReadyState = function(callback) {\n      if (document.readyState === 'complete' || (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\n        callback();\n      } else {\n        document.addEventListener('DOMContentLoaded', callback);\n      }\n    };\n    \n    wap_tms.custom.dispatchUtagLoadedEvent = () => {\n      let utagLoadedEvent = new Event('utag-loaded');\n      window.dispatchEvent(utagLoadedEvent);\n    };\n    \n    wap_tms.custom.removeArrayItem = function (arr, value) {\n      return arr.filter(function (ele) {\n        return ele !== value;\n      });\n    }\n    wap_tms.custom.includes = function (arr, value) {\n      var length = arr.length;\n      for (var i = 0; i < length; ++i) {\n        if (arr[i] === value) {\n          return true;\n        }\n      }\n      return false;\n    }\n    \n    // Function Communication Preferences\n    // subscribed = \"Education and Training,Industry Solutions\"\n    // noSubscribed = \"Newsletter,Product Updates\"\n    // TAGS: Not called in our codebase, possibly deprecate\n    wap_tms.globalSubscriptions = function (subscribed, noSuscribed, type) {\n      const hit = {};\n      hit.evar202 =  'globalSubscriptions';\n      hit.eVar45 = hit.prop35 = subscribed;\n      hit.eVar46 = hit.prop36 = noSuscribed;\n      trackGaEvent({\n        hit,\n        category:'Components',\n        action: `click: ${type}`,\n        label: 'confirm',\n      });\n    }\n    \n    //Function that gets all the classes being set by Modernizr scrip and send them to GA in cd148\n    \n    //Digital library search results\n    //TAGS: Google analytics code? Possibly deprecate\n    wap_tms.filterDigitalLibrary = function (filter, numberOfResults) {\n      const hit = {};\n      hit.evar202 =  'filterDigitalLibrary';\n      filter = filter.toLowerCase();\n      if (numberOfResults == 0) {\n        hit.event58  = hit.event58 = '1';\n      }\n      if (filter !== \"\") {\n        hit.eVar202 += '(if)';\n        trackGaEvent({\n          hit,\n          category:'Search',\n          action: 'search-results: filter',\n          label: `filter: ${filter}`,\n        });\n      } else {\n        hit.eVar202 += '(else)';\n        trackGaEvent({\n          hit,\n          category:'Search',\n          action: 'search-advanced: filter',\n          label: 'reset',\n        });\n      }\n    }\n    \n    wap_tms.refineFilter = function (filter, selected) {\n      filter = filter.toLowerCase();\n      const select = selected ? 'selected' : 'unselected';\n      trackGaEvent({\n          hit,\n          category:'Search',\n          action: 'search-results: filter',\n          label: `filter:${filter}:${select}`,\n      });\n    }\n    \n    //Digital Library search\n    function checkZeroSearchResultsDL(keyword, numberOfResults) {\n      const hit = {};\n      hit.evar202 =  'checkZeroSearchResultsDL';\n      var formatted = keyword ? keyword.toLowerCase() : keyword;\n      if (numberOfResults == 0) {\n        hit.event58 = '1';\n      }\n      hit.eVar48 = hit.prop38 = formatted;\n      trackGaPage(location.pathname, hit );\n    }\n    \n    \n    //main CQ link event handler code\n    function wapAttachEventHandler(selector) {\n      /*$(selector).delegate( \"a,img[data-wap],label,button[data-wap],input[data-wap]\",\"click\", function (event) {\n      wapMainEventHandler(this, event);\n      });*/\n      //re-attached event handler using passed jQuery selector\n      $(selector).on(\"click\", \"a,img[data-wap],label,button[data-wap],input[data-wap]\", function (event) {\n        wapMainEventHandler(this, event);\n      });\n      //Optional: jQuery event handlers can be set here based on pass selector value\n      /*switch(selector) {\n      case \"#content-library.wapwrapper\": //content library - re-attached search event handler\n      $('#clRes').click(function(e){waTrackReset('cl');});\n      break;\n      }*/\n    }\n    //TODO fix handler attaching\n    \n    \n    //TAGS: one liner - combine/deprecate\n    wap_tms.custom.sendProductSoftwareHit = function (reference, link) {\n      const hit = {};\n      hit.evar202 =  'sendProductSoftwareHit';\n      trackGaEvent({\n        hit,\n        category:'Components',\n        action: `click: ${reference}`,\n        label: link,\n      });\n    }\n    \n    //TAGS: one liner - combine/deprecate\n    wap_tms.custom.subscriptionCenterHit = function (reference, link) {\n      const hit = {};\n      hit.evar202 =  'subscriptionCenterHit';\n      trackGaEvent({\n        hit,\n        category:'Components',\n        action: `click: ${reference}`,\n        label: link,\n      });\n    }\n    \n    // TA1910527 - Track Search Components\n    wap_tms.custom.trackSearchFilter = function (compName, val, numResults) {\n      const hit = {};\n      hit.evar202 =  'trackSearchFilter';\n      const action = 'search-results: additional keyword';\n      if (numResults !== undefined) {\n        var numCheck = Number(numResults);\n        if (typeof numCheck === 'number') {\n          if (numCheck === 0) {\n            hit.event58  = hit.event58 = '1';\n          }\n          hit.eVar45 = hit.prop35 = 'results: ' + numCheck;\n        }\n      }\n      hit.event39 = '1';\n      hit.eVar44 = hit.prop34 = compName;\n      hit.eVar48 = val;\n      trackGaEvent({\n        hit,\n        action,\n        category:'Search',\n        label: val,\n      });\n    }\n    \n    wap_tms.pointSimulatorCallback = function (type, description, quantity) {\n      const hit = {};\n      hit.evar202 =  'pointSimulatorCallback';\n      hit.eVar44 = hit.prop33 = type;\n      hit.eVar45 = hit.prop35 = quantity;\n      trackGaEvent({\n        hit,\n        category:'Components',\n        action: 'click: point-simulator',\n        label: description,\n      });\n    }\n    \n    wap_tms.checkAndSetValue = function (objs, keys, val) {\n      if (val) {\n        if (Array.isArray(objs) && Array.isArray(keys) && objs.length === keys.length) {\n          for (var i in objs) {\n            objs[i][keys[i]] = val;\n          }\n        } else {\n          objs[keys] = val;\n        }\n      }\n    }\n    \n    \n    wap_tms.captureDigitalDownload = function (href, data) {\n      if (href && data) {\n        var targetParams = {\n          'entity.contentSource': 'download',\n          'entity.collections': 'aem-download-dl',\n          'entity.id2': href,\n        };\n        targetParams['entity.id'] = (typeof wap_tms.absHref !== 'undefined' && wap_tms.absHref !== href) ? generateAssetID(wap_tms.absHref) : generateAssetID(href);\n        wap_tms.checkAndSetValue(targetParams, 'entity.category', data.category);\n        wap_tms.checkAndSetValue(targetParams, 'entity.name', data.title);\n        wap_tms.checkAndSetValue(targetParams, 'entity.contentEntitlement', data.disclosure);\n        wap_tms.checkAndSetValue(targetParams, 'entity.thumbnailUrl', data.image);\n        wap_tms.checkAndSetValue(targetParams, 'entity.message', data.abstract);\n        wap_websdk.tg.getAndApplyOffer({\n          mbox: 'download',\n          params: targetParams\n        });\n      }\n    }\n    \n    wap_tms.captureContentDownload = function (componentName, componentData, hit) {\n      hit = hit || {};\n      hit.evar202 =  'captureContentDownload';\n      if (componentData && componentData.id) {\n        var acronyms = {\n          RD: 'restricted secret',\n          P: 'public',\n          C: 'confidential',\n          T: 'targeted',\n          IO: 'internal',\n        };\n        var tags = '';\n        var category = '';\n        if (componentData.tags) {\n          tags = componentData.tags.map(function (item) {\n            return item.replace('rdc ', '');\n          });\n          category = tags.join(',');\n          tags = JSON.stringify(tags);\n        }\n        var fileSize = '';\n        if (componentData.fileSize) {\n          var input = componentData.fileSize;\n          if (input === 0) {\n            fileSize = '0 Bytes';\n          } else {\n            var k = 1024;\n            var dm = input >= 1000 && input < 1024 ? 4 : 3;\n            var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n            var i = Math.floor(Math.log(input) / Math.log(k));\n            fileSize = (input / Math.pow(k, i)).toPrecision(dm) + ' ' + sizes[i];\n          }\n        }\n        var url = componentData.documentURL || componentData.url;\n        var data = {\n          id: componentData.id,\n          url: url ? encodeURI(url).toLowerCase().split('?')[0] : '',\n          title: componentData.title || '',\n          description: componentData.description || '',\n          contentType: componentData.contentType || '',\n          tags: tags,\n          category: category,\n          fileSize: fileSize,\n          fileType: componentData.fileType || '',\n          lastUpdated: componentData.lastUpdated || '',\n          version: componentData.version || '',\n          classification: componentData.classification ? acronyms[componentData.classification] : '',\n        };\n        var params = {\n          'entity.contentSource': 'download'\n        };\n        if (typeof data !== \"undefined\" && typeof data.id !== \"undefined\") {\n          if (typeof utag_data.wa_local !== \"undefined\") {\n            data.id = data.id + \"-RDC-\" + utag_data.wa_local.replace(\"-\", \"\").toUpperCase();\n          }\n        }\n        wap_tms.checkAndSetValue([hit, params, params], ['eVar88', 'entity.id', 'entity.id2'], data.id);\n        wap_tms.checkAndSetValue([hit, params], ['eVar141', 'entity.name'], data.title);\n        wap_tms.checkAndSetValue(params, 'entity.message', data.description);\n        wap_tms.checkAndSetValue([hit, params], ['eVar144', 'entity.category'], data.category);\n        wap_tms.checkAndSetValue(params, 'entity.contentTag', data.tags);\n        wap_tms.checkAndSetValue([hit, params], ['eVar143', 'entity.emtContentType'], data.contentType);\n        wap_tms.checkAndSetValue(params, 'entity.contentEntitlement', data.classification);\n        wap_tms.checkAndSetValue(params, 'entity.pageURL', data.url);\n        wap_tms.checkAndSetValue(params, 'entity.fileSize', data.fileSize);\n        wap_tms.checkAndSetValue(params, 'entity.collections', 'rdc-downloads');\n        wap_tms.checkAndSetValue([hit, params], ['eVar142', 'entity.fileType'], data.fileType);\n        wap_tms.checkUamAsset(data.url);\n        trackGaEvent({\n          hit,\n          category:'Downloads',\n          action:  data.url,\n          params: data\n        });\n      }\n    }\n    \n    \n    wap_tms.removeCommas = function (str) {\n      return (str.replace(/,/g, ''));\n    }\n    \n    \n    \n    \n    /*\n    //*********************************************************************************************\n    //* wapMainEventHandler - WAP LINK EVENT HANDLER                                              *\n    //*********************************************************************************************\n    /*\n    <div> Component Data-Attributes:\n    Element         Name                Required/Optional       Usage\n    -------------------------------------------------------------------------------------------\n    class           |   component OR        |   required        component: cq component wrapper\n    |   wapwrapper          |   required        wapwrapper: custom WAP wrapper\n    attribute       |   data-component      |   required\n    attribute       |   data-component-id   |   required\n    attribute       |   data-wap            |   optional (JSON format)\n    \n    <a> Link Data-Attributes:\n    Element         Name                    Required/Optional\n    -----------------------------------------------------------\n    attribute       |   data-wap            |   optional (JSON format)\n    \n    CODE EXAMPLE:\n    <div class=\"component\" data-component=\"shop-component\" data-component-id=\"1\" data-wap='{\"name1\":\"value1\"}'>\n    //component code here\n    <a href=\"#\"  data-wap='{\"name1\":\"value1\",\"name2\":\"value2\",\"name3\":\"name3\"}'>WAP Link</a>\n    </div>\n    */\n    \n    wap_tms.lastEvent = { name: '', time: 0.0 };\n    \n    window.wapMainEventHandler = (objRef, event) => {\n      const page = {};\n      const hit = {};\n      hit.evar202 =  'wapMainEventHandler';\n      wap_tms.lastClickedObject = objRef;\n      $('.l3-detail-text-component:not(.wapwrapper)').addClass(\"wapwrapper\").attr('data-component-id', '1').attr('data-component', 'detailtext');\n      $component = $(objRef).closest(\".component,.wapwrapper\");\n    \n      var componentName = $component.attr(\"data-component\") + \"\", //Get Component Name\n        componentData = $component.attr(\"data-wap\"),\n        componentHref = $(objRef).attr('data-wap_ref') || $(objRef).attr('data-wap-ref'), //Get Component level WAP data\n        componentData = ((typeof componentData === \"undefined\") || (componentData == \"\")) ? \"\" : JSON.parse(unescapeHTML(componentData)), //check if data-wap is undefined or blank\n        componentNameId = componentName + \"-\" + $component.attr(\"data-component-id\"), //concat component name and id\n        linkHref = $(objRef).attr(\"href\") + \"\", //Set link HREF\n        linkHref = (componentHref != undefined) ? componentHref : linkHref, //Get href value from 'data-wap_ref' if defined.\n        componentName = identifyLinkPatterns(componentName, linkHref, $(objRef)), //check for link patterns\n        linkData = $(objRef).attr(\"data-wap\"), //Get Link level WAP data\n        linkData = ((typeof linkData === 'undefined') || (linkData === '')) ? '' : wap_tms.checkJson(unescapeHTML(linkData)) //check if data-wap is undefined or blank\n        linkData = linkData || '';\n      //RWD - Capture Rank\n      var searchData = $(objRef).attr(\"search-rel\"),\n        searchData = ((typeof searchData === \"undefined\") || (searchData == \"\")) ? \"\" : JSON.parse(unescapeHTML(searchData)); //check if data-wap is undefined or blank\n      //linkHref = clearnHref(linkHref);\n    \n      /* START EOL MEGA MENU */\n      if (componentName == \"header\") {\n        var liClass = ($(objRef).closest(\"li[class]\")).attr(\"class\");\n        if (liClass == 'lang-option') {\n          componentNameId = \"select language\";\n          componentName = \"nav\";\n        }\n      }\n      /* END EOL MEGA MENU */\n    \n      if (componentName == \"undefined\" && !wap_tms.custom.isSearchPage) {\n        componentNameId = \"pagelinks-1\";\n        componentName = \"pagelinks\";\n      }\n      hit.eVar47 = componentNameId;\n      if (wap_tms.lastEvent.time === event.timeStamp && wap_tms.lastEvent.name === componentName) return; // To avoid double hits of the same\n      wap_tms.lastEvent = { name: componentName, time: event.timeStamp };\n      linkHref = ((linkHref === '#') || (linkHref === '')) ? 'nav-link' : cleanHref(linkHref);\n      linkHref = (linkHref === '') ? 'nav-link' : linkHref;\n    \n      //vpsIntel.config('dnld:asset');\n    \n      if (linkHref == 'nav-link') {\n        var linkOnclick = $(objRef).attr(\"onclick\"),\n          getLinkId;\n        linkOnclick = (typeof linkOnclick === \"undefined\") ? '' : linkOnclick;\n        getLinkId = (/show\\(\\'div/.test(linkOnclick)) ? 'nav-link:link-' + (linkOnclick.split(\"show('div\")[1]).split(\"'\")[0] : 'nav-link';\n        linkHref = getLinkId;\n      }\n    \n      /******************************************************************************************************************\n                                              TARGET ANALYTICS SECTION\n      *******************************************************************************************************************/\n      const offerId = componentData ? (componentData['offerId'] || '') : '';\n      if (offerId) {\n        const offerName = componentData ? (componentData['offerName'] || '') : '';\n        const activityName = componentData ? (componentData['activityName'] || '') : '';\n        const tokenIndex = offerName && activityName ? wap_websdk.tg.impressionsSent.findIndex((prop) => offerId === prop['offer.id'] && activityName === prop['activity.name']) : -1;\n        const targetComponentData = {\n          cookies: 'yes'\n        };\n        try {\n          targetComponentData = JSON.parse($(objRef).closest('[data-customtarget]').attr('data-customtarget'));\n        } catch (exc) {}\n        const isTargetCookiesLess = targetComponentData.cookies === 'no' ? true : false;\n        if (tokenIndex > -1 || isTargetCookiesLess) {\n          hit.event102 = 1;\n          hit.eVar115 = activityName;\n          hit.eVar131 = offerId;\n          hit.eVar116 = isTargetCookiesLess ? '' : wap_websdk.tg.impressionsSent[tokenIndex]['experience.name'];\n          hit.eVar158 = wap_tms.getContentName(offerName, activityName);\n          const slot = linkData ? (linkData['offerSlot'] || '') : '';\n          const e_id = linkData ? (linkData['e_id'] || '') : '';\n          if (slot) {\n            hit.eVar159 = slot;\n          }\n          if (e_id) {\n            hit.eVar168 = e_id;\n          }\n          hit.eVar160 = linkHref;\n          const sent = wap_websdk.tg.impressionsSent[tokenIndex];\n          const prop = wap_websdk.tg.propsDisplaySent.find((item) => item.id = sent.prop);\n          if (prop) {\n            wap_websdk.tg.trackEvent('decisioning.propositionInteract', [prop], false);\n          }\n        }\n      }\n    \n      let isUamAsset = false;\n      if (['wa_skip_track', 'technical-library-download', 'searchPage'].indexOf(componentName) < 0) {\n        isUamAsset = wap_tms.checkUamAsset(linkHref, hit);\n      };\n    \n      switch (componentName) {\n        //***Define Component OPT-OUT link level tracking\n        case \"undefined\":\n        case \"wa_skip_track\":\n        case \"filter_checkbox_facet\":\n        case \"ultrabook-showcase-2012\":\n        case \"haswell-campaign-2013\":\n        case \"innovation-wall-2013\":\n        case \"consumerization-campaign-2013\":\n        case \"big-data-campaign-2013\":\n        case \"applicationasset\":\n        case \"galleryasset\":\n        case \"imageasset\":\n        case \"intellogo\":\n        case \"pdfasset\":\n        case \"productspecasset\":\n        case \"videoasset\":\n        case \"toggleview\":\n        case \"titlecollection\":\n        case \"disclaimers\":\n        case \"unav\":\n        //Case for ISA\n        // commenting out as we need to track Find Content Link in header\n        //case \"uheader\":\n        case \"title\":\n        case \"toogleview\":\n        case \"subtitle\":\n        case \"assetgeneric\":\n        case \"backbutton\":\n        case \"socialsharing\":\n        case \"logo\":\n        case \"proactivechat\":\n        case \"subscription-center-form-input\":\n        case \"search-filter\":\n        case \"search-input\":\n          // case \"toggleBlade\":\n          //DO NOT TRACK\n          break;\n          case \"my-profile-form-input\":\n            if (linkData?.track === \"true\") {\n              if (linkData.AccountName !== undefined) {\n                hit.eVar45 = `company: ${linkData.AccountName}`;\n                typeof linkData.AccountURL !== \"undefined\" ? hit.eVar45 += `|website:${linkData.AccountURL}` : \"\";\n                typeof linkData.PartnerRole !== \"undefined\" ? hit.eVar45 += `|role:${linkData.PartnerRole}` : \"\";\n                typeof linkData.Tier !== \"undefined\" ? hit.eVar45 += `|tier:${linkData.Tier}` : \"\";\n                hit.eVar45 = hit.eVar45.toLowerCase();\n              }\n              if (componentData.newAccount === 'true' && linkHref.includes('step_4')) {\n                linkHref += '|new-account';\n              }\n              trackGaEvent({\n                hit,\n                category:'User Account Activity',\n                action: `registration: ${linkHref}`,\n                label: 'ipa',\n              });\n            }\n            break;\n        case 'opt-in-modal':\n          setTimeout(function () {\n            switch (componentHref) {\n              case 'close':\n                if ($component.hasClass('in')) {\n                  break;\n                }\n              case 'secondCtaLong':\n              case 'secondCtaShort':\n              case 'closeModal':\n                componentData.formData = componentData.formDate || '';\n                trackGaEvent({\n                  hit,\n                  category:'User Account Activity',\n                  action: 'registration: cancel',\n                  label: componentData.formname,\n                });\n                break;\n            }\n          }, 500);\n          break;\n        case \"homepageGallery\":\n          if (linkHref && 0 !== linkHref.length) {\n            trackGaEvent({\n              hit,\n              category:'Components',\n              action: `click: ${componentNameId}`,\n              label: linkHref,\n            });\n          }\n          break;\n        case \"myintel-my-messages\":\n        case \"myintel-my-support\":\n        case \"myintel-my-content\":\n        case \"myintel-my-learning\":\n          const details = componentData ? componentData.tab + ':' + componentData.id : '';\n          hit.eVar45 = hit.prop35 = details;\n          trackGaEvent({\n            hit,\n            category:'Components',\n            action: `click: ${componentNameId}`,\n            label: linkHref,\n          });\n          break;\n    \n        //****CUSTOM ANALYTICS TEMPLATES***\n        case \"mwc-results\":\n          const recNum = $component.attr(\"data-component-id\");\n          if (typeof recsOutput === 'object') {\n            hit.eVar44 = recsOutput[recNum - 1].id;\n          }\n          trackGaEvent({\n            hit,\n            category:'Components',\n            action: `click: ${componentNameId}`,\n            label: linkHref,\n          });\n          break;\n        case \"mt-translate\":\n          let value = \"go-back\";\n          if ($component.find(\"span#mt-button-text\").text() == \"Go back\") {\n            value = \"translate\";\n          }\n          trackGaEvent({\n            hit,\n            category: 'Components',\n            action: `click: ${componentNameId}`,\n            label: value,\n          });\n        break;\n        case \"download\":\n        case \"most-recent-download\":\n          if (linkData && linkData.category === 'DL') {\n            wap_tms.captureDigitalDownload(linkHref, linkData);\n          } else {\n            hit.eVar45 = hit.prop35 = linkHref;\n          }\n          trackGaEvent({\n            hit,\n            category:'Components',\n            action: linkHref,\n          });\n          break;\n        case \"\":\n          trackGaEvent({\n            hit,\n            category:'Components',\n            action: linkHref,\n          });\n          break;\n        case \"nav\":\n        /* START EOL MEGA MENU */\n        //Tags: deprecate maybe, sign-out only has 100 hits and click: could be combined with another case\n        case \"header\":\n          if (typeof linkData.linktype != \"undefined\" && linkData.linktype == \"logout\") {\n            trackGaEvent({\n              hit,\n              category:'Navigation',\n              action: 'nav: sign-out',\n              label: wa_pathName,\n              nonInteraction: false,\n            });\n          } else {\n            //Tags: deprecate first if clause\n            var menu = $(objRef).closest(\".flyout-panel-block\");\n            if (menu.length > 0) {\n              trackGaEvent({\n                hit,\n                category:'Navigation',\n                action: 'nav: menu',\n                label: `level2: ${linkHref}`,\n              });\n            } else {\n              trackGaEvent({\n                hit,\n                category:'Navigation',\n                action: `click: ${componentNameId}`,\n                label: linkHref,\n              });\n            }\n          }\n          break;\n        /* END EOL MEGA MENU */\n        //Tags: same as default case\n        case \"shop\":\n          trackGaEvent({\n            hit,\n            category:'Components',\n            action: `click: ${componentNameId}`,\n            label: linkHref\n          });\n          break;\n        //****END CUSTOM ANALYTICS TEMPLATES***\n    \n        /* START EOL MEGA MENU */\n        case \"global-nav-redesign\":\n          componentData = $(objRef).attr(\"data-wap\");\n          componentData = ((typeof componentData === \"undefined\") || (componentData === \"\")) ? \"\" : JSON.parse(unescapeHTML(componentData));\n    \n          const sectiontype = componentData.sectiontype ? componentData.sectiontype.toLowerCase() : \"direct\";\n          const category = componentData.category ? componentData.category.toLowerCase() : \"direct\";\n    \n          switch (componentData.linktype) {\n            case 'level1': //this is buttom\n              linkHref = $(objRef).attr('data-target') ? $(objRef).attr('data-target').toLowerCase() : 'nav-link';\n              trackGaEvent({\n                hit,\n                category:'Navigation',\n                action: 'nav: menu',\n                label: `level1:${linkHref}`\n              });\n              break;\n            case 'level2':\n            case 'level3':\n            case 'level4':\n              trackGaEvent({\n                hit,\n                category:'Navigation',\n                action: 'nav: menu',\n                label: `${category}:${sectiontype}:subheading:${linkHref}`\n              });\n              break;\n            case 'sign-in':\n              trackGaEvent({\n                hit,\n                category:'Navigation',\n                action: `nav: menu${componentNameId}`,\n                label: 'sign-in'\n              });\n              break;\n            default:\n              trackGaEvent({\n                hit,\n                category:'Navigation',\n                action: `nav: menu${componentNameId}`,\n                label: linkHref\n              });\n              break;\n          }\n          break;\n        //TA1271775 - Coveo Search case Buttons\n        case 'technical-library':\n        case 'coveo-search':\n        case 'compare-tray':\n          if (isUamAsset || wap_tms.custom.isAsset(linkHref)) {\n            trackGaEvent({\n              hit,\n              category:'Downloads',\n              action: linkHref\n            });\n          } else if (typeof linkData !== 'undefined') {\n            const docId = linkData.id || '';\n            if (typeof docId !== 'undefined') {\n              trackGaEvent({\n                hit,\n                category:'Components',\n                action: `click: ${componentNameId}`,\n                label: `${linkHref}:docId:${docId}`\n              });\n            } else {\n              trackGaEvent({\n                hit,\n                category:'Components',\n                action: `click: ${componentNameId}`,\n                label: linkHref\n              });\n            }\n          }\n          break;\n    \n        //TA1271775 - Coveo Search - Modals\n        case 'coveo-share-content-modal':\n        case 'coveo-share-bookmark-modal':\n          if (typeof linkData !== 'undefined') {\n            const msg = linkData.message;\n            if (typeof msg !== 'undefined') {\n              trackGaEvent({\n                hit,\n                category:'Components',\n                action: `click: ${componentNameId}`,\n                label: `${linkHref}:message:${msg}`\n              });\n            } else {\n              trackGaEvent({\n                hit,\n                category:'Components',\n                action: `click: ${componentNameId}`,\n                label: linkHref\n              });\n            }\n          }\n          break;\n    \n        // US730844 - Adhoc Analytic Impression (live-chat)\n        case 'cs-product':\n          if (linkData) {\n            var liveChat = linkData['live-chat'];\n            if (liveChat === 'true') {\n              hit.event111 = '1';\n            } else if (liveChat === 'false') {\n              hit.event112 = '1';\n            }\n          }\n          trackGaEvent({\n            hit,\n            category:'Components',\n            action: `click: ${componentNameId}`,\n            label: linkHref\n          });\n          break;\n        //***footer\n        case \"footer\":\n          let footerLinkType = '',\n            actionType = 'nav';\n          if ($(objRef).parent().attr(\"class\") == 'lang-option') { //check if its a language selection\n            footerLinkType = 'lang:';\n          }\n\n          if (footerLinkType == \"lang:\") {\n            trackGaEvent({\n              hit,\n              category:'Navigation',\n              action: 'click: select language',\n              label: linkHref\n            });\n          } else {\n            trackGaEvent({\n              hit,\n              category:'Navigation',\n              action: 'click: footer',\n              label: linkHref\n            });\n          }\n          break;\n    \n        //footer links\n        case \"footerlinks\":\n          trackGaEvent({\n            hit,\n            category:'Navigation',\n            action: 'click: footer',\n            label: `footerlinks:${linkHref}`\n          });\n          break;\n    \n        //Search header/home\n        //TAGS: Migrate\n        case \"uheadersearch\":\n        case \"homepagesearch\":\n          /*\n          Expected format: data-wap=\"{\"keyword\":\"keywordValue\",\"method\":\"methodValue\"}\"\n          Method types: 1) typeahead 2) featured\n          */\n          if (linkData.method)\n            waTrackSearch(linkData.keyword, linkData.method, componentNameId);\n          if (linkData.method == 'featured') { //fix for 'undefined' keyword + add wapkwg for tracking keyword clicks that don't come from search results page\n            let newlinkHref = $(objRef).attr(\"href\").split(\"?wapkw=\");\n            const qryConnectVal = (/\\?/.test(newlinkHref[0])) ? '&' : '?';\n            newlinkHref = newlinkHref[0] + qryConnectVal + \"wapkw=\" + linkData.keyword + \"&wapkwg=\" + linkData.method;\n            $(objRef).attr('href', newlinkHref); //set href w/ new value\n          }\n          break;\n    \n        //RWD Search typeahead\n        case \"searchBox\":\n          if (!linkData) {\n            linkData = {\n              keyword: $('input[data-search-input]', $component).val(),\n              method: 'text'\n            };\n          }\n          if (typeof linkData.keyword !== 'undefined') {\n            waTrackSearchRWD(linkData.keyword, linkData.method, componentNameId);\n            if (linkData.method == 'featured') {\n              let newlinkHref = $(objRef).attr(\"href\").split(\"?wapkw=\");\n              const qryConnectVal = (/\\?/.test(newlinkHref[0])) ? '&' : '?';\n              newlinkHref = newlinkHref[0] + qryConnectVal + \"wapkw=\" + linkData.keyword + \"&wapkwg=\" + linkData.method;\n              $(objRef).attr('href', newlinkHref);\n            }\n          }\n          break;\n        //***Search Results page\n        case \"searchPage\": //Change as part of RWD\n          let data = $(objRef).attr('asset-rel');\n          if (typeof (data) !== 'undefined' && typeof ($(objRef).attr('data-wap')) !== 'undefined') { // download\n            data = JSON.parse(unescapeHTML(data));\n            if (data && data.id) {\n              wap_tms.captureContentDownload(componentName, data);\n              break;\n            }\n          }\n        case \"refineResults\": //Change as part of RWD\n        case \"grdcSearchPage\":\n        case \"searchresult\":\n        case \"bestmatch\":\n        case \"matching\":\n          var linkType = linkData.linktype;\n    \n          if (typeof linkData.linktype == \"undefined\") {\n            if ((/\\.pdf/.test(linkHref))) {\n              linkType = \"downloadpdf\";\n            } else {\n              linkType = \"result\";\n            }\n          }\n          hit.eVar45 = hit.prop35 = tmsGetParamByName('keyword').toLowerCase();\n          if (tmsGetParamByName('keyword') === \"\")\n            hit.eVar45 = hit.prop35 = tmsGetParamByName('query').toLowerCase();\n          switch (linkType) {\n            case \"advanced\": {\n              let label = $('[name=\"allwords\"]').val().toLowerCase() || '';\n              trackGaEvent({\n                hit,\n                label,\n                category: 'Search',\n                action: 'search-results: advanced search',\n              });\n              break;\n            }\n            case \"result\":\n              var searchKeyword = $('[name=\"allwords\"]').val();\n              if (typeof searchKeyword == \"undefined\")\n                searchKeyword = $('#search_term').val();\n              searchKeyword = searchKeyword.toLowerCase();\n              if (searchKeyword == '') {\n                searchKeyword = 'no-keyword';\n              }\n              if (searchData !== \"\") {\n                hit.event59  = hit.event150 = searchData.id;\n                hit.event60 = 1;\n              }\n              hit.eVar44 = hit.prop34 =  wa_filter_name;\n              hit.eVar48 = hit.prop38 = searchKeyword;\n              trackGaEvent({\n                hit,\n                category:'Search',\n                action: 'search-results: click-through',\n                label: linkHref\n              });\n              break;\n            case \"predictive\":\n              trackGaEvent({\n                hit,\n                category:'Search',\n                action: 'search-box: typeahead',\n                label: linkHref\n              });\n              break;\n            case \"related\": {\n              let label = $('[name=\"allwords\"]').val().toLowerCase();\n              trackGaEvent({\n                label,\n                hit,\n                category: 'Search',\n                action: 'search-results: related terms',\n              });\n              break;\n            }\n            case \"filter\":\n              hit.eVar48 = hit.prop38 = $('[name=\"allwords\"]').val().toLowerCase();\n              trackGaEvent({\n                label,\n                hit,\n                category: 'Search',\n                action: `${hit.eVar48} :: filter: ${linkData.category}`,\n              });\n              break;\n            case \"keywordMod\":\n            { let category = linkData.category;\n              if (typeof category !== \"undefined\") {\n                category = category.replace(/\\s/g, '');\n                let keyword = $('[name=\"allwords\"]').val().toLowerCase();\n                if (keyword == \"\")\n                  keyword = \"no-keyword\";\n                hit.eVar48 = hit.prop38 = keyword;\n                category = category.toLowerCase();\n                category = category.replace(/targetaudience:support/g, 'support');\n                category = category.replace(/targetaudience\\|support/g, 'support');\n                hit.eVar44 = hit.prop34 = page.eVar44 = page.prop34 = wa_filter_name = category;\n                trackGaEvent({\n                  hit,\n                  category: 'Search',\n                  action: 'search-results: filter',\n                  label: `${keyword} :: ${page.eVar44}`,\n                });\n              }\n              break;}\n            case \"downloadpdf\":\n              //TAGS: Consolidate with linkdata.linktype = downloadpdf\n              var searchKeyword = $('[name=\"allwords\"]').val().toLowerCase();\n              if (searchKeyword == '') {\n                searchKeyword = 'no-keyword';\n              }\n              trackGaEvent({\n                hit,\n                category: 'Search',\n                action: linkHref,\n              });\n              break;\n    \n            case \"previewpdf\":\n              var searchKeyword = $('[name=\"allwords\"]').val().toLowerCase();\n              if (searchKeyword == '') {\n                searchKeyword = 'no-keyword';\n              }\n              trackGaEvent({\n                hit,\n                category: 'Search',\n                action: `click: ${componentNameId}`,\n                label: linkHref,\n              });\n              break;\n            //adv search update click\n            //TAGS: Deprecate case\n            case \"advanced-search-closed\":\n              hit.eVar43 = hit.prop33 = 'advanced-search-closed';\n              trackGaEvent({\n                hit,\n                category: 'Search',\n                action: 'search-advanced: menu',\n                label: 'advanced-search-closed-from-update',\n              });\n              break;\n    \n            //US4773 :Anaytics data to capture usage of spotlights.\n            //TAGS: Deprecate case\n            case \"spotlight\":\n              trackGaEvent({\n                hit,\n                category: 'search-results: click-through',\n                action: 'search-advanced: menu',\n                label: linkHref,\n              });\n              break;\n    \n          }\n          break;\n    \n    \n    \n    \n        //***Shop component tracking\n        //TAGS: Consolidate shopping logic\n        case \"shop-prod-list\":\n        case \"compare_link\":\n        case \"reseller_selling_this_product_module\":\n        case \"reseller_list_page\":\n        case \"comparison_page\":\n        case \"reseller_detail_page\":\n        case \"reseller_list_page\":\n        case \"productshopshowcase\":\n          switch (linkData.linktype) {\n            case \"url\":\n              trackGaEvent({\n                hit,\n                category: 'Shop',\n                action: 'click: buy third-party-clickout',\n                label: linkHref,\n              });\n              break;\n            case \"compare\":\n              trackGaEvent({\n                hit,\n                category: 'Shop',\n                action: 'shop: compare',\n                label: wa_pathName,\n              });\n              break;\n            case \"seeproduct\":\n              const formFactor = (linkData.formFactor == 29) ? \"ultrabook\" : linkData.formFactor; //tmp\n              const gaShopData = 'manufacturer:' + linkData.manufacturer + ',processor:' + linkData.processor + ',retailer:' + linkData.retailer + ',model:' + linkData.model + ',price:' + linkData.price + ',formFactor:' + formFactor;\n              hit.eVar49 = hit.prop49 = formFactor.toLowerCase();\n              hit.eVar83 = hit.prop53 = linkData.manufacturer?.toLowerCase();\n              hit.eVar84 = hit.prop54 = linkData.processor?.toLowerCase();\n              hit.eVar85 = hit.prop55 = linkData.retailer?.toLowerCase();\n              hit.eVar86 = hit.prop56 = linkData.model?.toLowerCase();\n              hit.eVar87 = hit.prop57 = linkData.price?.toLowerCase();\n              trackGaEvent({\n                hit,\n                category: 'Shop',\n                action: 'click: buy now',\n                label: linkHref,\n              });\n              break;\n            default:\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: `click: ${componentNameId}`,\n                label: linkHref,\n              });\n              break;\n          }\n          break;\n    \n        //***Download PDF\n        //TAGS: Consolidate with downloadpdf and linktype.linkData = downloadpdf\n        case \"downloadpdf\":\n          trackGaEvent({\n            hit,\n            category: 'Components',\n            action: linkHref,\n          });\n          break;\n    \n        case \"technical-library-download\":\n          wap_tms.captureContentDownload(componentName, componentData);\n          break;\n    \n        //***product catalog\n        //Tags: Consolidate with shop tracking\n        case \"pc-product\":\n        case \"productCompare\":\n        case \"price-tray\":\n          let type = $(objRef).attr(\"data-wap_type\");\n          if (typeof componentData !== \"undefined\") {\n            hit.eVar46 = componentData.id;\n          }\n          if (/price-tray-launch/.test(linkHref)) {\n            hit.event88 = 1;\n          }\n          switch (type) {\n            case \"buynow\":\n              if (typeof linkData !== \"undefined\") {\n                formFactor = linkData.formFactor || '';\n                hit.eVar49 = hit.prop49 = formFactor.toLowerCase();\n                hit.eVar83 = hit.prop53 = linkData.manufacturer?.toLowerCase();\n                hit.eVar84 = hit.prop54 = linkData.processor?.toLowerCase();\n                hit.eVar85 = hit.prop55 = linkData.retailer?.toLowerCase();\n                hit.eVar86 = hit.prop56 = linkData.model?.toLowerCase();\n                hit.eVar87 = hit.prop57 = linkData.price?.toLowerCase();\n              }\n              trackGaEvent({\n                hit,\n                category: 'Shop',\n                action: 'click: buy now',\n                label: linkHref,\n              });\n              break;\n            default:\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: `click: ${componentNameId}`,\n                label: linkHref,\n              });\n              break;\n          }\n          break;\n        //TAGS: only 100 hits maybe deprecate\n        case \"compare-tray\": {\n          const type = $(objRef).attr(\"data-wap_type\");\n          switch (type) {\n            case \"clear\":\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: `click: ${componentNameId}`,\n                label: \"clear\",\n              });\n              break;\n            case \"compare\":\n              const products = tmsGetParamByName(\"productIds\", linkHref);\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: `click: ${componentNameId}`,\n                label: `compare: ${products}`,\n              });\n              break;\n            default:\n              if (/price-tray-launch/.test(linkHref)) {\n                hit.event88 = 1;\n              }\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: `click: ${componentNameId}`,\n                label: linkHref,\n              });\n              break;\n          }\n          break;\n        }\n        //TAGS: Combine with shop tracking\n        case \"productPortfolio\": {\n          let type = $(objRef).attr(\"data-wap_type\");\n          if (typeof componentData !== \"undefined\") {\n            hit.eVar46 = componentData.id;\n          }\n          switch (type) {\n            case \"buynow\":\n              if (typeof linkData !== \"undefined\") {\n                hit.eVar49 = hit.prop49 = linkData.formFactor?.toLowerCase();\n                hit.eVar83 = hit.prop53 = linkData.manufacturer?.toLowerCase();\n                hit.eVar84 = hit.prop54 = linkData.processor?.toLowerCase();\n                hit.eVar85 = hit.prop55 = linkData.retailer?.toLowerCase();\n                hit.eVar86 = hit.prop56 = linkData.model?.toLowerCase();\n                hit.eVar87 = hit.prop57 = linkData.price?.toLowerCase();\n                hit.event104 = wap_tms.removeCommas(linkData.price?.toLowerCase());\n              }\n              trackGaEvent({\n                hit,\n                category: 'Shop',\n                action: 'click: buy now',\n                label: linkHref,\n              });\n              break;\n            default:\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: `click: ${componentNameId}`,\n                label: linkHref,\n              });\n              break;\n          }\n          break;\n        }\n        case \"myintel-global-subscription\":\n        case \"myintel-program-subscription\":\n          if (/subscribe|unsubscribe/.test(linkHref)) {\n            hit.eVar46 = hit.prop36 = linkData.program?.toLowerCase();\n          }\n          trackGaEvent({\n            hit,\n            category: 'Components',\n            action: `click: ${componentNameId}`,\n            label: linkHref,\n          });\n          break;  \n        //Tags: consolidate\n        case \"detailtext\":\n          linkHref = $(objRef).attr('href');\n          if (isUamAsset || wap_tms.custom.isAsset(linkHref)) {\n            trackGaEvent('Downloads', linkHref);\n          } else {\n            trackGaEvent({\n              hit,\n              category: 'Components',\n              action: `click: ${componentNameId}`,\n              label: linkHref,\n            });\n          }\n          break;\n    \n        //TAGS: Consolidate      \n        case \"profile-submit-button\":\n          trackGaEvent({\n            hit,\n            category: 'Components',\n            action: `click: ${componentNameId}`,\n            label: componentData.linktype,\n          });\n          break;\n        case \"notrack\":\n        case \"feedback\":\n          /*if (objRef.localName == \"button\") {\n              if (wap_yes_feedback) {\n                  trackGaEvent(\"User Account Activity\", \"click: feedback\", \"yes\");\n              } else if (wap_no_feedback) {\n                  trackGaEvent(\"User Account Activity\", \"click: feedback\", \"no\");\n              }\n              wap_yes_feedback = false;\n              wap_no_feedback = false;\n          } else if (objRef.localName == \"label\") {\n              if (objRef.htmlFor == \"useful-information-yes\") {\n                  wap_yes_feedback = true;\n                  wap_no_feedback = false;\n              } else if (objRef.htmlFor == \"useful-information-no\") {\n                  wap_yes_feedback = false;\n                  wap_no_feedback = true;\n              }\n          }*/\n          break;\n        case 'faq-blade':\n          if (linkData) {\n            hit.eVar45 = hit.prop35 = (linkData.category || '').toLowerCase();\n            hit.eVar46 = hit.prop36 = linkData.type || '';\n            trackGaEvent({\n              hit,\n              category: 'Components',\n              action: `click: ${componentNameId}`,\n              label: linkHref,\n            });\n            break;\n          }\n    \n        //*** Default standard tracking\n        default:\n          //Custom implementation to exclude specific components from tracking.\n          if (/-exclude/.test(componentName)) {\n            return;\n          }\n    \n          //Tags: consolidate\n          if (isUamAsset || wap_tms.custom.isAsset(linkHref)) { \n            trackGaEvent({\n              hit,\n              category: 'Downloads',\n              action: linkHref,\n            });//To identify download links as downloads instead of components\n            return;\n          }\n          // for thirdpartyclick\n    \n          var protocol;\n          if (linkHref != \"nav-link\") {\n            linkHref = $(objRef).attr(\"href\") + \"\";\n          }\n          if (componentHref != undefined) {\n            linkHref = componentHref;\n          }\n          if (linkHref.startsWith(\"https\")) {\n            protocol = \"https://\";\n          } else if (linkHref.startsWith(\"http\")) {\n            protocol = \"http://\";\n          }\n          if (protocol == \"http://\" || protocol == \"https://\") {\n            linkHref = decodeURIComponent(linkHref);\n            var host = linkHref.split(protocol)[1];\n            var hostvar = host.split(\"/\");\n            var hostname;\n            if (hostvar.length > 0)\n              hostname = hostvar[0];\n            else\n              hostname = hostvar;\n            if (wap_tms.custom.isExitToNonPIR(hostname)) {\n              if (!wap_tms.custom.isIntelOwned(linkHref)) {\n                trackGaEvent({\n                  hit,\n                  category: 'Third-party',\n                  action: 'click: exit Intel',\n                  label: linkHref,\n                });\n                return;\n              }\n            } else {\n              if (!(/#shopthirdparty/.test(linkHref))) {\n                trackGaEvent({\n                  hit,\n                  category: 'Third-party',\n                  action: 'click: exit Intel',\n                  label: linkHref,\n                });\n                return;\n              }\n            }\n          }\n    \n          if (linkData?.linktype === 'downloadpdf') {\n            trackGaEvent({\n              hit,\n              category: 'Downloads',\n              action: linkHref,\n            });\n          } else {\n            if (location.pathname.search(/pc-upgrades\\/(5|6)(th-gen-core-processor-family.html)/) > -1 && /campaignLandingTemplate/.test(componentNameId)) { }\n            else {\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: `click: ${componentNameId}`,\n                label: linkHref,\n              });\n            }\n          }\n      }\n    \n      /*if (!(/header-|sharepagetop-/.test(componentNameId))) {  // for RWD sign in and share link in header\n      event.stopPropagation(); //for nested components, prevent from bubbling up multiple event calls\n      }*/\n      waVpsOverride = \"\";\n      waAddEvents = \"\"; //reset so link-level override configurations do not carry over if user does not leave the page\n    \n      //DEBUG START\n      /*console.log(\"componentName: \"+componentName+\"\\nlinkHref: \"+linkHref+\"\\ncomponentNameId: \"+componentNameId+\"\\ncomponentData: \"+componentData+\"\\nlinkData: \"+linkData);\n      for (var n in componentData) {\n      if (componentData.hasOwnProperty(n)) {\n      console.log(\"componentData\\nname : \" + n + \"\\nvalue: \" + componentData[n]);\n      }\n      }\n      for (var n in linkData) {\n      if (linkData.hasOwnProperty(n)) {\n      console.log(\"linkData\\nname: \" + n + \"\\nvalue: \" + linkData[n]);\n      }\n      }*/\n      //DEBUG END\n    }\n    \n    function setFilterVar() {\n      if (filterSelected) {\n        let storedValue;\n        let classNameCount = 0;\n        $('div').each(function () {\n          if ($(this).attr(\"class\") == \"ng-scope styled-select is-chosen\") {\n            classNameCount++;\n          }\n        });\n        if (classNameCount == 0) {\n          filterValue = \"\";\n          filterSelected = false;\n        }\n    \n        if (filterValue.indexOf(\"TargetAudience:Support\") >= -1)\n          filterValue = filterValue.replace(/TargetAudience:Support/g, 'support');\n    \n        if (typeof filterValue !== \"undefined\" || filterValue !== \"\") {\n          if (classNameCount < filterValue.split(\":\").length) {\n            var filterArray = filterValue.split(\":\");\n            var newValue = \"\";\n            for (var i = 0; i < filterArray.length; i++) {\n              if (i < classNameCount) {\n                newValue = newValue + filterArray[i] + \":\";\n              }\n            }\n            filterValue = newValue.slice(0, -1);\n          }\n        }\n        filterValue = filterValue.toLowerCase();\n        page.eVar44 = page.prop34 = filterValue.toLowerCase();\n        hit.eVar44 = hit.prop34 = filterValue.toLowerCase();\n      } else {\n        page.eVar44 = page.prop34 = \"\";\n        hit.eVar44 = hit.prop34 = \"\";\n      }\n    }\n    \n    //TAGS: Possibly deprecate or generalize - only works on prc_video project. Could be nice to extend to microsites to track video engagement. \n    function wapTrackVideo(project, action, contentTitle, playerName, uniqueID, shareType) {\n      const hit = {};\n      hit.eVar202 = 'wapTrackVideo';\n      switch (project) {\n        case \"prc_video\":\n          switch (action) {\n            case \"start\":\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: 'video:play',\n                label: contentTitle,\n              });\n              break;\n            case \"50\":\n            case \"75\":\n            case \"90\":\n            case \"95\":\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: `video: ${action}% complete`,\n                label: contentTitle,\n              });\n              break;\n            case \"complete\":\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: `video: 100% complete`,\n                label: contentTitle,\n              });\n              break;\n            case \"embed\":\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: 'video:share:embed',\n                label: contentTitle,\n              });\n              break;\n            case \"share\":\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: `video:share:${shareType}`,\n                label: contentTitle,\n              });\n              break;\n            case \"full_screen\":\n              trackGaEvent({\n                hit,\n                category: 'Components',\n                action: 'video:fullscreen',\n                label: contentTitle,\n              });\n              break;\n          }\n          break;\n      }\n    }\n    \n    const excludeWaTopicsArray = ['corporateinformation', 'intelhome', 'intelwork', 'membership', 'industrytopics', 'generaltopics'];\n    \n    function multiLevelVars(type, L1, L2, L3, L4) {\n      var multiLevelVal = \"\";\n      if (type.indexOf('topic') > -1) {\n        if (L1 && !new RegExp(excludeWaTopicsArray.join(\"|\")).test(L1)) {\n          multiLevelVal += L1;\n        }\n        if (L2 && !new RegExp(excludeWaTopicsArray.join(\"|\")).test(L2)) {\n          if (!(multiLevelVal === '')) {\n            multiLevelVal += \":\" + L2;\n          } else {\n            multiLevelVal += L2;\n          }\n        }\n        if (L3 && !new RegExp(excludeWaTopicsArray.join(\"|\")).test(L3)) {\n          if (!(multiLevelVal === '')) {\n            multiLevelVal += \":\" + L3;\n          } else {\n            multiLevelVal += L3;\n          }\n        }\n        if (L4 && !new RegExp(excludeWaTopicsArray.join(\"|\")).test(L4)) {\n          if (!(multiLevelVal === '')) {\n            multiLevelVal += \":\" + L4;\n          } else {\n            multiLevelVal += L4;\n          }\n        }\n      } else {\n        if (L1) {\n          multiLevelVal += L1;\n        }\n        if (L2) {\n          multiLevelVal += \":\" + L2;\n        }\n        if (L3) {\n          multiLevelVal += \":\" + L3;\n        }\n        if (L4) {\n          multiLevelVal += \":\" + L4;\n        }\n      }\n      if (multiLevelVal.length > 256) {\n        multiLevelVal = multiLevelVal.substring(0, 256);\n      }\n      return multiLevelVal;\n    }\n    \n    if (typeof cq_tms.wa_tms_sync_load === 'string') {\n      wap_tms.version.set(cq_tms.wa_tms_sync_load + \" \", \"mf_tms_load_type:\");\n    }\n    \n    function setPageType(wa_page_type_micro) {\n      switch (wa_page_type_micro) {\n    \n        case \"homepage\":\n        case \"new homepage\":\n          pageType = \"landing\";\n          break;\n        case \"collectionaudience\":\n        case \"collectioncustom\":\n        case \"collectiongeneral\":\n        case \"collectiongeo\":\n        case \"collectionintelinside\":\n        case \"collectionproduct\":\n        case \"collectionshop\":\n        case \"collectiontopic\":\n        case \"collectionnuance\":\n          pageType = \"collection\";\n          break;\n        case \"assetdetail\":\n        case \"assetdetailapp\":\n        case \"assetdetaildownload\":\n        case \"assetdetailgallery\":\n        case \"assetdetailhtml\":\n        case \"assetdetailhtmlperformance\":\n        case \"assetdetailimg\":\n        case \"assetdetailmedia\":\n        case \"assetdetailpdf\":\n        case \"assetdetailproduct\":\n        case \"assetdetailproductchart\":\n        case \"assetdetailproductcomp\":\n        case \"assetdetailproductfamily\":\n        case \"assetdetailvid\":\n        case \"assetshare\":\n        case \"assettags\":\n        case \"flashpage\":\n        case \"articleflashbodyhtml\":\n        case \"assetdetailbladehtml\":\n        case \"assetdetailtemplateA\":\n        case \"assetdetailtemplateC\":\n        case \"assetdetailtemplateD\":\n        case \"assetdetailtemplateI\":\n        case \"educationshowcasetemplate\":\n          if (cq_tms.wa_cq_url.indexOf(\"404\\.html\") > -1) {\n            pageType = \"error\";\n          } else {\n            pageType = \"asset\";\n          }\n          break;\n        case \"boxedboardcomparisonpage\":\n        case \"boxedboarddetailspage\":\n        case \"genericlistpage\":\n        case \"processorcomparisonpage\":\n        case \"processordetailspage\":\n        case \"prodcomparisonpage\":\n        case \"proddetailspage\":\n        case \"prodlistpage\":\n        case \"raidcomparisonpage\":\n        case \"raiddetailspage\":\n        case \"resellercomparisonpage\":\n        case \"resellerdetailspage\":\n        case \"resellerlistpage\":\n        case \"serviceproviderpage\":\n        case \"shoppage\":\n        case \"spproductpage\":\n        case \"ssdcomparisonpage\":\n        case \"ssddetailspage\":\n          pageType = \"shop\";\n          break;\n        case \"contentlibrary\":\n        case \"contentlibrary20\":\n        case \"search20\":\n          pageType = \"search\";\n          break;\n    \n        case \"disclaimercatgeory\":\n        case \"disclaimercatgeory\":\n        case \"disclaimerpage\":\n          pageType = \"disclaimer\";\n          break;\n        case \"itcRegister1b\":\n        case \"itcRegister1c\":\n        case \"itcRegister2a\":\n        case \"itcRegister2b\":\n        case \"itcRegister2c\":\n        case \"itcRegister3a\":\n        case \"itcRegister3b\":\n        case \"RegistrationB1\":\n        case \"RegistrationB2\":\n        case \"RegistrationB3\":\n        case \"registration\":\n          pageType = \"register\";\n          break;\n        case \"profileManagement\":\n          pageType = \"profile\";\n          break;\n        case \"itcLogin\":\n          pageType = \"login\";\n          break;\n        case \"itcGenMsg\":\n          pageType = \"message\";\n          break;\n        case \"productdetailtemplate\":\n          pageType = \"product\";\n          break;\n        case \"technologydetailtemplate\":\n          pageType = \"technology\";\n          break;\n        default:\n          pageType = wa_page_type_micro;\n      }\n      return pageType;\n    }\n    \n    \n    function setWaPageName(path) {\n      var lp = location.pathname,\n        wa_pathStr = (typeof path === \"undefined\") ? lp : path; //get page path from CQ or grab from JS if undefined (undefined would be if congig.json does not load/load correctly)\n      wa_pathStr = (/(.*)\\.results\\.html/.test(lp)) ? lp : wa_pathStr; //fix for content library having same CQ page name (if contains .results.html use pathname)\n      if (typeof path === \"undefined\") {\n        //page.eVar67 = page.prop49 = \"cq:error\";\n      }\n      return wa_pathStr;\n    }\n    \n    //Search Relevancy\n    var filterValue = \"\",\n      filterSelected = true;\n    \n    if (location.pathname.indexOf('\\/search\\.html') != -1 || location.pathname.indexOf('\\/searchcoveo\\.html') !== -1) {\n      ga_auto_fire = false;\n    }\n    \n    if (utag_data.wa_section.indexOf('ssg-intc') > -1 || utag_data.wa_section.indexOf('intc-digital-library') > -1 || utag_data.wa_section.indexOf('intc-competition-library') > -1 || utag_data.wa_section.indexOf('intc-solutions-library') > -1) {\n      ga_auto_fire = true;\n    }\n    \n    wap_tms.coveo = {};\n    \n    wap_tms.coveo.context = {};\n    \n    wap_tms.coveo.setContextFromText = function (mapping, text, itemSeparator, keyValSeparator) {\n      var items = text.split(itemSeparator).filter(Boolean);\n      var length = items.length;\n      for (var i = 0; i < length; ++i) {\n        var item = items[i];\n        var parts = item.split(keyValSeparator);\n        var key = parts[0];\n        var val = parts[1];\n        if (key && val && mapping[key]) {\n          wap_tms.coveo.context[mapping[key]] = val;\n        }\n      }\n    }\n    \n    wap_tms.coveo.setContextFromAffinities = function () {\n      var MAP = {\n        wa_audience: 'affinityAudience',\n        wa_industry_type: 'affinityIndustry',\n        wa_subject: 'affinitySubject',\n      };\n      var affinities = Object.keys(MAP);\n      var length = affinities.length;\n      for (var i = 0; i < length; ++i) {\n        var key = affinities[i];\n        var val = wap_tms.affinities[key];\n        if (val && val.config && val.config.wap_top1) {\n          wap_tms.coveo.context[MAP[key]] = val.config.wap_top1;\n        }\n      }\n    }\n    \n    wap_tms.coveo.setContextFromTargetData = function () {\n      var MAP = {\n        membershipGroup: 'partnerMembershipGroup',\n        programidentifier: 'partnerProgramIdentifier',\n        ProgramRole: 'partnerProgramRole',\n        isapartner: 'partnerIsaPartner',\n      };\n      var match = wap_tms.targetData;\n      if (match) {\n        match = decodeURIComponent(match);\n        wap_tms.coveo.setContextFromText(MAP, match, '|', '=');\n      }\n    }\n    \n    wap_tms.coveo.setContextFromDnb = function () {\n      var MAP = {\n        companyName: 'dnbCompanyName',\n        industryNaics: 'dnbIndustryNaics',\n      };\n      var dnb = localStorage.getItem('wa_dnb');\n      if (dnb) {\n        wap_tms.coveo.setContextFromText(MAP, dnb, '|', ':');\n      }\n    }\n    \n    wap_tms.coveo.getContext = function () {\n      var context = localStorage.getItem('wa_search_context');\n      return context ? JSON.parse(context) : context;\n    }\n    \n    wap_tms.coveo.saveContext = function () {\n      localStorage.setItem('wa_search_context', JSON.stringify(wap_tms.coveo.context));\n    }\n    \n    wap_tms.coveo.setContext = function (source) {\n      if (wap_tms.consent.isCategoryEnabled('analytics')) {\n        wap_tms.coveo.context = wap_tms.coveo.getContext() || {};\n        switch (source) {\n          case 'affinities':\n            wap_tms.coveo.setContextFromAffinities();\n            break;\n          case 'targetData':\n            wap_tms.coveo.setContextFromTargetData();\n            break;\n          case 'dnb':\n            wap_tms.coveo.setContextFromDnb();\n            break;\n        }\n        wap_tms.coveo.saveContext();\n      }\n    }\n    \n    wap_tms.coveo.setContext('dnb');\n    \n    wap_tms.coveo.checkZeroSearchResult = function (keyword, results, filter) {\n      const page = {};\n      const hit = {};\n      var formatted = keyword ? keyword.toLowerCase() : keyword;\n      if (results == 0) {\n        page.eVar48 = page.prop38 = formatted;\n        hit.event58  = hit.event58 = 1;\n      }\n      if (filter === '') filter = 'no_filter';\n      hit.eVar44 = hit.prop34 = page.eVar44 = page.prop34 = wa_filter_name = filter;\n      hit.eVar48 = hit.prop38 = page.eVar48 = page.prop38 = formatted;\n      document.dispatchEvent(new CustomEvent('wapPage', { detail: { hit, page } }));\n    }\n    \n    wap_tms.coveo.processSearchEvent = function (data) {\n      const page = {};\n      const hit = {};\n      hit.eVar47 = 'coveo';\n      hit.eVar202 = 'wapTrackVideo';\n      wa_keyword = data.queryText || 'no keyword';\n      var results = data.numberOfResults;\n      hit.eVar48 = hit.prop38 = page.eVar48 = page.prop38 = wa_keyword;\n      hit.eVar45 = hit.prop35 = 'results: ' + (results ? results.toString() : '0');\n      hit.event36 = data.responseTime;\n      hit.event39 = '1';\n      var category = undefined;\n      var action = undefined;\n      var label = undefined;\n      switch (data.actionCause) {\n        case 'interfaceChange':\n          category = 'Components';\n          action = 'click: coveo-tabs';\n          label = data.customData.interfaceChangeTo;\n          break;\n    \n        case 'omniboxAnalytics':\n          hit.event107 = 1; // Top suggestions selection\n        case 'interfaceLoad':\n        case 'searchFromLink':\n        case 'searchboxSubmit':\n          var ws = tmsGetParamByName('ws');\n          if (ws) {\n            hit.eVar47 = hit.prop37 = ws;\n          }\n          category = 'Search';\n          action = 'search-results: additional keyword';\n          label = wa_keyword;\n          break;\n    \n        case 'selectcategory':\n        case 'deselectcategory':\n        case 'clearcategory':\n        case 'selectValue':\n        case 'deselectValue':\n        case 'facetSelect':\n        case 'breadcrumbFacet':\n        case 'breadcrumbResetAll':\n        case 'showMoreFacetResults':\n        case 'showLessFacetResults':\n        case 'facetDeselect':\n        case 'facetClearAll':\n        case 'daterangeEvent':\n          hit.eVar44 = hit.prop34 = page.eVar44 = page.prop34 = wa_filter_name;\n          category = 'Search';\n          action = 'search-results: filter';\n          label = wa_keyword + ' :: ' + wa_filter_name;\n          break;\n      }\n      if (category && action && label) {\n        trackGaEvent({\n          hit,\n          page,\n          category,\n          action,\n          label\n        });\n        setTimeout(function () {\n          wap_tms.coveo.checkZeroSearchResult(wa_keyword, results, wa_filter_name);\n        }, 500);\n      } \n    }\n    \n    wap_tms.coveo.processClickEvent = function (data) {\n      const hit = {};\n      hit.eVar47 = 'coveo';\n      hit.eVar202 = 'processClickEvent';\n      const title = data.documentTitle.toLowerCase();\n      const url = data.documentUrl;\n      const position = data.documentPosition;\n      hit.eVar46 = hit.prop36 = title;\n      hit.event59  = hit.event150 = position;\n      hit.event60  = hit.event60 = '1';\n      hit.eVar44 = hit.prop34 = page.eVar44 = page.prop34 = wa_filter_name;\n      if (data.sourceName && data.sourceName.indexOf('cdr') === 0) {\n        wap_tms.captureContentDownload(hit.eVar47, data.customData, hit);\n      } else {\n        trackGaEvent({\n          hit,\n          page,\n          category: 'Search',\n          action: 'search-results: click-through',\n          label: url,\n        });\n      }\n    }\n    \n    wap_tms.coveo.getFilters = function (data) {\n      let filters = '';\n      if ((data.facetState && data.facetState.length) || (data.customData.facetState && data.customData.facetState.length)) {\n        const obj = {};\n        const facets = data.facetState || data.customData.facetState;\n        facets.forEach(function(facet) {\n          if (!obj[facet.title]) obj[facet.title] = [];\n          obj[facet.title].push(facet.value.replace(/\\|/gi, '/'));\n        });\n        const arr = Object.keys(obj).map(function(key) {\n          return key + ':' + obj[key].join(',');\n        });\n        filters = arr.join('|').toLowerCase();\n      } else if (data.customData.refineFilters) {\n        filters = data.customData.refineFilters.filter(Boolean).join('|').toLowerCase();\n      }\n      if (data.customData.startDate && data.customData.endDate) {\n        filters = filters === '' ? filters : `${filters}::`;\n        filters = `${filters}${data.customData.startDate}-${data.customData.endDate}`;\n      }\n      return filters;\n    }\n    \n    wap_tms.coveo.processCustomEvent = (data) => {\n      const hit = {};\n      hit.eVar202 = 'processCustomEvent';\n      switch (data.actionCause) {\n        case 'closeSmartSnippetFeedbackModal':\n          // Ignore\n          break;\n        case 'expandSmartSnippetSuggestion':\n        case 'collapseSmartSnippetSuggestion':\n        case 'expandSmartSnippet':\n        case 'collapseSmartSnippet':\n        case 'likeSmartSnippet':\n        case 'dislikeSmartSnippet':\n        case 'openSmartSnippetFeedbackModal':\n          trackGaEvent({\n            hit,\n            category: 'Component',\n            action: `click: ${data.actionType}`,\n            label: data.actionCause,\n          });\n          break;\n        case 'sendSmartSnippetReason':\n          const reason = data.customData ? `${data.customData.reason}${data.customData.details ? ':' + data.customData.details : ''}` : '';\n          trackGaEvent({\n            hit,\n            category: 'Component',\n            action: `click: ${data.actionType}`,\n            label: `${data.actionCause}${reason ? ':' + reason.toLowerCase() : ''}`,\n          });\n          break;\n      }\n    }\n    \n    wap_tms.coveo.processEvent = function (args) {\n      var data = args.coveoAnalyticsEventData;\n      wa_filter_name = wap_tms.coveo.getFilters(data);\n      var details = data.originLevel2 ? 'tab:' + data.originLevel2.toLowerCase() : '';\n      details += location.hash ? '|' + decodeURIComponent(location.hash) : '';\n      window.adobeDataLayer.add('', {}, { eVar89: details, eVar129: wa_filter_name });\n      switch (args.event) {\n        case 'CoveoSearchEvent':\n          wap_tms.coveo.processSearchEvent(data);\n          break;\n        case 'CoveoClickEvent':\n          wap_tms.coveo.processClickEvent(data);\n          break;\n        case 'CoveoCustomEvent':\n          wap_tms.coveo.processCustomEvent(data);\n          break;\n      };\n    }\n    \n    wap_tms.coveo.checkForObject = function (n) {\n      if (n > 0) {\n        if (typeof (Coveo) !== 'undefined' && typeof (Coveo.$$) === 'function') {\n          if (Coveo.$$(document).find('#search')) {\n            Coveo.$$(Coveo.$$(document).find('#search')).on('analyticsEventReady', function (ev, args) {\n              wap_tms.coveo.processEvent(args);\n            });\n          }\n        } else {\n          setTimeout(function () {\n            wap_tms.coveo.checkForObject(--n);\n          }, 500);\n        }\n      }\n    }\n    wap_tms.coveo.checkForObject(20);\n    \n    //TA1363109 - Coveo Search - Track Buttons\n    wap_tms.coveo.trackSearchElements = function (compName, compNameId, value, id) {\n      const hit = {};\n      hit.eVar202 = 'trackSearchElements';\n      var keyNumCheck = Number(id);\n      if (isNaN(keyNumCheck)) { // SendBtn-FeedbackComponent\n        trackGaEvent({\n          hit,\n          category: 'Component',\n          action: `click: ${compName}-${compNameId}`,\n          label: `${value}:message:${id}`,\n        });\n        trackGaEvent('Components', 'click: ' + compName + '-' + compNameId, value + ':message:' + id);\n      } else { // AddBookmark-Btn\n        if (typeof keyNumCheck === 'number') {\n          trackGaEvent({\n            hit,\n            category: 'Component',\n            action: `click: ${compName}-${compNameId}`,\n            label: `${value}:docId:${id}`,\n          });\n        }\n      }\n    }\n    \n    //Function called by AEM team on search pages: On search results load.\n    function checkZeroSearchResults(keyword, numberOfResults, filter_name) {\n      const hit = {};\n      const page = {};\n      hit.eVar202 = 'checkZeroSearchResults';\n      let wa_pathName = setWaPageName(cq_tms.wa_cq_url);\n      let ga_QueryString = location.search.toLowerCase();\n      let num = ga_QueryString.indexOf('query=');\n      ga_QueryString = ga_QueryString.substring(0, num);\n      if (ga_QueryString == \"\")\n        ga_QueryString = \"?\";\n      hit.event57 = '1';\n    \n      filter = filter_name;\n      //filterLevel = (filter.split(\"|\").length);\n      filter = filter.replace(/ /g, '');\n      filter = filter.replace(/targetaudience\\|support/g, 'support');\n      let filter_val = filter.split(\":\");\n    \n      if (filter_val.length > 1 && filter_name.startsWith('download')) {\n        filter = filter_val[filter_val.length - 1];\n        filter = filter.replace(/\\|/g, ':');\n      }\n    \n      filter = filter.replace(/\\|/g, \"_\");\n    \n      if (filter_name == \"\")\n        filter = \"no_filter\";\n    \n      hit.eVar44 = hit.prop34 = page.eVar44 = page.prop34 = wa_filter_name = filter;\n    \n      if (keyword == \"\") {\n        keyword = \"no keyword\";\n      } else {\n        keyword = keyword.toLowerCase();\n      }\n      if (numberOfResults == 0) {\n        page.eVar48 = page.prop38 = keyword;\n        hit.event58  = hit.event58 = '1';\n      }\n      hit.eVar48 = hit.prop38 = page.eVar48 = page.prop38 = keyword;\n      ga_QueryString += \"keyword=\" + keyword + \"&wa_filter=\" + filter;\n      ga_SearchPage = wa_pathName + ga_QueryString;\n      wap_ga.pagetitle = \"Search Results | filter = \" + filter + \" | search-term = \" + keyword;\n    \n      if (wa_showMoreClickedFromSearchFlag) {\n        trackGaPage(ga_SearchPage, hit, page);\n      } else {\n        wa_showMoreClickedFromSearchFlag = true;\n      }\n    }\n    //Function called by AEM on deselecting a filter\n    function filterDeselect(filter_name) {\n      const page = {};\n      const hit = {};\n      hit.eVar202 = 'filterDeselect';\n      //Remove all spaces amd con\n      filter_name = filter_name.replace(/\\s/g, '');\n      filter_name = filter_name.toLowerCase();\n    \n      //Replace targetaudience:support or targetaudience\\|support with 'support' as values for the same are presented in different ways.\n      filter_name = filter_name.replace(/targetaudience:support/g, 'support');\n      filter_name = filter_name.replace(/targetaudience\\|support/g, 'support');\n    \n      //Capture keyword from the input field\n      let keyword = $('[name=\"allwords\"]').val().toLowerCase();\n    \n      //if keyword is not entered\n      if (keyword == \"\")\n        keyword = \"no keyword\";\n    \n      //if filter is not selected; set it to \"no_filter\" else load the value selected.\n      page.eVar44 = page.prop34 = hit.eVar44 = hit.prop34 = wa_filter_name = filter_name;\n      trackGaEvent({\n        hit,\n        page,\n        category: 'Component',\n        action: 'search-results: filter',\n        label: `${keyword} :: ${page.eVar44}`,\n      });\n    }\n    \n    //New Search UI\n    function wapCheckZeroSearchResults(keyword, numberOfResults, filter_name) {\n      var wa_pathName = setWaPageName(cq_tms.wa_cq_url);\n      var ga_QueryString = location.search.toLowerCase();\n      var num = ga_QueryString.indexOf('query=');\n      ga_QueryString = ga_QueryString.substring(0, num);\n      if (ga_QueryString == \"\")\n        ga_QueryString = \"?\";\n      hit.event57 = '1';\n    \n      filter = filter_name;\n      //filterLevel = (filter.split(\"|\").length);\n      filter = filter.replace(/ /g, '');\n      filter = filter.replace(/targetaudience\\|support/g, 'support');\n      var filter_val = filter.split(\":\");\n    \n      if (filter_val.length > 1 && filter_name.startsWith('download')) {\n        filter = filter_val[filter_val.length - 1];\n        filter = filter.replace(/\\|/g, ':');\n      }\n    \n      filter = filter.replace(/\\|/g, \"_\");\n    \n      if (filter_name == \"\")\n        filter = \"no_filter\";\n    \n      hit.eVar44 = hit.prop34 = page.eVar44 = page.prop34 = wa_filter_name = filter;\n      if (keyword == \"\") {\n        keyword = \"no keyword\";\n      } else {\n        keyword = keyword.toLowerCase();\n      }\n      if (numberOfResults == 0) {\n        page.eVar48 = page.prop38 = keyword;\n        hit.event58  = '1';\n      }\n      hit.eVar48 = hit.prop38 = page.eVar48 = page.prop38 = keyword;\n      ga_QueryString += \"keyword=\" + keyword + \"&wa_filter=\" + filter;\n      ga_SearchPage = wa_pathName + ga_QueryString;\n      wap_ga.pagetitle = \"Search Results | filter = \" + filter + \" | search-term = \" + keyword;\n    \n      if (wa_showMoreClickedFromSearchFlag) {\n        trackGaPage(ga_SearchPage, hit, page);\n      } else {\n        adobeDataLayer.add('', {}, page, hit);\n        wa_showMoreClickedFromSearchFlag = true;\n      }\n    }\n    \n    function wapFilterSelect(filter_name) {\n      const hit = {};\n      hit.eVar202 = 'wapFilterSelect';\n      filter = filter_name;\n      filter = filter.replace(/ /g, '');\n      filter = filter.replace(/targetaudience\\|support/g, 'support');\n      //filterLevel = (filter.split(\"|\").length);\n    \n      let filter_val = filter.split(\":\");\n    \n      if (filter_val.length > 1 && filter_name.startsWith('download')) {\n        filter = filter_val[filter_val.length - 1];\n        filter = filter.replace(/\\|/g, ':');\n      }\n    \n      filter = filter.replace(/\\|/g, \"_\");\n    \n      let keyword = $('#search_term').val().toLowerCase();\n      if (keyword == \"\")\n        keyword = \"no keyword\";\n    \n      page.eVar44 = page.prop34 = hit.eVar44 = hit.prop34 = wa_filter_name = filter;\n      \n      trackGaEvent({\n        hit,\n        page,\n        category: 'Component',\n        action: 'search-results: filter',\n        label: `${keyword} :: ${page.eVar44}`,\n      });\n    }\n    \n    //TAGS: Probably deprecate, function not found on RDC page and not called by us\n    wap_tms.calbackRDCSearch = function (text) {\n      const hit = {};\n      hit.eVar202 = 'calbackRDCSearch';\n      trackGaEvent({\n        hit,\n        category: 'Component',\n        action: 'search-box: text',\n        label: text,\n      });\n    }\n    \n    //TAGS: About 3k hits this month, not sure if we can deprecate\n    function wapRecentSearches(keyword) {\n      const hit = {};\n      hit.eVar202 = 'wapRecentSearches';\n      wapRecentSearchFlag = true;\n      trackGaEvent({\n        hit,\n        category: 'Component',\n        action: 'search-box: recent searches',\n        label: keyword,\n      });\n    }\n    \n    //TAGS: Possibly legacy not sure if we can deprecate\n    function wapFilterSearches(keyword, filter) {\n      const page = {};\n      const hit = {};\n      hit.eVar202 = 'wapFilterSearches';\n      page.eVar44 = page.prop34 = hit.eVar44 = hit.prop34 = filter;\n      trackGaEvent({\n        hit,\n        page,\n        category: 'Component',\n        action: 'search-results: filter',\n        label: `${keyword} :: ${filter}`,\n      });\n    }\n    \n    //Tags: This is not called in our framework - look to deprecate because it does not send a hit\n    function setPageVps(pageType) {\n      var setVpsByResourceType = (wa_vpsVal == \"\") ? false : true; //chk if VPS is set\n      if (setVpsByResourceType) {\n        setVpsByResourceType = (utag_data.wa_page_type_macro == \"asset\") ? true : false;\n      } //only set using VPS metadata if page \"asset\" template\n      if (setVpsByResourceType) {\n        //set page-level VPS based on resource type VPS value\n        pageTypeVal = wa_vpsVal;\n        if (pageType == \"asset\") {      \n          hit.eVar43 = hit.prop33 = 'load:page:asset';\n        } else { }\n      } else {\n        //set page-level VPS based on page type value\n        switch (pageType) {\n          case \"landing\":\n          case \"search\":\n          case \"message\":\n          case \"login\":\n          case \"profile\":\n          case \"profileManagement\":\n          case \"register\":\n          case \"formstemplate\":\n          case \"sitemapdynamic\": //set events, se_points & event5 set by wa_process.js\n            break;\n          case \"collection\":\n          case \"fullscreenmedia\":\n            if (wa_pathName.search(/\\/buy\\//) > -1) { //look for Shop Collection page\n              hit.eVar43 = hit.prop33 = 'load:page:intel-shop';\n            } else { }\n            break;\n          case \"asset\":\n            hit.eVar43 = hit.prop33 = 'load:page:asset';\n            break;\n          case \"shop\":\n            hit.eVar43 = hit.prop33 = 'load:page:intel-shop';\n            break;\n          case \"product\":\n            break;\n          case \"technology\":\n            break;\n          case \"register\":\n            break;\n          default:\n        }\n      }\n      return pageTypeVal;\n    }\n    \n    //unescape JSON\n    window.unescapeHTML = (data) => {\n      var unescapedData = $(\"<div />\").html(data).text();\n      return encodeHTML(unescapedData);\n    };\n    \n    //Encode HTML for preventig XSS attacks\n    function encodeHTML(rawStr) {\n      var encodedStr = rawStr.replace(/[\\u00A0-\\u9999<>\\&]/gim, function (i) {\n        return '&#' + i.charCodeAt(0) + ';';\n      });\n      return encodedStr;\n    };\n    \n    // method to check startswith\n    String.prototype.startsWith = function (str) {\n      return (this.match(\"^\" + str) == str)\n    }\n    String.prototype.endsWith = function (suffix) {\n      return this.indexOf(suffix, this.length - suffix.length) !== -1;\n    }\n    //check for link patterns\n    \n    //Tags: I think parts of this can be EOL'd \n    function identifyLinkPatterns(componentName, linkHref, linkObj) {\n      //Custom Page tracking\n      if (waCustomTracking) {\n        var linkData = setVpsLink(linkHref);\n        waCustomVpsOverride = linkData.vps;\n        componentName = linkData.component;\n        datawap = linkData.datawap;\n        if (datawap) {\n          linkObj.attr('data-wap', datawap); //add data-wap attribute if set\n        }\n      }\n      //check if link is registration\n      if (/\\/registration-/.test(linkHref)) {\n        componentName = \"wapRegCatchAll\";\n      }\n    \n      //check if link is Opt-in start\n      /*if (/^htt(p|ps):\\/\\/plan\\.(.*)\\.reg\\.html$/ig.test(linkHref)) {\n      waAddEvents = \",event83\";\n      }*/\n    \n      //check if link is shop thrid-party-click-out\n      if (/#shopthirdparty/.test(linkHref)) {\n        componentName = \"wapShopThirdPartyCatchAll\";\n        //remove hashtag string\n        var splitString = linkHref.split(\"#\");\n        linkHref = splitString[0]; //remove # from metrics capture link\n        linkObj.attr('href', linkHref); //remove # from <a> tag\n      }\n    \n      //check if link has custom VPS\n      if (/#vps\\=(.*)/.test(linkHref)) { //format using hashtag is: #vps=VPS-VALUE\n        var getVPSval = linkHref.match(/#vps\\=(.*)/);\n        waVpsOverride = getVPSval[1];\n        //remove hashtag string\n        var splitString = linkHref.split(/#vps\\=/);\n        linkHref = splitString[0]; //remove # from metrics capture link\n        linkObj.attr('href', linkHref); //remove # from <a> tag\n      }\n    \n      //check if link is shop experience link *** MAKE SURE THIS CHECK IS LAST (in case shop exp event needs to be applied) ***\n      //if (/(\\/(buy\\/|ultrabook\\/shop\\-ultrabook\\.html)|\\/shop\\/)/.test(linkHref)) {\n      if (/(^\\/buy\\/)|(\\/(ultrabook|2-in-1|tablets|all-in-one)\\/shop-)|(^\\/..\\/..\\/products\\/)|(pocket\\.intel\\.com)|(prcappzone\\.intel\\.com\\/shop\\/)|(beforeyoubuypc\\.)|(buypc\\.intel)|^http(.*)\\.com\\/(intel-shop|shop-)/.test(linkHref)) {\n        if (/\\/buy\\//.test(wa_pathName)) {\n          //user is on a page in the /buy/ folder so DO NOT track as shop experience link\n        } else {\n          switch (componentName) {\n            case \"megamenu\":\n            case \"savedcontents\":\n            case \"contentlibrary\":\n            case \"searchresult\":\n            case \"uheadersearch\":\n            case \"homepagesearch\":\n            case \"bestmatch\":\n            case \"matching\":\n              //do not track as Shop links in these components but add buy event 24 for Omniture\n              waAddEvents = \",event24\";\n              break;\n            case \"shopblade\":\n              componentName = \"shopblade\";\n              break;\n            case \"atl-carousel\":\n              componentName = \"atl-carousel\";\n              break;\n            case \"ultrabook-ces-2013\":\n              componentName = \"ultrabook-ces-2013\";\n              break;\n            case \"dec-tool\":\n              componentName = \"dec-tool\";\n              break;\n            default:\n              componentName = \"wapShopCatchAll\";\n              break;\n          }\n        }\n      }\n      return componentName;\n    }\n    \n    wap_tms.checkJsonText = function (jsonText) {\n      if (!jsonText || typeof jsonText !== 'string') {\n        return false;\n      }\n      return (jsonText === '' || jsonText === '{}') ? false : true;\n    }\n    //Check if text is parseable to Json\n    wap_tms.checkJson = (text) => {\n      let obj = null;\n      try {\n        obj = JSON.parse(wap_tms.removeQuotesFromValues(text));\n      } catch (e) {\n        obj = null;\n      }\n      return obj;\n    }\n    //Product Catalog\n    wap_tms.removeQuotesFromValues = function (linkData) {\n      var res = '';\n      try {\n        if (wap_tms.checkJsonText(linkData)) {\n          var cleanLinkData = '';\n          var commaSplit = linkData.split('\\\",');\n          for (i = 0; i < commaSplit.length; i++) {\n            var separator = commaSplit[i].indexOf(':');\n            var colonSplit = [commaSplit[i].slice(0, separator), commaSplit[i].slice(separator + 1)];\n            colonSplit[1] = colonSplit[1].replace(/\\\"/g, '');\n            if (i < commaSplit.length - 1) {\n              cleanLinkData += colonSplit[0] + '\\:\\\"' + colonSplit[1] + '\\\"\\,';\n            } else {\n              colonSplit[1] = colonSplit[1].replace(/\\}/g, '');\n              cleanLinkData += colonSplit[0] + '\\:\\\"' + colonSplit[1] + '\\\"\\}';\n            }\n          }\n          res = cleanLinkData;\n        }\n    \n      } catch (e) { }\n      return res;\n    }\n    \n    function captureEMTVariables(metadata) {\n      if (typeof metadata !== \"undefined\" && metadata !== \"\") {\n        var data = '';\n        var splitdata = metadata.split(',');\n        for (var index = 0; index < splitdata.length; index++) {\n          var metadata_split = splitdata[index];\n          var dividedAt = metadata_split.indexOf(':');\n          if (data !== '') {\n            data = data + ',' + metadata_split.slice(dividedAt + 1);\n          } else {\n            data = metadata_split.slice(dividedAt + 1);\n          }\n        }\n        return data;\n      }\n    }\n    \n    //Tags: Is synaptica still in use?\n    function captureSynapticaVariables(metadata) {\n      if (typeof metadata !== \"undefined\" && metadata !== \"\") {\n        var data = '';\n        var splitdata = metadata.split(',');\n        for (var index = 0; index < splitdata.length; index++) {\n          var metadata_split = splitdata[index];\n          var dividedAt = metadata_split.indexOf(':');\n          if (data !== '') {\n            data = data + ',' + metadata_split.slice(dividedAt + 1);\n          } else {\n            data = metadata_split.slice(dividedAt + 1);\n          }\n        }\n        return data;\n      }\n    }\n    \n    //Old mappings - to be EOL'ed.\n    //Tags: per comments above is this EOL'd?\n    utag_data.wa_program_level = cq_tms.wa_program_level;\n    utag_data.wa_topic = multiLevelVars('topics', cq_tms.wa_topic_level1, cq_tms.wa_topic_level2);\n    var wa_product_name = cq_tms.wa_intel_product_level4;\n    if (wa_product_name === \"\") {\n      wa_product_name = cq_tms.wa_intel_product_level3;\n      if (wa_product_name === \"\") {\n        wa_product_name = cq_tms.wa_intel_product_level2;\n        if (wa_product_name === \"\") {\n          wa_product_name = cq_tms.wa_intel_product_level1;\n        }\n      }\n    }\n    if (typeof cq_tms.wa_primary_audience !== \"undefined\" && typeof cq_tms.wa_secondary_audience !== \"undefined\") {\n      utag_data.wa_primary_audience = cq_tms.wa_primary_audience;\n      utag_data.wa_secondary_audience = cq_tms.wa_secondary_audience;\n    }\n    var str_primary_audience = (typeof utag_data.wa_target_audience !== \"undefined\" && utag_data.wa_target_audience !== \"\") ? \",\" : \"\";\n    utag_data.wa_target_audience = utag_data.wa_target_audience + ((typeof cq_tms.wa_secondary_audience !== \"undefined\" && cq_tms.wa_secondary_audience !== \"\") ? str_primary_audience + cq_tms.wa_secondary_audience : \"\");\n    \n    //New mappings - EMT Updates\n    //utag_data.wa_asset_id = (typeof cq_tms.wa_asset_id !== \"undefined\") ? cq_tms.wa_asset_id : \"\";\n    //utag_data.wa_asset_id = generateAssetID(location.href);\n    //Tags: need to look at what variables we still use\n    utag_data.wa_industry_type = (typeof cq_tms.wa_industry_type !== \"undefined\") ? captureEMTVariables(cq_tms.wa_industry_type) : \"\"; //Capture wa_industry_type from the newly surfaced attribute\n    utag_data.wa_partner_prog = (typeof cq_tms.wa_partner_prog !== \"undefined\") ? captureEMTVariables(cq_tms.wa_partner_prog) : \"\";\n    utag_data.wa_subject = typeof(cq_tms.wa_emtsubject) !== 'undefined' ? captureEMTVariables(cq_tms.wa_emtsubject) : '';\n    utag_data.wa_subject = (!utag_data.wa_subject && typeof cq_tms.wa_subject !== 'undefined') ? captureEMTVariables(cq_tms.wa_subject) : utag_data.wa_subject;\n    utag_data.wa_biz_size = (typeof cq_tms.wa_biz_size !== \"undefined\") ? captureEMTVariables(cq_tms.wa_biz_size) : \"\";\n    utag_data.wa_emt_org = (typeof cq_tms.wa_emt_org !== \"undefined\") ? captureEMTVariables(cq_tms.wa_emt_org) : \"\";\n    utag_data.wa_partner_type = (typeof cq_tms.wa_partner_type !== \"undefined\") ? captureEMTVariables(cq_tms.wa_partner_type) : \"\";\n    utag_data.wa_product_name = (typeof cq_tms.wa_product_name !== \"undefined\") ? captureSynapticaVariables(cq_tms.wa_product_name) : wa_product_name; //Capture from New or Old implementation.\n    utag_data.wa_audience = (typeof cq_tms.wa_audience !== \"undefined\") ? captureEMTVariables(cq_tms.wa_audience) : \"\";\n    utag_data.wa_vphid = (typeof cq_tms.wa_vphid !== \"undefined\") ? cq_tms.wa_vphid : \"\"; //Capture vphid from the newly surfaced attribute\n    utag_data.wa_emt_intel = (typeof cq_tms.wa_emt_intel !== \"undefined\") ? captureEMTVariables(cq_tms.wa_emt_intel) : \"\";\n    utag_data.wa_support_intel_product = (typeof cq_tms.wa_support_intel_product !== \"undefined\") ? captureSynapticaVariables(cq_tms.wa_support_intel_product) : \"\"; //Capture cq_tms.wa_support_intel_product\n    \n    //Maintaining consistency between legacy implementation and EMT updates\n    utag_data.wa_partner_prog = (typeof cq_tms.wa_program_level !== \"undefined\") ? cq_tms.wa_program_level : utag_data.wa_partner_prog;\n    utag_data.wa_subject = (typeof cq_tms.wa_topic_level1 !== \"undefined\") ? utag_data.wa_topic : utag_data.wa_subject;\n    utag_data.wa_audience = (utag_data.wa_target_audience !== \"\") ? utag_data.wa_target_audience : utag_data.wa_audience;\n    \n    utag_data.wa_reference_design = (typeof cq_tms.wa_reference_design !== \"undefined\" && typeof cq_tms.wa_subject !== \"undefined\") ? captureSynapticaVariables(cq_tms.wa_reference_design) : cq_tms.wa_reference_design;\n    utag_data.wa_software = cq_tms.wa_rsoftware ? captureSynapticaVariables(cq_tms.wa_rsoftware) : ((typeof cq_tms.wa_software !== \"undefined\" && typeof cq_tms.wa_subject !== \"undefined\") ? captureSynapticaVariables(cq_tms.wa_software) : cq_tms.wa_software);\n    utag_data.wa_system_type = cq_tms.wa_emtsystemtype ? captureSynapticaVariables(cq_tms.wa_emtsystemtype) : ((typeof cq_tms.wa_system_type !== \"undefined\" && typeof cq_tms.wa_subject !== \"undefined\") ? captureSynapticaVariables(cq_tms.wa_system_type) : cq_tms.wa_system_type);\n    utag_data.wa_intel_platform = (typeof cq_tms.wa_intel_platform !== \"undefined\" && typeof cq_tms.wa_subject !== \"undefined\") ? captureSynapticaVariables(cq_tms.wa_intel_platform) : cq_tms.wa_intel_platform;\n    \n    utag_data.wa_idz_custom_tags = (typeof cq_tms.wa_idz_custom_tags !== \"undefined\") ? cq_tms.wa_idz_custom_tags : \"\";\n    utag_data.wa_skill_level = (typeof cq_tms.wa_skill_level !== 'undefined') ? captureEMTVariables(cq_tms.wa_skill_level) : '';\n    utag_data.wa_solution = cq_tms.wa_solution ? captureEMTVariables(cq_tms.wa_solution) : (cq_tms.wa_emtsolution ? captureEMTVariables(cq_tms.wa_emtsolution) : '');\n    utag_data.wa_primarycontenttagging = (typeof cq_tms.wa_primarycontenttagging !== 'undefined') ? captureEMTVariables(cq_tms.wa_primarycontenttagging) : '';\n    utag_data.wa_contentformat = (typeof cq_tms.wa_uetcontentformat !== 'undefined') ? captureEMTVariables(cq_tms.wa_uetcontentformat) : '';\n    utag_data.wa_platformcodenames = (typeof cq_tms.wa_rdcplatformcodenames !== 'undefined') ? captureEMTVariables(cq_tms.wa_rdcplatformcodenames) : '';\n    utag_data.wa_geography = (typeof cq_tms.wa_emtgeography !== 'undefined') ? captureEMTVariables(cq_tms.wa_emtgeography) : '';\n    utag_data.wa_application = (typeof cq_tms.wa_emtapplication !== 'undefined') ? captureEMTVariables(cq_tms.wa_emtapplication) : '';\n    utag_data.wa_audience = (typeof cq_tms.wa_audience !== 'undefined') ? captureEMTVariables(cq_tms.wa_audience) : '';\n    utag_data.wa_intel_technology = cq_tms.wa_emttechnology ? captureEMTVariables(cq_tms.wa_emttechnology) : utag_data.wa_intel_technology;\n    utag_data.wa_page_id = (typeof cq_tms.wa_idz_nid !== \"undefined\") ? cq_tms.wa_idz_nid : \"\";\n    utag_data.wa_program_lang = (typeof cq_tms.wa_programming_language !== 'undefined') ? captureEMTVariables(cq_tms.wa_programming_language) : '';\n    utag_data.wa_os = cq_tms.wa_emtoperatingsystem ? captureEMTVariables(cq_tms.wa_emtoperatingsystem) : ((typeof cq_tms.wa_operating_system !== \"undefined\") ? cq_tms.wa_operating_system : '');\n    utag_data.wa_third_party_prod_sys_sol = (typeof cq_tms.wa_third_party_prod_sys_sol !== \"undefined\") ? cq_tms.wa_third_party_prod_sys_sol : \"\";\n    utag_data.wa_emtcontenttype = (typeof cq_tms.wa_emtcontenttype !== 'undefined') ? captureEMTVariables(cq_tms.wa_emtcontenttype) : '';\n    utag_data.wa_rmarketingproducts = (typeof cq_tms.wa_rmarketingproducts !== \"undefined\") ? captureEMTVariables(cq_tms.wa_rmarketingproducts) : \"\";\n    utag_data.wa_rintelproduct = (typeof cq_tms.wa_rintelproduct !== \"undefined\") ? captureEMTVariables(cq_tms.wa_rintelproduct) : \"\";\n    utag_data.wa_brightcove_video_poster = cq_tms.brightcove_video_poster || '';\n    utag_data.wa_brightcove_video_thumbnail = cq_tms.brightcove_video_thumbnail || '';\n    utag_data.wa_ownedby = (typeof cq_tms.wa_ownedby !== 'undefined') ? captureEMTVariables(cq_tms.wa_ownedby) : '';\n    utag_data.wa_curated = (typeof cq_tms.wa_curated !== 'undefined') ? captureEMTVariables(cq_tms.wa_curated) : '';\n    utag_data.wa_doc_id = (typeof cq_tms.wa_doc_id !== 'undefined') ? captureEMTVariables(cq_tms.wa_doc_id) : '';\n    utag_data.wa_doc_version = (typeof cq_tms.wa_doc_version !== 'undefined') ? captureEMTVariables((cq_tms.wa_doc_version).toString()) : '';\n    utag_data.wa_doc_publishdate = (typeof cq_tms.wa_doc_publishdate !== 'undefined') ? captureEMTVariables(cq_tms.wa_doc_publishdate) : '';\n    utag_data.wa_instanceregion = (typeof cq_tms.wa_instanceregion !== 'undefined') ? cq_tms.wa_instanceregion : 'non-china';\n    utag_data.wa_project = (typeof cq_tms.wa_avaamo_project !== 'undefined') ? cq_tms.wa_avaamo_project : '';\n    \n    try {\n      if (cq_tms.wa_modifed_date && !isNaN(cq_tms.wa_modifed_date)) {\n        utag_data.wa_page_last_modified = (new Date(parseInt(cq_tms.wa_modifed_date))).toISOString().split('T')[0];\n      }\n    } catch (e) { }\n    \n    if (typeof cq_tms.wa_icecatid !== \"undefined\" && utag_data.wa_asset_id === \"\") {\n      utag_data.wa_asset_id = cq_tms.wa_icecatid;\n    }\n    \n    if (typeof cq_tms.wa_subject !== \"undefined\") {\n      utag_data.wa_topic = utag_data.wa_subject;\n      utag_data.wa_target_audience = utag_data.wa_audience;\n    }\n    \n    wap_tms.getProductId = () => {\n      let productId = typeof(wa_product_id) !== 'undefined' ? wa_product_id : utag_data.wa_product_id;\n      if (cq_tms.wa_vphempid) {\n        productId = cq_tms.wa_vphempid;\n        utag_data.wa_epm_id_src = 'vphemp';\n      } else if (cq_tms.wa_icecatid) {\n        productId = cq_tms.wa_icecatid;\n        utag_data.wa_epm_id_src = 'icecat';\n      } else {\n        const matchArray = location.pathname.match(/\\/(\\d+)/);\n        productId = matchArray && matchArray.length > 1 ? matchArray[1] : '';\n        utag_data.wa_epm_id_src = productId ? 'url' : '';\n      }\n      utag_data.wa_epm_id_src = productId && !utag_data.wa_epm_id_src ? 'udo' : utag_data.wa_epm_id_src;\n      return productId;\n    }\n    \n    wap_tms.setEpmIds = function ($$) {\n      var epmId = '';\n      var FIELD = 'wa_intel_prd_levels';\n      var REG_EXP = /\\/content\\/www\\/..\\/..\\/(ark|design|embedded|secure|support|products|product)\\//;\n      var match = utag_data.wa_page_name.match(REG_EXP);\n      var site = match && match.length ? match[1] : '';\n      site = utag_data.wa_page_name.match(/\\/products\\/programmable/) ? 'programmable' : site;\n      site = utag_data.wa_page_name.match(/\\/products\\/sku/) ? 'sku' : site;\n      var categories = [];\n      switch (site) {\n        case 'sku':\n          epmId = cq_tms['wa_english_title'] || epmId;\n        case 'products': // product catalog\n          categories = ['upeproducts', 'rmarketingproducts', 'rintelproduct'];\n          break;\n    \n        case 'support': // support (ICS)\n          categories = ['rproducts'];\n          break;\n    \n        case 'design': // RDC\n        case 'secure':\n        case 'embedded':\n          categories = ['rdcplatformcodenames', 'rintelproduct', 'rintelcodename', 'rdcproducts'];\n          break;\n    \n        case 'product': // Download Center (DC)\n          categories = ['rdcproducts'];\n          break;\n    \n        case 'programmable': // PSG\n          categories = ['rmarketingproducts'];\n          break;\n    \n        case 'ark': // ARK\n          categories = ['rdcproducts'];\n          break;\n      }\n      if (categories.length && cq_tms[FIELD]) {\n        var arrayLevels = JSON.parse(cq_tms[FIELD]);\n        var length = categories.length;\n        var catLevels = [];\n        for (var i = 0; !catLevels.length && i < length; i++) {\n          catLevels = arrayLevels.filter(function (lvl) {\n            return lvl.productCategory === categories[i]\n          });\n        }\n        if (catLevels.length) {\n          var format = function (id) {\n            return id ? (id.indexOf('_') > -1 ? format(id.split('_')[1]) : id) : id;\n          };\n          var objLevels = {};\n          for (var i in catLevels) {\n            objLevels = $$.extend(true, objLevels, catLevels[i]);\n          }\n          var levels = Object.keys(objLevels).filter(function (item) {\n            return item.indexOf('level') > -1\n          }).sort();\n          var level = levels.slice(-1)[0];\n          var value = objLevels[level];\n          epmId = value && value.id ? format(value.id) : epmId;\n          for (var index = 0; index < levels.length; ++index) {\n            var lvl = levels[index];\n            utag_data['wa_epm_id_' + lvl] = objLevels[lvl].id;\n          }\n        }\n      }\n      if (epmId) {\n        utag_data.wa_epm_id_src = 'levels';\n      } else {\n        epmId = wap_tms.getProductId();\n      }\n      utag_data.wa_epm_id = epmId;\n    }\n    \n    wap_tms.setEpmIds($wap);\n    \n    // TWC762-593: set UDO wa_zone (eVar62/prop45) based on ID in page\n    (() => {\n      const infoRow = document.querySelector('.info-row');\n      if (infoRow) {\n        const infoCols = infoRow.querySelectorAll('.info-col');\n        for (let i = 0; i < infoCols.length; ++i) {\n          const infoCol = infoCols[i];\n          const label = infoCol.querySelector('.label');\n          if (label && label.innerText === 'ID') {\n            const value = infoCol.querySelector('.value');\n            if (value) {\n              utag_data.wa_zone = value.innerText;\n            }\n          }\n        }\n      }\n    })();\n    \n    utag_data.shop_manufacturer = (typeof cq_tms.wa_product_manufacturer == \"undefined\") ? '' : cq_tms.wa_product_manufacturer.toLowerCase();\n    utag_data.shop_processor = (typeof cq_tms.wa_product_processors == \"undefined\") ? '' : cq_tms.wa_product_processors.toLowerCase();\n    utag_data.shop_model = (typeof cq_tms.wa_product_model == \"undefined\") ? '' : cq_tms.wa_product_model.toLowerCase();\n    utag_data.shop_formFactor = (typeof cq_tms.wa_product_formFactor == \"undefined\") ? '' : cq_tms.wa_product_formFactor.toLowerCase();\n    utag_data.video_short_title = (typeof cq_tms.video_short_title !== \"undefined\") ? cq_tms.video_short_title : \"\";\n    utag_data.video_short_desc = (typeof cq_tms.video_short_desc !== \"undefined\") ? cq_tms.video_short_desc : \"\";\n    utag_data.video_thumbnail = (typeof cq_tms.video_thumbnail !== \"undefined\") ? cq_tms.video_thumbnail : \"\";\n    utag_data.video_long_desc = (typeof cq_tms.video_long_desc !== \"undefined\") ? cq_tms.video_long_desc : \"\";\n    if (typeof cq_tms.video_duration !== \"undefined\" && cq_tms.video_duration != \"\") {\n      seconds = cq_tms.video_duration / 1000;\n      finalSeconds = parseInt(seconds / 60);\n      remainingSeconds = parseInt((((seconds / 60) % 1) * 60));\n      utag_data.video_duration = finalSeconds + \":\" + remainingSeconds;\n    } else {\n      utag_data.video_duration = \"\";\n    }\n    \n    \n    \n    /*PC Metadata*/\n    utag_data.wa_product_reviewScore = (typeof cq_tms.wa_product_reviewScore == \"undefined\") ? '' : wap_tms.cleanUpRecommendationValue(cq_tms.wa_product_reviewScore);\n    utag_data.wa_product_bestPrice = (typeof cq_tms.wa_product_bestPrice == \"undefined\") ? '' : wap_tms.cleanUpRecommendationValue(cq_tms.wa_product_bestPrice);\n    utag_data.wa_product_bestPriceValue = (typeof cq_tms.wa_product_bestPriceValue == \"undefined\") ? '' : cq_tms.wa_product_bestPriceValue;\n    utag_data.wa_product_currency = (typeof cq_tms.wa_product_currency == \"undefined\") ? '' : wap_tms.cleanUpRecommendationValue(cq_tms.wa_product_currency);\n    utag_data.wa_product_image = (typeof cq_tms.wa_product_image == \"undefined\") ? '' : wap_tms.cleanUpRecommendationValue(cq_tms.wa_product_image);\n    utag_data.wa_product_categoryStatus = (typeof cq_tms.wa_product_categoryStatus == \"undefined\") ? '' : cq_tms.wa_product_categoryStatus;\n    utag_data.wa_product_highlights = (typeof cq_tms.wa_product_highlights == \"undefined\") ? '' : wap_tms.cleanUpRecommendationValue(cq_tms.wa_product_highlights);\n    \n    /*Email Metadata*/\n    //cd37 - wa_topic\n    //cd55 - wa_page_group\n    //cd32 - wa_intel_technology\n    //cd23 - wa_product_name\n    utag_data.wa_it_interest = \"\";\n    if ((typeof utag_data.wa_topic != \"undefined\" && (/machinelearning|artificialintelligence/.test(utag_data.wa_topic))) || (typeof utag_data.wa_page_group != \"undefined\" && /artificial-intelligence/.test(utag_data.wa_page_group))) {\n      utag_data.wa_it_interest = 'ai';\n    \n    }\n    if (typeof utag_data.wa_topic != \"undefined\" && (/highperformancecomputing/.test(utag_data.wa_topic))) {\n      if (utag_data.wa_it_interest.length > 0) {\n        utag_data.wa_it_interest += \",\"\n      }\n      utag_data.wa_it_interest += 'hpc';\n    }\n    if (typeof utag_data.wa_page_group != \"undefined\" && (/financial-services-it/.test(utag_data.wa_page_group))) {\n      if (utag_data.wa_it_interest.length > 0) {\n        utag_data.wa_it_interest += \",\"\n      }\n      utag_data.wa_it_interest += 'fsi';\n    }\n    if (typeof utag_data.wa_page_group != \"undefined\" && (/CSP|cloud-service-provider/.test(utag_data.wa_page_group))) {\n      if (utag_data.wa_it_interest.length > 0) {\n        utag_data.wa_it_interest += \",\"\n      }\n      utag_data.wa_it_interest += 'csp';\n    }\n    if (typeof utag_data.wa_page_group != \"undefined\" && (/network-transformation|\\/5g-|-5g-/.test(utag_data.wa_page_group))) {\n      if (utag_data.wa_it_interest.length > 0) {\n        utag_data.wa_it_interest += \",\"\n      }\n      utag_data.wa_it_interest += 'network transformation';\n    }\n    if (utag_data.wa_it_interest.length == 0) {\n      if (typeof utag_data.wa_page_group != \"undefined\" && (/\\/analytics\\//.test(utag_data.wa_page_group))) {\n        utag_data.wa_it_interest = 'analytics';\n      }\n    }\n    if (utag_data.wa_it_interest.length == 0) {\n      if (typeof utag_data.wa_page_group != \"undefined\" && (/cloudcomputing/.test(utag_data.wa_page_group))) {\n        utag_data.wa_it_interest = 'cloud';\n      }\n    }\n    \n    utag_data.wa_it_technology = \"\";\n    \n    if (typeof utag_data.wa_intel_technology != \"undefined\" && (/optane/.test(utag_data.wa_intel_technology))) {\n      utag_data.wa_it_technology = 'optane';\n    }\n    if (typeof utag_data.wa_intel_technology != \"undefined\" && (/vPro/.test(utag_data.wa_intel_technology))) {\n      if (utag_data.wa_it_technology.length > 0) {\n        utag_data.wa_it_technology += \",\"\n      }\n      utag_data.wa_it_technology += 'vPro';\n    }\n    if ((typeof utag_data.wa_topic != \"undefined\" && (/collaboration/.test(utag_data.wa_topic))) || (typeof utag_data.wa_product_name != \"undefined\" && /intelwirelessdisplay|intelunitesolution/.test(utag_data.wa_product_name))) {\n      if (utag_data.wa_it_technology.length > 0) {\n        utag_data.wa_it_technology += \",\"\n      }\n      utag_data.wa_it_technology += 'unite';\n    }\n    \n    //Get Social testing\n    if (cq_tms.wa_enable_getsocial === 'true') {\n      hit.event159 = '1';\n    }\n    \n    \n    utag_data.add_cid_shop = 'false';\n    \n    let cookieCid = wap_tms.storage.cookieRef.gawap_cid;\n    \n    /*\n    if (wap_tms.jquery.ver_1_7_plus || wap_tms.isjQueryAvailable) {\n            (function($) {\n                $(document).ready(function() {\n                    $(\"a[data-wap_type='buynow']\").each(function(index) {\n                                                                                      //$(\"a.btn-shop\").each(function(index) {\n                        linkData = $(this).attr(\"data-wap\");\n                        linkData = ((typeof linkData === \"undefined\") || (linkData == \"\")) ? \"\" : $.parseJSON(unescapeHTML(wap_tms.removeQuotesFromValues(linkData)));\n                        var url = $(this).attr(\"href\");\n                        if (linkData.linktype?.trim() == \"seeproduct\" && /iceleads\\.com|gethatch\\.com/i.test(url)) {\n                            if (url[url.length - 1] === \"&\") {\n                                url = url.substring(1);\n                            }\n                            if (cookieCid)\n                                url = wap_tms.custom.updateUrlParameter(url, \"cid\", cookieCid);\n                            if (cookieIcid)\n                                url = wap_tms.custom.updateUrlParameter(url, \"icid\", cookieIcid);\n                            if (utag_data.wa_client_id)\n                                url = wap_tms.custom.updateUrlParameter(url, \"uid\", utag_data.wa_client_id);\n                            //$(this).attr(\"href\", url);\n                                                                                                                    $(this).attr(\"href\", url);\n                        }\n                    });\n                });\n            }($wap));\n        }\n    */\n    \n    //Tags: This is never called by us - consolidate with other functions\n    wap_tms.custom.eventData = function (data) {\n      const hit = {};\n      hit.eVar202 = 'eventData';\n      const event = data.event;\n      if (event) {\n        switch (event) {\n          case 'click':\n            hit.eVar47 = (data.component + '-' + data.id) || '';\n            const id = data.id || '';\n            const name = data.name || '';\n            hit.eVar45 = hit.prop35 = (data.category || '').toLowerCase();\n            trackGaEvent({\n              hit,\n              category: 'Component',\n              action: `click: ${hit.eVar47}`,\n              label: name,\n            });\n            break;\n        }\n      }\n    }\n    \n    //Tags: probably can EOL. This looks at gethatch and iceleads shopping links and edits the url with\n    //      some UID parameters. But utag_data.wa_client_id should not be defined\n    wap_tms.custom.addHatchData = function () {\n      $(\"body\").on(\"mouseenter mouseleave touchstart\", \"a[data-wap_type='buynow']\", function (e) {\n        var element = $(this);\n        var url = element.attr(\"href\");\n        if (!/icid/i.test(url)) {\n          linkData = element.attr(\"data-wap\");\n          linkData = ((typeof linkData === 'undefined') || (linkData === '')) ? '' : wap_tms.checkJson(unescapeHTML(linkData)) //check if data-wap is undefined or blank\n          linkData = linkData || '';\n          if (linkData.linktype?.trim() == \"seeproduct\" && /iceleads\\.com|gethatch\\.com/i.test(url)) {\n            var waitForParameters = function (n) {\n              if (n > 0 && !(utag_data.wa_amc_id && utag_data.wa_client_id)) {\n                setTimeout(function () { waitForParameters(--n) }, 500);\n              }\n              else {\n                var cid = cookieCid && /gethatch\\.com/i.test(url) ? cookieCid.replace(/\\|/g, '_') : cookieCid;\n                wap_tms.addParametersToUrl(element, url, cid, utag_data.wa_amc_id, utag_data.wa_client_id);\n              }\n            }\n            waitForParameters(5);\n          }\n        }\n      });\n    }\n    if (wap_tms.jquery.ver_1_7_plus || wap_tms.isjQueryAvailable) {\n      (function ($) {\n        if (/search.html/.test(utag_data.wa_page_name)) {\n          setTimeout(function () { wap_tms.custom.addHatchData(); }, 5000);\n        } else {\n          $(document).ready(function () {\n            wap_tms.custom.addHatchData();\n          });\n        }\n      }($wap));\n    }\n    \n    // Flyout expand and close custom tracking\n    //Tags: Only 200 hits - is this still needed\n    const flyoutExpandCollapse = () => {\n      $('.flyout-content button.flyout-button[data-wap]').on('click', function () {\n        const hit = {};\n        hit.eVar202 = 'flyoutExpandCollapse';\n        trackGaEvent({\n          hit,\n          category: 'Component',\n          action: `click: flyOutBlade-1`,\n          label: 'expand',\n        });\n      });\n    \n      $('.flyout-items span.less').on('click', function () {\n        const hit = {};\n        hit.eVar202 = 'flyoutExpandCollapse';\n        trackGaEvent({\n          hit,\n          category: 'Component',\n          action: `click: flyOutBlade-1`,\n          label: 'close',\n        });\n      });\n    };\n    wap_tms.onReadyState(() => wap_tms.custom.executeCallbackWhen({\n      'when': () => typeof jQuery !== 'undefined',\n      'callback': flyoutExpandCollapse,\n      'tries': 8\n    }));\n    \n    //Onload Search Filter assignment\n    if ((location.pathname.search(/\\/content\\/www\\/(.*)\\/(search)(.*)/) > -1)) {\n      if (location.href.indexOf(\"topicarea\") > -1) {\n        var textFiltered = location.href;\n    \n        textFiltered = textFiltered.substring(location.href.indexOf(\"topicarea\") + 10).trim().toLowerCase();\n        if (textFiltered == \"downloads\" || textFiltered == \"support\") {\n          page.eVar44 = page.prop34 = textFiltered;\n        }\n        if (location.href.indexOf(\"support\") > -1) {\n          page.eVar44 = page.prop34 = \"support\";\n        }\n        if (location.href.indexOf(\"downloads\") > -1) {\n          page.eVar44 = page.prop34 = \"downloads\";\n        }\n      }\n    }\n    \n    var searchBoxId = 'mobile-search',\n        searchFormId = '#hpsform-new';\n    \n    // Mobile Search\n    const mobileSearch = () => {\n      var elementExists = wa_doc.getElementById('mobile-search');\n    \n      if (!(elementExists)) {\n        searchBoxId = 'searchBox';\n        searchFormId = '#hpsform';\n      }\n    };\n    wap_tms.onReadyState(mobileSearch);\n    \n    //track searchbox\n    function waTrackSearch(keyword, method, componentNameId) {\n      const hit = {};\n      hit.eVar202 = 'waTrackSearch';\n      if ($(searchFormId).data(\"tracked\") !== \"yes\" && wapSearchTrackFlag) { //prevent from tracking more than once\n        if (keyword == null) {\n          keyword = $(searchFormId + ' input[name=\"keyword\"]').val().toLowerCase();\n          method = 'text';\n          //keyword = (keyword==null) ? \"no-keyword\" : $('#hpsform input[name=\"keyword\"]').val().toLowerCase();\n        }\n        if (utag_data.wa_page_type_micro == \"homepage\" || utag_data.wa_page_type_micro == \"homepage-rwd\") { //homepage search\n          componentNameId = \"homepagesearch-1\";\n        } else { //header search\n          componentNameId = \"uheadersearch-1\";\n        }\n        hit.eVar47 = componentNameId;\n    \n        //check if search value has changed\n        if ((wa_doc.getElementById(searchBoxId).value == wa_doc.getElementById(searchBoxId).title) || (method == \"no-keyword\") || (wa_doc.getElementById(searchBoxId).value == \"\")) {\n          //no keyword\n          trackGaEvent({\n            hit,\n            category: 'Search',\n            action: 'search-box: no keyword',\n            label: 'no keyword',\n          });\n        } else {\n          //keyword\n          if (method == \"\") {\n            method = \"text\";\n          }\n          if (method == \"undefined\") {\n            method = \"text\";\n          }\n          trackGaEvent({\n            hit,\n            category: 'Search',\n            action: `search-box: ${method}`,\n            label: keyword,\n          });\n        }\n        $(searchFormId).data(\"tracked\", \"yes\"); //prevent from tracking more than once\n      }\n    }\n    \n    //RWD Search track function\n    function waTrackSearchRWD(keyword, method, componentNameId) {\n      const page = {};\n      const hit = {};\n      hit.eVar202 = 'waTrackSearchRWD';\n      wa_component_name = componentNameId;\n      hit.eVar48 = hit.prop38 = page.eVar48 = page.prop38 = keyword;\n      if ((location.pathname.search(/\\/content\\/www\\/(.*)\\/(search)(.*)/) > -1)) {\n        trackGaEvent({\n          hit,\n          page,\n          category: 'Search',\n          action: `search-results: ${method}`,\n          label: keyword,\n        });\n      } else {\n        trackGaEvent({\n          hit,\n          page,\n          category: 'Search',\n          action: `search-box: ${method}`,\n          label: keyword,\n        });\n      }\n    }\n    \n    //content library search\n    function wapContLibSearch(searchTerm) {\n      const hit = {};\n      hit.eVar202 = 'wapContLibSearch';\n      trackGaEvent({\n        hit,\n        category: 'Search',\n        action: 'content-library: search',\n        label: searchTerm,\n      });\n    }\n    \n    //set translation status\n    function translationStatus() {\n      var transtatus = 'unassigned';\n      switch (cq_tms.wa_transl_status) {\n        case \"0\": //No Translation\n          transtatus = 'do not translate';\n          break;\n        case \"1\": //Translation with HT\n          transtatus = 'ht';\n          break;\n        case \"2\": //Translation with MT\n          transtatus = 'mt';\n          break;\n        case \"3\": //Translation with MT + Post Edit\n          transtatus = 'mtpe';\n          break;\n      }\n      utag_data.wa_transl_status = transtatus;\n      return transtatus;\n    }\n    if (typeof wap_tms != \"undefined\") {\n      wap_tms.hotspotClicked = function (hotspot) {\n        const hit = {};\n        hit.eVar202 = 'hotspotClicked';\n        trackGaEvent({\n          hit,\n          category: 'Components',\n          action: 'click: hotspots-1',\n          label: hotspot,\n        });\n      };\n    }\n    \n    \n    //*********************************************************************************************\n    //* CONFIG                                                                                    *\n    //*********************************************************************************************\n    //set product name to highest level\n    var wa_product_name = cq_tms.wa_intel_product_level4;\n    if (wa_product_name === \"\") {\n      wa_product_name = cq_tms.wa_intel_product_level3;\n      if (wa_product_name === \"\") {\n        wa_product_name = cq_tms.wa_intel_product_level2;\n        if (wa_product_name === \"\") {\n          wa_product_name = cq_tms.wa_intel_product_level1;\n        }\n      }\n    }\n    \n    if (wa_pathObj.dir.indexOf(\"products\") > -1) {\n      utag_data.rec_collections = \"productcatalog\";\n      var start = wa_pathObj.dir.indexOf(\"products\") + 1;\n      var i = start;\n      var end = wa_pathObj.dir.length;\n      utag_data.product_detail = '[';\n      utag_data.product_detail_category = \"\";\n      for (i; i < end; i++) {\n        utag_data[\"prod_level\" + ((i + 1) - start) + \"_pc\"] = \"level\" + ((i + 1) - start) + \"_pc:\" + wa_pathObj.dir[i];\n        //utag_data.product_detail += '\\\"prod_level'+((i+1)-start)+\"_pc:\"+\"level\"+((i+1)-start)+\"_pc:\"+wa_pathObj.dir[i]+'\\\",';\n        utag_data.product_detail += '\\\"level' + ((i + 1) - start) + \"_pc:\" + wa_pathObj.dir[i] + '\\\",';\n        utag_data.product_detail_category += 'prod_level' + ((i + 1) - start) + \"_pc:\" + \"level\" + ((i + 1) - start) + \"_pc:\" + wa_pathObj.dir[i] + \",\";\n      }\n      utag_data[\"prod_level\" + ((i + 1) - start) + \"_pc\"] = \"level\" + ((i + 1) - start) + \"_pc:\" + wa_pathObj.fileName.split('.')[0];\n      //utag_data.product_detail += '\\\"prod_level'+((i+1)-start)+\"_pc:\"+\"level\"+((i+1)-start)+\"_pc:\"+wa_pathObj.fileName.split('.')[0]+'\\\"]';\n      utag_data.product_detail += '\\\"level' + ((i + 1) - start) + \"_pc:\" + wa_pathObj.fileName.split('.')[0] + '\\\"]';\n      utag_data.product_detail_category += 'prod_level' + ((i + 1) - start) + \"_pc:\" + \"level\" + ((i + 1) - start) + \"_pc:\" + wa_pathObj.fileName.split('.')[0];\n    }\n    \n    //set additional utag_data params\n    utag_data.wa_sales_life_cycle = multiLevelVars('sales', cq_tms.wa_life_cycle_level1, cq_tms.wa_life_cycle_level2);\n    \n    utag_data.wa_product_name = wa_product_name || utag_data.wa_product_name; //set wa_product_name\n    utag_data.wa_page_type_macro = setPageType(utag_data.wa_page_type_micro); //set wa_page_type_macro per wa_page_type_micro value\n    utag_data.wa_page_type_macro = cq_tms.wa_support_article_content_types ? cq_tms.wa_support_article_content_types : utag_data.wa_page_type_macro; //Capture support article content types for sales force article pages\n    //utag_data.wa_metrics_campaign = configCampaignTags(utag_data.wa_metrics_campaign); EOL'ed as part of EMT updates\n    //utag_data.wa_program_level = (cq_tms.wa_programidentifier == 'edc') ? cq_tms.wa_programidentifier : utag_data.wa_program_level;\n    //utag_data.wa_program_level = cq_tms.wa_program_level; Replaced as part of EMT updates\n    utag_data.wa_job_group = cq_tms.wa_job_group;\n    //utag_data.wa_software = cq_tms.wa_software; //Replaced as part of EMT updates\n    //utag_data.wa_reference_design = cq_tms.wa_reference_design; //Replaced as part of EMT updates\n    //utag_data.wa_codename = cq_tms.wa_codename; EOL'ed as part of EMT updates\n    utag_data.wa_intel_campaign = cq_tms.wa_intel_campaign;\n    utag_data.wa_rwd = (typeof wapExp !== \"undefined\") ? wapExp : 'unassigned'; //set responsive web design(rwd) value to UDO\n    utag_data.target_at_property = 'n/a';\n    if (typeof cq_tms.wa_primary_audience !== \"undefined\" && typeof cq_tms.wa_secondary_audience !== \"undefined\") {\n      utag_data.wa_primary_audience = cq_tms.wa_primary_audience;\n      utag_data.wa_secondary_audience = cq_tms.wa_secondary_audience;\n    }\n    \n    const checkMeta = (tagNameIn) =>{\n      var metas = document.getElementsByTagName('META');\n      var i;\n      for (i = 0; i < metas.length; i++)\n        if (metas[i].getAttribute('name') == tagNameIn)\n          var tagNameValue = metas[i].getAttribute('content');\n      return tagNameValue;\n    }\n    if (typeof checkMeta('reactive') !== 'undefined') page.eVar62 = page.prop45 = 'reactive:' + checkMeta('reactive'); //Internal Articles that are promoted to External via Case Threshold pass metadata (KCS)\n    // check which version is loaded 1) wap (code snippet in wap.js) 2) tms (tms code snippet)\n    if (typeof cq_tms.wa_version !== \"undefined\") {\n      page.eVar59 = page.prop44 = \"wap\";\n    } else {\n      page.eVar59 = page.prop44 = \"tms\";\n    }\n    \n    //Set Product Form Factor on Product catelog pages\n    if (typeof cq_tms.wa_product_formFactor != 'undefined') {\n      utag_data.shop_formFactor = cq_tms.wa_product_formFactor;\n    }\n    \n    var wa_pathName = setWaPageName(cq_tms.wa_cq_url); //set path for page name\n    \n    //set translation status\n    translationStatus();\n    \n    //config GA Site Search\n    var ga_QueryString = location.search.toLowerCase(),\n      ga_SearchPage = \"\";\n    \n    var ga_page_name = ga_SearchPage;\n    \n    //Adobe Analytics config\n    //----------------------\n    wap_tms.buildOrg(5);\n    \n    utag_data.last_modified = document.lastModified;\n    \n    wap_tms.coveo.setContext('targetData');\n    \n    //*********************************************************************************************\n    //* Event Handlers                                                                            *\n    //*********************************************************************************************\n    \n    const addEventHandlers = () => {\n      // apply tracking to PDF tooltip flyout\n      $('.pdf-view').on('mouseenter', function() {\n        setTimeout(function() {\n          $('div.tooltip-flyout a').on('click', function() {\n                const hit = {};\n                hit.eVar202 = 'addEventHandlers(tooltip)';\n                let linkData = $(this).attr(\"data-wap\");\n                linkData = ((typeof linkData === \"undefined\") || (linkData == \"\")) ? \"\" : JSON.parse(unescapeHTML(linkData));\n                const linkHref = $(this).attr(\"href\") + \"\";\n                const componentNameId = \"tooltip-flyout-1\";\n                const wa_component_name = componentNameId;\n                switch (linkData.linktype) {\n                case \"downloadpdf\":\n                  trackGaEvent({\n                    hit,\n                    category: 'Downloads',\n                    action: linkHref,\n                  });\n                  break;\n                default:\n                  trackGaEvent({\n                    hit,\n                    category: 'Components',\n                    action: `click: ${componentNameId}`,\n                    label: linkHref,\n                  });\n                }\n            });\n        }, 300);\n      });\n    \n      //Custom code for Right Rail Component\n      $(\"button[data-wap='rightRail']\").on('click', function () {\n        const hit = {};\n        hit.eVar202 = 'addEventHandlers(rail)';\n        if ($($(this).context.parentElement.parentElement).hasClass(\"active\")) {\n          trackGaEvent({\n            hit,\n            category: 'Components',\n            action: 'click: rightRail-1',\n            label: 'close',\n          });\n          return;\n        }\n        trackGaEvent({\n          hit,\n          category: 'Components',\n          action: 'click: rightRail-1',\n          label: 'open',\n        });\n      });\n    \n      //Updated Seach function for homepage and header - Resolves FireFox 18 bug that prevented analytic tracking\n      var wapSearchTrack = true;\n      $(searchFormId).on('submit', function () {\n        if (wapSearchTrack) {\n          wapSearchTrack = false;\n          setTimeout(function () {\n            $(searchFormId).submit();\n          }, 300);\n          var keywordvalue = $(searchBoxId).val(),\n            searchtype = '';\n          if (keywordvalue == \"\") {\n            searchtype = \"no-keyword\";\n          }\n          waTrackSearch(keywordvalue, searchtype, '');\n          return false;\n        }\n      });\n    \n      //RWD Search\n      wap_tms.addEventHandlerToSearchItems = function () {\n        $(\"button.btn-search\").on(\"click\", function (e) {\n          if (wapSearchTrackFlag && !wapRecentSearchFlag) {\n            var keywordvalue = $('#search-query-input').val() || $('#search-query-input-1').val() || $('#search-query-input-2').val(),\n              searchtype = 'additional keyword';\n            if (typeof keywordvalue == \"undefined\")\n              keywordvalue = $('#search_term').val();\n            if ((location.pathname.toLowerCase().search(/support\\.html/)) > -1) {\n              searchtype = 'text';\n              wapSearchTrackFlag = false;\n            }\n            if (keywordvalue == \"\") {\n              searchtype = \"no keyword\";\n              keywordvalue = \"no keyword\";\n            }\n            setFilterVar();\n            waTrackSearchRWD(keywordvalue, searchtype, 'searchBox');\n          }\n          wapRecentSearchFlag = false;\n        });\n        $(\"#search-query-input, #search-query-input-1, #search-query-input-2, #docked-header-search-query-input, #search_term\").on(\"keyup\", function (e) {\n          if (wapSearchTrackFlag && !wapRecentSearchFlag) {\n            var component = $(this).parent().attr(\"data-component\");\n            if (e.keyCode == 13) {\n              var keywordvalue = $(this).val(),\n                searchtype = 'additional keyword';\n              if ((location.pathname.toLowerCase().search(/support\\.html/)) > -1) {\n                searchtype = 'text';\n                wapSearchTrackFlag = false;\n              }\n              if (keywordvalue == \"\") {\n                searchtype = \"no keyword\";\n                keywordvalue = \"no keyword\";\n              }\n              setFilterVar();\n              waTrackSearchRWD(keywordvalue, searchtype, component);\n            }\n          }\n          wapRecentSearchFlag = false;\n        });\n      }\n      wap_tms.addEventHandlerToSearchItems();\n    \n      //content library search\n      /*$('#cntlibsrch').submit(function(e){\n      wapContLibSearch(this,e,'button');\n      });*/\n    \n      //*********************************************************************************************\n      //* ADD TEMP COMPONENT CODE HERE                                                              *\n      //*********************************************************************************************\n    \n      //Tags: Legacy , maybe deprecate\n      $('#video-hero:not(.wapwrapper)').addClass(\"wapwrapper\").attr('data-component-id', '1').attr('data-component', 'videoasset'); //TMP - remove for 4.3 release\n      $('.content-well:not(.wapwrapper)').addClass(\"wapwrapper\").attr('data-component-id', '1').attr('data-component', 'content-well'); //TMP - links section\n    \n      //DEBUG - show component name\n      /*$(\".component,.wapwrapper\").each(function(index) {\n      $component = $(this).closest(\".component,.wapwrapper\");\n      var componentName = $component.attr(\"data-component\");\n      $(this).css(\"border\", \"1px solid red\")\n      .prepend('<div style=font-family:sans-serif;font-size:10px;color:red;>'+componentName+'</div>')\n      .append('<div style=font-family:sans-serif;font-size:1px;color:red;>&#160;</div>');\n      });\n      console.log(\"show components\");*/\n    };\n    wap_tms.onReadyState(() => wap_tms.custom.executeCallbackWhen({\n      'when': () => typeof jQuery !== 'undefined',\n      'callback': addEventHandlers,\n      'tries': 8\n    }));\n    \n    var isTouchSupported = false;\n    if ('ontouchstart' in window || 'ontouchstart' in document.documentElement || navigator.msMaxTouchPoints) {\n      isTouchSupported = true;\n    }\n    \n    const initAutoTracking = () => {\n      // Allow React SPA to handle the tracking of elements on the page.\n      wap_tms.disable_auto_tracking = (window.wap_spa && window.wap_spa.disable_auto_track) ? window.wap_spa.disable_auto_track : false;\n      \n      if (wap_tms.disable_auto_tracking) {\n        wap_tms.custom.dispatchUtagLoadedEvent();\n      } else {\n        $('body').on('click', 'a,img[data-wap],label,button[data-wap],input[data-wap],div.tile-info h2,div.blade-item h2,div[data-wap_ref],i[data-wap],span[data-clickable]', function (event) {\n          wapMainEventHandler(this, event);\n        });\n      }\n    };\n    wap_tms.onReadyState(() => wap_tms.custom.executeCallbackWhen({\n      'when': () => typeof jQuery !== 'undefined',\n      'callback': initAutoTracking,\n      'tries': 8\n    }));\n    \n    //Tags: Standardize tracking with other downloads\n    const trackDownloadCenter = () => {\n      // Tracking downloads on new Download Center pages\n      // evillalobos: Moving this block of code here, since if the conditions are not given\n      // this might break the entire tracking of all clickable elements if kept above\n      // in the previous position.\n      if (typeof $wap === 'function') {\n        $wap('button[data-direct-path]').on('click', function() {\n            const hit = {};\n            hit.eVar202 = 'trackDownloadCenter';\n            const dwnlId = tmsGetParamByName('DwnldID');\n            const elFile = $(this).attr('data-direct-path');\n            if (dwnlId.length > 1) {\n                hit.eVar44 = hit.prop34 = dwnlId;\n            } else {\n                const assetUrl = window.location.pathname.split('/');\n                let assetId = assetUrl[2];\n                if (assetId === 'download') {\n                    assetId = assetUrl[3];\n                }\n                hit.eVar44 = hit.prop34 = assetId;\n            }\n            trackGaEvent({\n              hit,\n              category: 'Downloads',\n              action: elFile,\n            });\n        });\n      }\n    };\n    wap_tms.onReadyState(() => wap_tms.custom.executeCallbackWhen({\n      'when': () => typeof jQuery !== 'undefined',\n      'callback': trackDownloadCenter,\n      'tries': 8\n    }));\n    \n    //Support Feeback component\n    //TAGS: Used for feedback\n    if (/\\/support/.test(wa_pathName)) {\n      let wap_yes_feedback = false;\n      let wap_no_feedback = false;\n      $(document).ready(function () {\n        $(\".blade-support-feedback .right-rail-tab\").on('click', function (event) {\n          const hit = {};\n          hit.eVar202 = 'support/.test(wa_pathName)';\n          $component = $(this).closest(\"section.right-rail-component\");\n          const act = \"open\";\n          if ($component.hasClass(\"active\")) {\n            act = \"close\";\n            hit.event90 = '1';\n          } else {\n            hit.event89 = '1';\n          }\n          trackGaEvent({\n            hit,\n            category: 'Components',\n            action: 'click: support-feedback',\n            label: act\n          });\n        });\n        $(\".blade-support-feedback #useful-rightRail-info-yes\").on('click', function (event) {\n          wap_yes_feedback = true;\n          wap_no_feedback = false;\n        });\n        $(\".blade-support-feedback #useful-rightRail-info-no\").on('click', function (event) {\n          wap_yes_feedback = false;\n          wap_no_feedback = true;\n        });\n        $(\".blade-support-feedback .rightrail-feedback\").on('click', function (event) {\n          const hit = {};\n          hit.eVar202 = 'support/.test(wa_pathName)';\n          hit.event91 = '1';\n          if (wap_yes_feedback) {\n            trackGaEvent({\n              hit,\n              category: 'Components',\n              action: 'click: support-feedback',\n              label: 'send:yes'\n            });\n          } else if (wap_no_feedback) {\n            trackGaEvent({\n              hit,\n              category: 'Components',\n              action: 'click: support-feedback',\n              label: 'send:no'\n            });\n          }\n          wap_yes_feedback = false;\n          wap_no_feedback = false;\n        });\n      });\n    }\n    \n    \n    // FormsAPI integration\n    //TAGS: Used in program enrollment forms\n    const trackFormsAPIIntegration = () => {\n      wap_tms.getIntelRegistrationFormName = function () {\n        let completeVal = document.getElementById('frmRegistration')?.getAttribute('data-wap');\n        completeVal = ((typeof completeVal === 'undefined') || (completeVal == '')) ? 'unassigned' : JSON.parse(completeVal)\n        return completeVal.formname;\n      }\n      const sendRegistrationHit = () => {\n        let registrationFormName = wap_tms.getIntelRegistrationFormName();\n        if (!registrationFormName) {\n          let registrationParts = location.href.split('/');\n          registrationFormName = `${registrationParts[registrationParts.length-2]}-${registrationParts[registrationParts.length-1].replace('.html', '')}`;\n        }\n        trackGaEvent({\n          category: 'User Account Activity',\n          action: 'registration: start',\n          label: registrationFormName\n        });\n      }\n      document.getElementById('registrationDynamicForm-1')?.addEventListener('click', () => sendRegistrationHit(), {once: true});\n      wap_tms.custom.executeCallbackWhen({\n        when: () => document.querySelector('#reactform') !== null,\n        callback: () => {\n          document.getElementById('reactform').addEventListener('click', () => sendRegistrationHit(), {once: true});\n        }\n      })\n      wap_tms.custom.apiRegistrationObserverCallback = function () {\n        const confirmationDiv = document.getElementById('confirmationMessage');\n        if (confirmationDiv?.getAttribute('class')?.includes('confirmation-message-true')) {\n          let hit = {};\n          let registrationFormName = wap_tms.getIntelRegistrationFormName();\n          if (!registrationFormName) {\n            let formPath = location.href.split('forms/');\n            registrationFormName = formPath.length >= 2 ? formPath[1] : 'na/unknown/formName';\n            registrationFormName = `${registrationFormName.split('/')[0]}-${registrationFormName.split('/')[1]}`;\n          }\n          const dataObj = JSON.parse(sessionStorage.getItem('uniqueComplete') || '{}');\n          if (!dataObj[registrationFormName] && document.referrer !== '') {\n            hit.event113 = 1;\n            dataObj[registrationFormName] = true;\n            sessionStorage.setItem('uniqueComplete', JSON.stringify(dataObj));\n          }\n          trackGaEvent({\n            hit,\n            category: 'User Account Activity',\n            action: 'registration: complete',\n            label: registrationFormName\n          });\n          wap_tms.custom.apiRegistrationObserver.disconnect();\n        }\n      }\n      wap_tms.custom.apiRegistrationObserver = new MutationObserver(wap_tms.custom.apiRegistrationObserverCallback);\n      wap_tms.custom.apiRegistrationObserver.observe(document.documentElement, {\n        subtree: true,\n        childList: true,\n        attributes: true\n      });\n    \n    \n      if (location.host === 'ark.intel.com' && $('.filter-select-container').length > 0) {\n        var arkQs = '';\n        wap_tms.custom.arkObserverCallback = function () {\n          if (arkQs !== location.search) {\n            const hit = {};\n            hit.eVar202 = 'arkObserverCallback';\n            arkQs = location.search;\n            wa_filter_name = arkQs.replace('?', '').replace(/&/g, '|').replace(/=/g, ':');\n            trackGaEvent({\n              hit,\n              category: 'Search',\n              action:  'search-results: filters',\n              label: wa_filter_name,\n            });\n          }\n        }\n        wap_tms.custom.arkFilterObserver = new MutationObserver(wap_tms.custom.arkObserverCallback);\n        wap_tms.custom.arkFilterObserver.observe(document.documentElement, {\n          subtree: true,\n          childList: true,\n        });\n      }\n    };\n    wap_tms.onReadyState(trackFormsAPIIntegration);\n    \n    /*Language icon by AEM locale (ICS) and New carat to expand/collapse L2 product families on Support L1 product category pages */\n    \n    //TAGS: About 2k hits per month\n    const trackProductCategory = () => {\n      $(\".productSelector header span.arrow-image\").on('click', function () {\n        const hit = {};\n        hit.eVar202 = 'trackProductCategory';\n        if ($(this).attr('class').indexOf(\"open-arrow\") != -1) {\n          hit.eVar45 = hit.prop35 = \"open\";\n        } else {\n          hit.eVar45 = hit.prop35 = \"close\";\n        }\n        const label = $(this).next()[0].outerText || '';\n        trackGaEvent({\n          hit,\n          label,\n          category: 'Components',\n          action:  'click: productSelector',\n          label: wa_filter_name,\n        });\n      })\n    \n      $(\"#translationDiv span#modalButton\").on('click', function () {\n        const hit = {};\n        hit.eVar202 = 'trackProductCategory';\n        trackGaEvent({\n          hit,\n          category: 'Components',\n          action:  'click: supportPageTool',\n          label: 'changeLocale',\n        });\n      })\n    };\n    wap_tms.onReadyState(() => wap_tms.custom.executeCallbackWhen({\n      'when': () => typeof jQuery !== 'undefined',\n      'callback': trackProductCategory,\n      'tries': 8\n    }));\n    \n    //ICS custom code\n    const ICSCustomCode = () => {\n      //Open and close of the feedback form\n      $('div#feedback-1').on('click', function (e) {\n        if (/feedback-title/.test(e.target.classList)) {\n          const hit = {};\n          hit.eVar202 = 'ICSCustomCode';\n          if ($(this).find('.support-feedback-content').hasClass('expanded')) {\n            trackGaEvent({\n              hit,\n              category: 'Components',\n              action:  'click: feedback',\n              label: 'open',\n            });\n          } else {\n            trackGaEvent({\n              hit,\n              category: 'Components',\n              action:  'click: feedback',\n              label: 'close',\n            });\n          }\n        }\n      });\n    };\n    wap_tms.onReadyState(() => wap_tms.custom.executeCallbackWhen({\n      'when': () => typeof jQuery !== 'undefined',\n      'callback': ICSCustomCode,\n      'tries': 8\n    }));\n    \n    //Show-more click on search.html pages\n    //TAGS: This variable is used in another function \n    var wa_showMoreClickedFromSearchFlag = true;\n    \n    //TAGS: Deprecate in the future - this is being used by some sites but the #findstoreslocation function is not - and we need to have the site owners\n    //      follow standard tracking guidelines\n    const trackFindAStore = () => {\n      setTimeout(function () {\n        $('.padded-arrows-prev, .padded-arrows-next, .owl-dot').on('click', function () {\n          const hit = {};\n          hit.eVar202 = 'trackFindAStore';\n          const component = $(this).closest('.component,.wapwrapper');\n          const componentNameId = component.attr('data-component') + '-' + component.attr('data-component-id');\n          let label = $(this).attr('class') || '';\n          trackGaEvent({\n            label,\n            hit,\n            category: 'Components',\n            action:  `click: ${componentNameId}`,\n          });\n        });\n      }, 1000);\n    };\n    wap_tms.onReadyState(() => wap_tms.custom.executeCallbackWhen({\n      'when': () => typeof jQuery !== 'undefined',\n      'callback': trackFindAStore,\n      'tries': 8\n    }));\n    \n    // Registration form\n    //added wa_skip_track attribute for enhancements to IPA Registration form\n    const trackRegistrationForm = () => {\n      wap_tms.multipleRegistrationSteps = '';\n      $('section[data-intel-form-section-order]').on('click', function () {\n        if ($(this).attr('wa_skip_track') !== \"true\" && $(this).attr('data-intel-form-section-order') !== '0' && wap_tms.multipleRegistrationSteps !== $(this).attr('data-intel-form-section-order')) {\n          const hit = {};\n          hit.eVar202 = 'trackRegistrationForm';\n          registrationFormName = wap_tms.getIntelRegistrationFormName();\n          trackGaEvent({hit, category: 'User Account Activity', action: 'registration: registrationformstep_' + (parseInt($(this).attr('data-intel-form-section-order')) - 1), label: registrationFormName});\n          wap_tms.multipleRegistrationSteps = $(this).attr('data-intel-form-section-order');\n        }\n      });\n    };\n    wap_tms.onReadyState(() => wap_tms.custom.executeCallbackWhen({\n      'when': () => typeof jQuery !== 'undefined',\n      'callback': trackRegistrationForm,\n      'tries': 8\n    }));\n    \n    /*\n    window.addEventListener(\"load\", function(event) {\n      if (window.location.hostname == \"digitallibrary.intel.com\") {\n              $(\".overlay\").click(function(event) {\n                  if (typeof($(event.target).attr(\"data-component\")) == \"undefined\") {\n                      var downloadPath = $(event.target).parent().find(\"a[data-component='download']\").attr('data-wap_ref');\n                      trackGaEvent('Components', 'click : overlay', downloadPath);\n                  }\n              });\n              $(\".asset-overlay\").click(function(event) {\n                  if (typeof($(event.target).attr(\"data-component\")) == \"undefined\") {\n                      var downloadPath = $(event.target).parent().find(\"a[data-component='download']\").attr('data-wap_ref');\n                      trackGaEvent('Components', 'click : overlay', downloadPath);\n                  }\n              });\n      }\n      });\n    */\n    \n    //Tags: Deprecate/standardize with main event handler\n    window.addEventListener(\"load\", function (event) {\n      if (window.location.hostname == \"digitallibrary.intel.com\") {\n        if ($(\".overlay\").length > 0) {\n          trackOverlay();\n        }\n        else {\n          setTimeout(function () { trackOverlay(); }, 2500);\n        }\n      }\n    });\n    \n    //Tags: Deprecate/standardize with main event handler\n    var trackOverlay = function () {\n      $(\".overlay\").on('click', function (event) {\n        if (typeof ($(event.target).attr(\"data-component\")) == \"undefined\") {\n          const hit = {};\n          hit.eVar202 = 'trackOverlay';\n          const downloadPath = $(event.target).parent().find(\"a[data-component='download']\").attr('data-wap_ref');\n          trackGaEvent({\n            hit,\n            category: 'Components',\n            action:  'click: overlay',\n            label: downloadPath,\n          });\n        }\n      });\n    \n      $(\".asset-overlay\").on('click', function (event) {\n        if (typeof ($(event.target).attr(\"data-component\")) == \"undefined\") {\n          const hit = {};\n          hit.eVar202 = 'asset-overlay';\n          const downloadPath = $(event.target).parent().find(\"a[data-component='download']\").attr('data-wap_ref');\n          trackGaEvent({\n            hit,\n            category: 'Components',\n            action:  'click: overlay',\n            label: downloadPath,\n          });\n        }\n      });\n    }\n    // MyIntel WAP callback\n    // TAGS: standardize with other callback functions\n    wap_tms.custom.trackMyIntel = function (compName, compNameId, value) {\n      const hit = {};\n      hit.eVar202 = 'trackMyIntel';\n      trackGaEvent({\n        hit,\n        category: 'Components',\n        action:  `click: ${compName}-${compNameId}`,\n        label: value,\n      });\n    };\n    \n    // US620888: Coveo compare-tray arrow\n    //TAGS: Standardize with coveo tracking\n    const trackCompareTray = () => {\n      if (typeof jQuery !== 'undefined' && $('.compare-tray .toggle-area').length > 0) {\n        var compareTrayArrow = document.querySelector('.compare-tray .toggle-area');\n        compareTrayArrow.addEventListener('click', function (e) {\n          var spanArrow = e.target;\n          var wapRef = e.target.dataset.wap_ref;\n          if (wapRef !== undefined) {\n            wapMainEventHandler(spanArrow, e);\n          }\n        }, true);\n      };\n    };\n    wap_tms.onReadyState(() => wap_tms.custom.executeCallbackWhen({\n      'when': () => typeof jQuery !== 'undefined',\n      'callback': trackCompareTray,\n      'tries': 8\n    }));\n    document.dispatchEvent(new CustomEvent('wapCq', {\n      detail: {\n        page,\n        hit\n      }\n    }));\n  });\n})();",
language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:"(() => {\n  if (location.search.includes('debugger') && location.search.includes('wg')) {\n    debugger;\n  }\n  const page = {};\n  const hit = {};\n  wap_tms.storage.refresh();\n\n\n  //end tealium universal tag\n\n  //*********************************************************************************************\n  //* Extension: WAP Global (1)                                                                 *\n  //*********************************************************************************************\n  //*********************************************************************************************\n  //* Functions                                                                                 *\n  //*********************************************************************************************\n  function wa_setGeo(wa_local) {\n    let geo = \"\";\n    switch (wa_local) {\n      case \"us-en\": case \"ca-en\": case \"ca-fr\":\n        //asmo-na\n        geo = \"asmo-na\";\n        break;\n      case \"br-pt\": case \"xl-es\": case \"mx-es\": case \"co-es\": case \"cl-es\": case \"cr-es\":\n        //asmo-lar\n        geo = \"asmo-lar\";\n        break;\n      case \"ae-ar\": case \"ae-en\": case \"az-az\": case \"bg-bg\": case \"cz-cs\": case \"de-de\": case \"dz-ar\": case \"dz-fr\": case \"eg-ar\": case \"eg-en\": case \"es-es\": case \"eu-en\": case \"fr-fr\": case \"ge-ka\": case \"hu-hu\": case \"ie-en\": case \"il-he\": case \"it-it\": case \"jo-ar\": case \"ke-en\": case \"lb-ar\": case \"ma-ar\": case \"ma-fr\": case \"ng-en\": case \"nl-nl\": case \"pl-pl\": case \"pt-pt\": case \"pt-pt\": case \"ro-ro\": case \"ru-ru\": case \"sa-ar\": case \"sa-en\": case \"se-sv\": case \"tr-tr\": case \"ua-uk\": case \"uk-en\": case \"xe-en\": case \"xr-ar\": case \"xr-en\": case \"za-en\": case \"ch-de\":\n        //emea\n        geo = \"emea\";\n        break;\n      case \"ap-en\": case \"au-en\": case \"hk-en\": case \"id-id\": case \"in-en\": case \"in-hi\": case \"kr-ko\": case \"lk-en\": case \"my-en\": case \"nz-en\": case \"ph-en\": case \"pk-en\": case \"sg-en\": case \"th-th\": case \"tw-zh\": case \"vn-vi\": case \"xa-en\": case \"jp-ja\":\n        //apac & ijkk now \"apj\" in 2015\n        geo = \"apj\";\n        break;\n      case \"cn-zh\":\n        geo = \"prc\";\n        break;\n      default:\n        //error handling, no match\n        geo = \"unassigned\";\n        break;\n    }\n    return geo;\n  }\n  function wa_getLanguageCode(local) {\n    let code = '';\n    const list = [ \"xr-ar\", \"az-az\", \"cn-zh\", \"tw-zh\", \"cz-cs\", \"dk-da\", \"nl-nl\", \"xa-en\", \"au-en\", \"ca-en\", \"eg-en\", \"eu-en\", \"xe-en\", \"hk-en\", \"in-en\", \"ie-en\", \"ke-en\", \"my-en\", \"xr-en\", \"ng-en\", \"pk-en\", \"ph-en\", \"sa-en\", \"xa-en\", \"za-en\", \"lk-en\", \"ae-en\", \"uk-en\", \"us-en\", \"fi-fi\", \"dz-fr\", \"ca-fr\", \"fr-fr\", \"ma-fr\", \"ge-ka\", \"de-de\", \"at-de\", \"ch-de\", \"gr-el\", \"il-he\", \"hu-hu\", \"id-id\", \"it-it\", \"jp-ja\", \"kr-ko\", \"no-no\", \"pl-pl\", \"br-pt\", \"pt-pt\", \"ro-ro\", \"ru-ru\", \"es-es\", \"xl-es\", \"mx-es\", \"se-sv\", \"th-th\", \"tr-tr\", \"ua-uk\", \"vn-vi\", \"sg-en\" ];\n    if (list.indexOf(local) > -1) {\n      const parts = local.split('-');\n      code = parts.length === 2 ? parts[ 1 ] + '_' + parts[ 0 ].toUpperCase() : 'unassigned (' + local + ')';\n    } else {\n      code = 'unassigned (' + local + ')';\n    }\n    return code;\n  }\n  function wa_setSurveyId(wa_local) {\n    let surveyId = \"\";\n    switch (wa_local) {\n      case \"us-en\": case \"ca-en\":\n        surveyId = \"0\";\n        break;\n      case \"ca-fr\":\n        surveyId = \"1\";\n        break;\n      case \"cn-zh\":\n        surveyId = \"3\";\n        break;\n      case \"jp-ja\":\n        surveyId = \"4\";\n        break;\n      case \"de-de\":\n        surveyId = \"5\";\n        break;\n      case \"br-pt\":\n        surveyId = \"6\";\n        break;\n      case \"es-es\":\n        surveyId = \"7\";\n        break;\n      case \"tw-zh\":\n        surveyId = \"8\";\n        break;\n      case \"kr-ko\":\n        surveyId = \"9\";\n        break;\n      case \"au-en\": case \"xa-en\": case \"hk-en\":\n        surveyId = \"10\";\n        break;\n      case \"uk-en\":\n        surveyId = \"11\";\n        break;\n      case \"xl-es\":\n        surveyId = \"12\";\n        break;\n      default:\n        //error handling, no match\n        surveyId = \"\";\n        break;\n    }\n    return surveyId;\n  }\n\n  window.tmsGetParamByName = (param, q) => {\n    if (q) {\n      key_array = q.split(\"?\")\n      q = \"?\" + key_array[ 1 ];\n    }\n    else {\n      q = wa_doc.location.search || wa_doc.location.hash;\n    }\n    q = decodeURI(q);\n    if (q) {\n      if (/\\?/.test(q)) { q = q.split(\"?\")[ 1 ]; } // strip question mark\n      if (param == null) {\n        return urlEncodeIfNecessary(q);\n      }\n      let pairs = q.split(\"&\");\n      for (let i = 0; i < pairs.length; i++) {\n        if (pairs[ i ].substring(0, pairs[ i ].indexOf(\"=\")) == param) {\n          return pairs[ i ].substring((pairs[ i ].indexOf(\"=\") + 1));\n        }\n      }\n    }\n    return \"\";\n  }\n  function urlEncodeIfNecessary(s) {\n    const regex = /[\\\\\\\"<>\\.;]/;\n    const hasBadChars = regex.exec(s) != null;\n    return hasBadChars && typeof encodeURIComponent != wapUndef ? encodeURIComponent(s) : s;\n  }\n\n  window.cleanHref = (linkHref) => {\n    const noLinkVal = \"nav-link\";\n    linkHref = (typeof linkHref === 'undefined') ? noLinkVal : linkHref; //check if Href is undefined\n    linkHref = linkHref.replace(/^\\#$/, noLinkVal); //check if single hash (starts and ends w/ #)\n    linkHref = linkHref.replace(/(#vps\\=|#shopthirdparty)(.*)/, \"\"); //remove any VPS or shopthirdparty hash tags\n    linkHref = (linkHref.indexOf(\"javascript:\") > -1) ? noLinkVal : linkHref; //check JS void\n    wap_tms.absHref = linkHref;\n    linkHref = linkHref.replace(/^http(.?)\\:\\/\\/(www-ssl|www|www3|ubp-media|digitallibrary)\\.intel\\..+?\\//, \"/\");\n    linkHref = (/\\?/.test(linkHref)) ? (linkHref.split('?')[ 0 ] + '?' + encodeURIComponent(linkHref.split('?')[ 1 ])) : linkHref; //if link contains querystring URL encode querystring part to avoid breaking waTrackAsLink function\n    return linkHref;\n  }\n\n  //regex to get domain\n  String.prototype.getHostDomain = function () {\n    let value = ''; //return blank for default\n    if (/intel\\./.test(this)) { //only set if domain is Intel branded, i.e. contains .intel. May append to regEx to support other non-standard Intel branded domains\n      const regEx = new RegExp('^(?:f|ht)tp(?:s)?\\://([^/]+)', 'im');\n      value = this.match(regEx)[ 1 ].toString();\n    }\n    return value;\n  }\n  function checkReferrerDomain() {\n    let wa_hostrefer = '';\n    if (wa_doc?.referrer) {\n      wa_hostrefer = wa_doc.referrer.getHostDomain();\n    }\n    wa_hostrefer = (location.hostname == wa_hostrefer) ? '' : wa_hostrefer; //set if site hostname is different than referrer host name\n    return wa_hostrefer;\n  }\n  //global scope vars\n  window.wa_doc = window.wa_doc || document;\n  window.wa_win = window.wa_win || window;\n  window.vpsIntel = { config: function (vps) { } }; //legacy VPS support, keep to prevent error until all VPS code removed\n  window.ga_payload = { \"dimension\": {}, \"metric\": {} }; //GA component name\n  window.aa_payload = { \"eVar\": {}, \"prop\": {}, \"list\": {}, \"event\": {}, \"standar\": {} };//AA component name\n  window.wap_tms = window.wap_tms || {}; //make sure wap_tms is object (should be set in loader script)\n  //set variables for page view mapping\n  utag_data.doc_referrer = wa_doc.referrer;\n  utag_data.doc_title = wa_doc.title;\n  utag_data.doc_domain = wa_doc.domain;\n\n  wap_tms.eloqua = wap_tms.eloqua || {}; //Set Eloqua Object\n\n  wap_tms.getContentName = function (offerName, activityName) {\n    offerName = /(-..-..)$/.test(offerName) ? offerName : offerName + '-' + utag_data.wa_local;\n    const parts = offerName.split('-');\n    const leng = parts.length;\n    const type = parts[ 0 ];\n    let plat = parts[ 1 ];\n    const code = parts[ leng - 2 ];\n    const lang = parts[ leng - 1 ];\n    const name = parts.slice(2, leng - 2).join('-');\n    const chan = plat === 'elqem' ? 'email' : 'web';\n    const bizn = activityName ? '-' + (activityName.split('::')[ 1 ] || 'nbp') : '';\n    plat = plat === 'micro' ? page.eVar3.replace(/-/g, '_') : plat;\n    return [ type, plat, name + bizn, chan, code, lang ].join('-');\n  }\n\n  //Tags: I think we can deprecate - check with addHatchData in lib-cq\n  wap_tms.addParametersToUrl = function (element, url, cid, icid, uid) {\n    if (url[ url.length - 1 ] === \"&\") { url = url.substring(1); }\n    if (cid) { url = wap_tms.custom.updateUrlParameter(url, 'cid', cid); }\n    if (icid) { url = wap_tms.custom.updateUrlParameter(url, 'icid', utag_data.wa_amc_id); }\n    //Tags: remove UID\n    if (uid) { url = wap_tms.custom.updateUrlParameter(url, 'uid', utag_data.wa_client_id); }\n    element.attr('href', url);\n  }\n  wap_tms.stripQueryStringAndHashFromPath = function (url) { //Function to strip query string and hatch form an URL\n    return url.split(\"?\")[ 0 ].split(\"#\")[ 0 ];\n  }\n  wap_tms.stripSuffixFromPath = function (url) {\n    return url.replace(/(\\.html)(.*)/, '$1');\n  }\n  wap_tms.lastClickedObject = null;\n  utag_data.rec_entity_id = utag_data.wa_page_url = wap_tms.stripQueryStringAndHashFromPath(document.location.href).toLowerCase();\n  utag_data.wa_page_name = wap_tms.stripSuffixFromPath(document.location.pathname.toLowerCase());\n  if (utag_data.wa_page_name === \"/\" || utag_data.wa_page_name === \"/index.html\") {\n    utag_data.wa_page_name = utag_data.wa_section + \": \" + \"index.html\";\n  }\n\n  wap_tms.custom = wap_tms.custom || {};\n\n  /**\n * Converts a string to camel case format.\n * AEP doesn't accept strings with whitespaces.\n * @param str String to be formatted.\n * @return the string in camel case format.\n */\n  wap_tms.custom.strToCamelCase = (str) => {\n    return str.split(' ').map((val, ind) => ind === 0 ? val.toLowerCase() : val.charAt(0).toUpperCase() + val.slice(1).toLowerCase()).join('');\n  };\n\n  //Clean Target Recommendations values\n  wap_tms.cleanUpRecommendationValue = function (html) {\n    const txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n  }\n\n  wap_tms.checkUamAsset = (link, hit) => {\n    let isUamAsset = false;\n    if (link && (link.indexOf('cdrdv2.intel.') > -1 || link.indexOf('cdrepository.intel.') > -1 || link.indexOf('downloadmirror.intel.') > -1)) {\n      isUamAsset = true;\n      let id = link.split('/').slice(-1)[ 0 ];\n      if (id) {\n        id = id.split('?')[ 0 ];\n        if (hit) { hit.eVar151 = id; }\n      }\n    }\n    return isUamAsset;\n  }\n\n  utag_data.rec_description = \"\";\n  utag_data.rec_title = \"\";\n  utag_data[ 'meta.keywords' ] = '';\n\n  if (typeof jQuery !== 'undefined') {\n    //Capture Description for recommendation\n    if (jQuery('meta[property=\"og:description\"]') !== null && jQuery('meta[property=\"og:description\"]').length > 0) {\n      utag_data.rec_description = jQuery('meta[property=\"og:description\"]').attr('content');\n      if (utag_data.rec_description)\n        utag_data.rec_description = utag_data.rec_description.trim();\n    }\n\n    if (!utag_data.rec_description && document.querySelector(\"meta[name=description]\") !== null) {\n      utag_data.rec_description = document.querySelector(\"meta[name=description]\").content;\n      if (utag_data.rec_description)\n        utag_data.rec_description = utag_data.rec_description.trim();\n    }\n    utag_data.rec_description = wap_tms.cleanUpRecommendationValue(utag_data.rec_description);\n\n    //Capture Title for recommendation\n    if (jQuery('meta[property=\"og:title\"]') !== null && jQuery('meta[property=\"og:title\"]').length > 0)\n      utag_data.rec_title = jQuery('meta[property=\"og:title\"]').attr('content');\n    else if (document.querySelector(\"meta[name=title]\") !== null)\n      utag_data.rec_title = document.querySelector(\"meta[name=title]\").content;\n\n    if (typeof utag_cfg_ovrd === \"undefined\" || !((/(simplecore|communities|-iq|blogs)/gi).test(utag_cfg_ovrd.path))) {\n      utag_data.rec_title = wap_tms.cleanUpRecommendationValue(utag_data.rec_title);\n    }\n\n    let keywordsElement = jQuery('meta[name=\"keywords\"]');\n    if (keywordsElement.length > 0) {\n      utag_data[ 'meta.keywords' ] = wap_tms.cleanUpRecommendationValue(keywordsElement.attr('content'));\n    }\n  }\n\n\n  //Send recommendations data\n  utag_data.sendRec = true;\n\n  window.tmsSetCookieDomain = () => {\n    let cookieDomain = location.hostname;\n    cookieDomain = cookieDomain.replace(/(.*)\\.intel/, '.intel');\n    return cookieDomain;\n  }\n\n  window.tms_domain = tmsSetCookieDomain();\n\n  //Do Not send recommendations data if title or description is not set.\n  if (!(utag_data.rec_title && utag_data.rec_description) || utag_data.wap_do_not_send_recs)\n    utag_data.sendRec = false;\n\n\n  //*********************************************************************************************\n  //* CONFIG                                                                                    *\n  //*********************************************************************************************\n  // Set Adobe Marketing cloud ID\n  const adobe_org_id = \"AMCV_AD2A1C8B53308E600A490D4D%40AdobeOrg\";\n  const amc_cookie = wap_tms.storage.cookieRef.adobe_org_id;\n  if (amc_cookie) {\n    const mcid_index = amc_cookie.split(\"|\").indexOf(\"MCMID\");\n    if (mcid_index > -1) {\n      utag_data.wa_amc_id = amc_cookie.split(\"|\")[ mcid_index + 1 ];\n    }\n  }\n\n  utag_data.wa_amc_id = utag_data.wa_amc_id || wap_tms.storage?.getUtagObject()?.wa_ecid;\n\n  const searchParam = location.search?.substring(1) || '';\n  wap_tms.qs = wap_tms.custom.getObjectFromString(searchParam, '&');\n  //set wa_prod_org_level in UDO\n  const productOrgLevel = location.pathname.replace(/\\/content\\/www\\/..\\/../, '').replace(/(\\.html)(.*)/, '').split('/').filter(Boolean);\n  utag_data.wa_prod_org_level = productOrgLevel.join(':').toLowerCase();\n  if (typeof utag_data.wa_prod_org_level !== \"undefined\" && utag_data.wa_prod_org_level.indexOf('ark:compare') > -1) {\n    utag_data.wa_prod_org_level = `ark:compare:${tmsGetParamByName('productIds') || ''}`;\n  }\n  //set wa_geo in UDO\n  utag_data.wa_local = utag_data.wa_local.toLowerCase();\n  utag_data.wa_local = (utag_data.wa_local == 'set_me') ? 'unassigned' : utag_data.wa_local;\n  utag_data.wa_geo = wa_setGeo(utag_data.wa_local);\n  utag_data.wa_language_code = wa_getLanguageCode(utag_data.wa_local);\n  //Used to send custom profile parameters in the mbox call.\n  utag_data.wa_anonymous_key1 = '';\n  utag_data.wa_anonymous_key2 = '';\n  //Duplicate variable for utag_data\n  wa_utag_data = \"\";\n  //set Post Tag in UDO\n  if (typeof utag_data.postTags != 'undefined') {\n    utag_data.wp_post_tags = utag_data.postTags.toString();\n  }\n  //set wa_survey_id in UDO\n  utag_data.wa_survey_id = wa_setSurveyId(utag_data.wa_local);\n  let onSiteGeo = utag_data.wa_survey_id; //set as global var so survey tag can use\n  //set wa_location and wa_language in UDO\n  (function () {\n    if (/\\-/.test(utag_data.wa_local)) {\n      const tmpLocal = utag_data.wa_local.split(\"-\");\n      utag_data.wa_location = tmpLocal[ 0 ];\n      utag_data.wa_language = tmpLocal[ 1 ];\n    }\n    else {\n      utag_data.wa_location = utag_data.wa_language = \"unassigned\";\n    }\n  })();\n  //set org values based on pathname in UDO\n  window.wa_path_start = (typeof wa_path_start !== \"undefined\") ? wa_path_start : 1; //check if path folder start is defined, if not set to first folder (for org variables)\n  function wa_UrlPathName(strURL) {\n    const pathObject = {};\n    pathObject.dir = [];\n    i = 1;\n    pathObject.fullDir = \"/\";\n    strURL = strURL.replace(/^\\//, \"\");\n    while ((node = strURL.match(/^(.+?)(?:\\/)+(.*)/)) && node[ 0 ].length) {\n      pathObject.dir[ i++ ] = node[ 1 ];\n      pathObject.fullDir += node[ 1 ] + \"/\";\n      strURL = node[ 2 ];\n    }\n    pathObject.fileName = strURL;\n    return pathObject;\n  }\n  let wa_pathObj = wa_UrlPathName(location.pathname);\n  utag_data.wa_site_id = utag_data.wa_section + \":\" + utag_data.wa_geo + \":\" + utag_data.wa_local;\n  utag_data.wa_org2 = utag_data.wa_geo + \":\" + utag_data.wa_local; //ex. asmo-lar:br-pt\n  utag_data.wa_org3 = utag_data.wa_org2 + \":\" + utag_data.wa_section; //ex. asmo-lar:br-pt:intc\n  wap_tms.buildOrg = function (start) {\n    utag_data.wa_org4 = (typeof wa_pathObj.dir[ start ] === \"undefined\") ? utag_data.wa_org3 : utag_data.wa_org3 + \":\" + wa_pathObj.dir[ start ].toLowerCase();\n    utag_data.wa_org5 = (typeof wa_pathObj.dir[ start + 1 ] === \"undefined\") ? utag_data.wa_org4 : utag_data.wa_org4 + \":\" + wa_pathObj.dir[ start + 1 ].toLowerCase();\n    utag_data.wa_org6 = (typeof wa_pathObj.dir[ start + 2 ] === \"undefined\") ? utag_data.wa_org5 : utag_data.wa_org5 + \":\" + wa_pathObj.dir[ start + 2 ].toLowerCase();\n    utag_data.wa_org7 = utag_data.wa_org6.split(utag_data.wa_org2 + \":\")[ 1 ];\n    utag_data.wa_org8 = (utag_data.wa_geo == \"prc\") ? utag_data.wa_geo + \":\" + utag_data.wa_org7 : \"row:\" + utag_data.wa_org7;\n    utag_data.wa_org9 = (typeof wa_pathObj.dir[ start + 3 ] === \"undefined\") ? utag_data.wa_org6 : utag_data.wa_org6 + \":\" + wa_pathObj.dir[ start + 3 ].toLowerCase();\n  }\n  if (typeof (cq_tms) === 'undefined') { // avoid calling twice this function when it's an AEM/CQ site\n    wap_tms.buildOrg(wa_path_start);\n  }\n  // set Cookies Consent browser configuration policy \n  if ((navigator.doNotTrack && navigator.doNotTrack === '1') || navigator.globalPrivacyControl) {\n    if (navigator.doNotTrack === '1') {\n      utag_data.wa_cookies_consent_browser_policy = 'dnt';\n    }\n    if (navigator.globalPrivacyControl) {\n      utag_data.wa_cookies_consent_browser_policy = utag_data.wa_cookies_consent_browser_policy ? utag_data.wa_cookies_consent_browser_policy + ',gpc' : 'gpc';\n    }\n  }\n\n  // Check if a datetime is under the specific milliseconds\n  wap_tms.custom.isUnderTime = function (datetime, milliseconds) {\n    milliseconds = milliseconds || 5 * 60 * 1000; // 5 minutes per default\n    if (datetime && !isNaN(datetime)) {\n      return ((Date.now() - datetime) < milliseconds);\n    }\n  }\n\n\n  let wa_time;\n  // Check if eloquaID and erpmID comes from a trusted source (from us and not from elsewhere)\n  let qsErpm_id = wa_time && wa_erpmId.split('_ts')[ 0 ] && wap_tms.custom.isUnderTime(wa_time) ? wa_erpmId.split('_ts')[ 0 ] : '';\n  let qsElq_cid = wa_time && wa_elqcid.split('_ts')[ 0 ] && wap_tms.custom.isUnderTime(wa_time) ? wa_elqcid.split('_ts')[ 0 ] : '';\n\n  //set querystring params in UDO\n  if (tmsGetParamByName('wapkw')) { utag_data.wa_internal_search_referrer = tmsGetParamByName('wapkw'); }\n  if (tmsGetParamByName('icid')) { utag_data.wa_internal_promotion = tmsGetParamByName('icid'); }\n  if (tmsGetParamByName('postid')) { utag_data.wa_sprinklr_id = tmsGetParamByName('postid'); }\n  if (tmsGetParamByName('eid')) { utag_data.wa_external_id = tmsGetParamByName('eid'); }\n  if (tmsGetParamByName('intel_term')) { utag_data.search_keyword = tmsGetParamByName('intel_term'); }\n  if (tmsGetParamByName('gclid')) { utag_data.wa_google_click_id = tmsGetParamByName('gclid'); }\n  if (tmsGetParamByName('elqcampid')) { utag_data.wa_elqcampid = tmsGetParamByName('elqcampid'); }\n  if (tmsGetParamByName('elqrid')) { utag_data.wa_elqrid = tmsGetParamByName(elqrid); }\n  if (tmsGetParamByName('gclsrc')) { utag_data.wa_google_click_type = tmsGetParamByName('gclsrc'); }\n  if (qsErpm_id) { utag_data.wa_erpm_id = qsErpm_id; }\n  let aid = tmsGetParamByName('aid'); if (aid) { utag_data.wa_aid = aid; }\n  let plid = tmsGetParamByName('plid'); if (plid) { utag_data.wa_plid = plid; }\n  let sid = tmsGetParamByName('sid'); if (sid) { utag_data.wa_sid = sid; }\n  let crid = tmsGetParamByName('crid'); if (crid) { utag_data.wa_crid = crid; }\n  if (tmsGetParamByName('dclid')) { utag_data.wa_dcm_click_id = tmsGetParamByName('dclid'); }\n  let snm = tmsGetParamByName('snm'); if (snm) { utag_data.wa_snm = snm.toLowerCase(); }\n  let campid = tmsGetParamByName('campid'); if (campid) { utag_data.wa_campid = campid; }\n\n  //Legacy AA Eloqua Campaign QS params\n  wap_tms.utm_source = tmsGetParamByName('utm_source') ? tmsGetParamByName('utm_source').toLowerCase() : \"NA\";\n  wap_tms.utm_medium = tmsGetParamByName('utm_medium') ? tmsGetParamByName('utm_medium').toLowerCase() : \"NA\";\n  wap_tms.utm_term = tmsGetParamByName('utm_term') ? tmsGetParamByName('utm_term').toLowerCase() : \"NA\";\n  wap_tms.utm_campaign = tmsGetParamByName('utm_campaign') ? tmsGetParamByName('utm_campaign').toLowerCase() : \"NA\";\n  wap_tms.utm_content = tmsGetParamByName('utm_content') ? tmsGetParamByName('utm_content').toLowerCase() : \"NA\";\n\n  //new qs params\n  wap_tms.camp_id = tmsGetParamByName('campid') ? tmsGetParamByName('campid').toLowerCase() : 'NA';\n  wap_tms.campaign_channel = tmsGetParamByName('cid') ? tmsGetParamByName('cid').toLowerCase() : 'NA';\n  wap_tms.campaign_source = tmsGetParamByName('source') ? tmsGetParamByName('source').toLowerCase() : 'NA';\n  wap_tms.campaign_content = tmsGetParamByName('content') ? tmsGetParamByName('content').toLowerCase() : 'NA';\n\n  (function () {\n    let cid = tmsGetParamByName('cid');\n    if (cid) {\n      let campaign = cid;\n      let source = tmsGetParamByName('source');\n      if (source) {\n        let content = [];\n        switch (cid) {\n          case 'sem':\n            let group = tmsGetParamByName('ad_group');\n            let term = tmsGetParamByName('intel_term');\n            let said = tmsGetParamByName('sa360id');\n            content = [ group, term, said ];\n            break;\n          case 'diad':\n            content = [ sid, plid, aid, crid ];\n            break;\n          case 'spon':\n            campid = campid || 'null';\n          default:\n            content = [ tmsGetParamByName('content') ];\n            break;\n        }\n        campaign = [ cid, source, campid, content.filter(Boolean).join('!') ].filter(Boolean).join('|');\n      }\n      utag_data.wa_campaign_cid = campaign;\n    }\n  })();\n\n\n  //set gawap_cid cookie value\n  wap_tms.gawap_cid = (typeof utag_data.wa_campaign_cid !== \"undefined\") ? utag_data.wa_campaign_cid : wap_tms.gawap_cid;\n  if (wap_tms.gawap_cid) {\n    //document.cookie = \"gawap_cid=\" + wap_tms.gawap_cid + \"; path=/;domain=\" + tms_domain;\n    wap_tms.storage.setCookie({\n      name: 'gawap_cid',\n      value: wap_tms.gawap_cid,\n      daysToExpire: 90\n    });\n  }\n\n  //set Eloqua Contact ID (long version)\n  window.genContactId = (id) => {\n    let tmpId;\n    if (id !== \"\") {\n      let elqPrefix;\n      tmpId = (\"000000000000\" + id).slice(-12);\n      elqPrefix = (/dev-/g.test(location.hostname)) ? elqPrefix = 'CINSX' : elqPrefix = 'CINCP'; //set Eloqua prefix for Contact ID\n      tmpId = elqPrefix + tmpId;\n    }\n    else { tmpId = \"\"; }\n    return tmpId;\n  }\n  //set Eloqua Contact ID (short version)\n  window.genContactIdShort = (id) => {\n    return id.replace(/(.*)((-)?^(CINSX|CINCP)0+(?=\\d))/, '');\n  }\n\n  //1) check for eloqua cookie\n  let idCookie = wap_tms.storage.utag_main;\n  try {\n    utag_data.wa_elq_id_short = (typeof idCookie.elqid == 'undefined') ? '' : idCookie.elqid;\n    if (utag_data.wa_elq_id_short !== '') { utag_data.wa_elq_id = genContactId(utag_data.wa_elq_id_short); }\n  } catch (e) { };\n\n  //2) check for eloqua querystring\n  if (qsElq_cid) {\n    utag_data.wa_elq_id = genContactId(qsElq_cid);\n    utag_data.wa_elq_id_short = genContactIdShort(qsElq_cid);\n  }\n\n  let erpm_id = wap_tms.storage.cookieRef.eRPMID || '';\n  if (erpm_id === '') {\n    erpm_id = idCookie.wa_erpm_id || qsErpm_id;\n  }\n  if (erpm_id) {\n    utag_data.wa_erpm_id = erpm_id;\n  }\n\n  const mktgsrc = tmsGetParamByName('mktgsrc');\n  if (mktgsrc) {\n    utag_data.mktgsrc = mktgsrc;\n  }\n\n  const mktgsubsrc = tmsGetParamByName('mktgsubsrc');\n  if (mktgsubsrc) {\n    utag_data.mktgsubsrc = mktgsubsrc;\n  }\n\n  const mktgtct = tmsGetParamByName('mktgtct');\n  if (mktgtct) {\n    utag_data.mktgtct = mktgtct;\n  }\n\n  const attid = tmsGetParamByName('attid');\n  if (attid) {\n    utag_data.attid = attid;\n  }\n\n  const tcttpc = tmsGetParamByName('tcttpc');\n  if (tcttpc) {\n    utag_data.tcttpc = tcttpc;\n  }\n\n  const mktgjrny = tmsGetParamByName('mktgjrny');\n  if (mktgjrny) {\n    utag_data.mktgjrny = mktgjrny;\n  }\n\n  //Tags: this can be one statement let wa_env = typeof ... ? true : false\n  //set wa_env if set. wa_env configures analytics to send data to 'test' reporting\n  let wa_env = true; //set default to true, data will be sent to production\n  if (typeof utag_data.wa_env !== \"undefined\") {\n    if (utag_data.wa_env == 'prod') { wa_env = true; } else { wa_env = false; } //set to 'true' when publishing to production, and 'false' when testing in pre-prod\n  }\n  //Config default settings for tag loading\n  utag_data.load_bluekai = 'true';\n  utag_data.load_eloqua = 'true';\n  utag_data.load_audiencestream = 'false';\n  utag_data.load_iframe_parameters = 'false';\n  utag_data.enable_crossdomain = 'true';\n  utag_data.load_getsocial = 'false';\n  utag_data.fire_adcloud = 'true';\n\n  //Custom Analytics Config\n  wap_tms.custom = wap_tms.custom || {}; //define object if not already defined\n  wap_tms.custom.appMeasurementTagsSent = wap_tms.custom.appMeasurementTagsSent || {}; //define object if not already defined\n  wap_tms.custom.code = false; //true or false: custom code or default code\n  wap_tms.custom.youtube = false; //true or false: enable YouTube tracking\n  wap_tms.custom.brightcove = false; //true or false: enable HTML 5 Tracking\n  wap_tms.custom.gigya = false; //true or false: add tracking Gigya widget\n  wap_tms.custom.facebook = false; //true or false: add event handlers for Facebook\n  wap_tms.custom.twitter = false; //true or false: add event handlers for Twitter\n  wap_tms.custom.iframe = false; //true or false: enable iframe tracking - TBD\n  wap_tms.custom.vimeo = false; //true or false: enable YouTube tracking\n  wap_tms.custom.video_duration = 0;// variable to capture video duration\n\n  /** Simulates an AEM component click\n   * \n   * @param {string} component name of simulated component\n   * @param {string} event determines how the hit logic chould be processed, \n   * @param {*} state details about event\n   * @param {*} details details about event\n   * @param {*} url url that was clicked on \n   */\n  wap_tms.custom.assistantComponent = function (component, event, state, details, url) {\n    const hit = {};\n    var category = '';\n    var action = '';\n    switch (event) {\n      case 'download':\n        category = 'Downloads';\n        action = url;\n        break;\n      case 'login':\n        category = 'User Account Activity';\n        details = details.toLowerCase();\n        action = `${url === 'unifiedRegistration' ? 'registration' : 'login'}:${details}`;\n        if (!action.includes('complete')) {\n          hit.event37 = 1;\n          if (wap_tms.events.unique_g10 === true) {\n            wap_tms.events.unique_g10 = false;\n            hit.event38 = 1;\n          }\n        }\n        url = url || 'unifiedLogin';\n        break;\n      case 'sso':\n        nonInteraction = true;\n        category = 'User Account Activity';\n        details = details.toLowerCase();\n        action = `${url === 'unifiedRegistration' ? 'registration' : 'sso'}:${details}`;\n        url = url || 'unifiedLogin';\n        if (details.includes('createanaccount') && sessionStorage.getItem('waRegistrationStart') === null) {\n          hit.event3 = 1;\n          sessionStorage.setItem('waRegistrationStart', '1');\n        }\n        if (details.includes('employeesignin')) {\n          url += '-b2b';\n        }\n        if (details.includes('continue') || details.includes('employeesignin') || details.includes('sendcode') || details.includes('createanaccount')) {\n          hit.event158 = 1;\n        }\n        if (details === 'complete') {\n          hit.event4 = 1;\n        }\n        break;\n      default:\n        category = 'Components';\n        action = event + ': ' + component;\n        break;\n    }\n    hit.eVar44 = component;\n    hit.eVar45 = state;\n    hit.eVar46 = details;\n    trackGaEvent({ hit, category, action, label: url });\n  }\n\n  wap_tms.custom.trackLoginComplete = (uuid, userGroup) => {\n    const hit = {};\n    let experience;\n    hit.eVar40 = experience = userGroup === 'b2b' ? 'unifiedlogin-b2b' : 'unifiedlogin';\n    hit.eVar44 = uuid;\n    hit.eVar45 = userGroup;\n    hit.event157 = 1;\n    trackGaEvent({ hit, category: 'User Account Activity', action: 'login: complete', label: experience });\n  }\n  /**\n   * Validate script sources to find Tealium Utag path\n   */\n  wap_tms.custom.getTealiumUtagPath = function () {\n    wap_tms.tealium_data = wap_tms.tealium_data || {};\n    if (!wap_tms.tealium_data.utag_path) {\n      const scripts = document.querySelectorAll('script[src]');\n      for (let i = 0; i < scripts.length; ++i) {\n        let src = scripts[ i ].getAttribute('src') || '';\n        if (src.indexOf('utag.js') > -1) {\n          wap_tms.tealium_data.utag_path = src;\n          break;\n        }\n      }\n    }\n    return (wap_tms.tealium_data.utag_path || '');\n  };\n\n  /**\n   * Validate script sources to find Tealium Profile\n   */\n  wap_tms.custom.getTealiumProfile = function () {\n    wap_tms.tealium_data = wap_tms.tealium_data || {};\n    if (wap_tms.tealium_data.profile) {\n      return wap_tms.tealium_data.profile;\n    }\n    const utagSrcParts = (wap_tms.custom.getTealiumUtagPath() || '').split('/');\n    wap_tms.tealium_data.profile = utagSrcParts[ utagSrcParts.length - 3 ] || '';\n    return wap_tms.tealium_data.profile;\n  };\n\n  /**\n   * Validate script sources to find Tealium Profile\n   */\n  //Tags: Is this a callback for other teams? We don't use it\n  wap_tms.custom.isTealiumCQProfile = function () {\n    wap_tms.tealium_data = wap_tms.tealium_data || {};\n    if (!wap_tms.tealium_data.profile) {\n      wap_tms.custom.getTealiumProfile();\n    }\n    return ((wap_tms.tealium_data.profile).indexOf('cq.') > -1);\n  };\n\n  /**\n   * Validate script sources to find Tealium Environment\n   */\n  //Tags: Is this a callback for other teams? We don't use it\n  wap_tms.custom.getTealiumEnv = function () {\n    wap_tms.tealium_data = wap_tms.tealium_data || {};\n    if (wap_tms.tealium_data.env) {\n      return wap_tms.tealium_data.env;\n    }\n    const utagSrcParts = (wap_tms.custom.getTealiumUtagPath() || '').split('/');\n    wap_tms.tealium_data.env = utagSrcParts[ utagSrcParts.length - 2 ] || '';\n    return wap_tms.tealium_data.env;\n  };\n\n  /**\n   * Replace a parameter value in a query string\n   * @param {string} url    The URL having the query string\n   * @param {string} param  The parameter name to be replaced\n   * @param {string} value  The new value\n   */\n  wap_tms.custom.replaceQueryStringValue = function (url, param, value) {\n    let delimiter;\n    let newString;\n    const re = new RegExp('[\\\\?&]' + param + '=([^&#]*)');\n    const match = re.exec(url);\n    if (match === null) {\n      var hasQuestionMark = /\\?/.test(url);\n      delimiter = hasQuestionMark ? \"&\" : \"?\";\n      newString = url + delimiter + param + \"=\" + value;\n    } else {\n      delimiter = match[ 0 ].charAt(0);\n      newString = url.replace(re, delimiter + param + \"=\" + value);\n    }\n    return newString;\n  };\n\n  /**\n   * Convert a query string in an object\n   * @param {*} queryString   The query string to convert to object\n   * @param {boolean} decode  True to decode parameters. For example %20 to empty space\n   */\n  wap_tms.custom.getParamsFromQueryString = function (queryString, decode) {\n    if (queryString === '') {\n      return {};\n    }\n    if (!queryString) {\n      queryString = window.location.search;\n    } else {\n      // Validate the data to be parsed. It's been throwing lots of Type errors.\n      switch (typeof queryString) {\n        case 'number':\n          queryString = queryString.toString();\n          break;\n        case 'boolean':\n          queryString = queryString.toString();\n          break;\n        case 'object':\n          return {};\n      }\n    }\n    const queryStringArr = queryString.split('&');\n    const params = {};\n    for (let i = 0; i < queryStringArr.length; ++i) {\n      const paramsItem = queryStringArr[ i ].split('=', 2);\n      if (paramsItem.length === 1) {\n        params[ paramsItem[ 0 ] ] = '';\n      } else if (decode) {\n        params[ paramsItem[ 0 ] ] = decodeURIComponent(paramsItem[ 1 ].replace(/\\+/g, ''));\n      } else {\n        params[ paramsItem[ 0 ] ] = paramsItem[ 1 ].replace(/\\+/g, '');\n      }\n    }\n    return params;\n  };\n\n  /**\n   * Convert an object to a query string\n   * @param {object} paramsObj The object to convert to query string format\n   * @param {boolean} encode   True to encode parameter. For example an empty space to %20\n   */\n  wap_tms.custom.convertObjectToQueryString = function (paramsObj, encode) {\n    const paramsStr = (Object.keys(paramsObj).map(function (key) {\n      return (key + '=' + paramsObj[ key ]);\n    }).join('&'));\n    return (encode ? encodeURIComponent(paramsStr) : paramsStr);\n  };\n\n  /**\n   * Create a <style> tag containg the styles in parameters\n   * @param {string} selector      CSS selector\n   * @param {object} styles        CSS style to apply\n   * @param {string} [id] The id for the <style> tag. It could help to remove it later\n   */\n  wap_tms.custom.addStyleTag = function (selector, styles, id) {\n    const stylesStr = styles.join(';');\n    if (id) {\n      document.head.insertAdjacentHTML('beforeend', '<style id=\"' + id + '\">' + selector + '{' + stylesStr + '}' + '</style>');\n    } else {\n      document.head.insertAdjacentHTML('beforeend', '<style>' + selector + '{' + stylesStr + '}' + '</style>');\n    }\n  };\n\n  /** Tags: need to keep this per Will\n   * Creates a OneTrust consent tool cookie\n   * @param {string} name           The cookie name\n   * @param {string} value          The cookie value\n   * @param {Date}    [dateToExpire] Expiration date for the cookie.\n   * @param {string} [domain]       The domain where cookie will be created. Current domain without www by default\n   */\n  wap_tms.custom.setOneTrustCookie = function (name, value, dateToExpire, domain) {\n    dateToExpire = dateToExpire ? new Date(dateToExpire) : new Date();\n    dateToExpire = wap_tms.consent.getConsentExpirationDate(new Date());\n    if (!domain) {\n      domain = (window.location.hostname).replace('www.', '').replace('www', '');\n    }\n    value = encodeURIComponent(value);\n    const expires = 'expires=' + new Date(dateToExpire).toUTCString();\n    if (utag_data.wa_env === 'prod') {\n      document.cookie = name + '=' + value + ';' + expires + ';path=/;domain=.' + domain + ';Samesite=Lax'\n    } else {\n      document.cookie = name + '=' + value + ';' + expires + ';path=/;.' + domain + ';Samesite=Lax';\n    }\n  };\n\n  /** Tags: need to keep this per Will\n   * Deletes a OneTrust consent tool cookie\n   * @param {string} name     The cookie name\n   * @param {string} [domain] The domain where cookie was created. Current domain without www by default\n   */\n  wap_tms.custom.deleteOneTrustCookie = function (name, domain) {\n    if (!domain) {\n      domain = (window.location.hostname).replace('www.', '').replace('www', '');\n    }\n    const deleteCookie = function (pDomain) {\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;' + pDomain;\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;.' + pDomain;\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=' + pDomain;\n      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=.' + pDomain;\n    };\n    document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;intel.com'\n    document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;.intel.com';\n    deleteCookie(domain);\n  };\n\n  wap_tms.custom.tagStatus = {\n    _fnsOnTagSent: {},\n    _status: {},\n    /**\n     * Execute all the functions inside a tag's function arrays because it has been sent\n     * @param {string} tagName The name of the tag's function arrays to execute\n     */\n    _executeOnTagSent: function (tagName) {\n      const self = wap_tms.custom.tagStatus;\n      if (!self._fnsOnTagSent[ tagName ]) {\n        return;\n      }\n      for (let i = 0; i < self._fnsOnTagSent[ tagName ].length; ++i) {\n        const item = self._fnsOnTagSent[ tagName ][ i ];\n        if (item.category && !wap_tms.consent.isCategoryEnabled(item.category)) {\n          return;\n        }\n        item.fn();\n      }\n    }\n  };\n\n  /**\n   * This function looks for a node matching a selector, if no attribute is passed it just waits for the presence of a node matching the selector and returns that node\n   * If an attribute is specified it waits for the presence of the attribute, and waits for the attribute to match the value if the value is specified. You may pass a callback to \n   * perform some logic on the element found or return the element back to the calling scope. If you would like to perform logic on multiple elements you must pass the callback \n   * function and set once=false, and this function will not return a value. \n   * \n   * @param params           Object, required: An object with the required parameters listed below\n   * @param params.selector  String,required: Selector for element, will be passed to document.querySelector\n   * @param params.callback  Function: callback function that takes one parameter, the element found and performs some logic on it\n   * @param params.once      Boolean, optional: determines if we are just looking for the first occurence of an element (true by default), if false, it will perform the callback\n   *                                            on all matching elements\n   * @return                 Element: returns first element found if no callback is passed\n   * \n   */\n  wap_tms.custom.waitForElement = async (params) => {\n    const {\n      selector,\n      callback = null,\n      once = true\n    } = params;\n    const doCallback = typeof callback === 'function';\n    //if no attribute is specified only check for the presence of the node\n    const elements = document.querySelectorAll(selector);\n    if (elements.length > 0) {\n      if (doCallback) {\n        if (once) {\n          callback.constructor.name === 'AsyncFunction' ? await callback(elements[ 0 ]) : callback(elements[ 0 ]);\n        } else {\n          elements.forEach(async (element) => {\n            callback.constructor.name === 'AsyncFunction' ? await callback(element) : callback(element);\n          });\n        }\n      } else {\n        return elements[ 0 ];\n      }\n    }\n    if (elements.length === 0 || !once) {\n      const observer = new MutationObserver(async (mutations) => {\n        mutations.forEach(async (mutation) => {\n          if (mutation.type === 'childList') {\n            mutation.addedNodes.forEach(async (node) => {\n              if ((node.nodeType === Node.ELEMENT_NODE)) {\n                const element = node.matches(selector) === true ? node : null;\n                if (element) {\n                  if (doCallback) {\n                    callback.constructor.name === 'AsyncFunction' ? await callback(element) : callback(element);\n                  } else {\n                    return element;\n                  }\n                  if (once) {\n                    observer.disconnect();\n                  }\n                }\n              }\n            });\n          }\n        });\n      });\n      observer.observe(document.body, {\n        childList: true,\n        subtree: true,\n      });\n    }\n  };\n\n  /**\n   * This function grabs the first element matching a selector it also takes  a target attribute to grab. It will asynchronously wait for that attribute to be available and then either execute the callback,\n   * or wait for the attribute to INCLUDE the target value. It is not an exact match, it is target.includes(value). This is done to handle class attributes with multiple classes and also work with other \n   * attributes. \n   * \n   * @param params           Object, required:   An object with the required parameters listed below\n   * @param params.selector  String,required:    Selector for element, will be passed to document.querySelector\n   * @param params.callback  Function, required: callback function that takes the element found as a parameter and performs some logic on it\n   * @param params.target    String, required:   attribute name you are looking for\n   * @param params.value     Any, optional:      value you would like the attribute to include, omit if only looking for presence of class\n   * @param params.once      Bool, optional:     execute callback for only the first element found (true, default) or for all elements matching selector (false)\n   *                                             on all matching elements\n   */\n  wap_tms.custom.waitForAttribute = async (params) => {\n    let {\n      selector,\n      target,\n      attributeCallback,\n      value = '',\n      once = true,\n    } = params;\n    value = String(value);\n\n    wap_tms.custom.waitForElement({\n      selector,\n      once,\n      callback: async (element) => {\n        const attribute = String(element.getAttribute(target));\n        if (attribute) {\n          if (value) {\n            if (attribute.includes(value)) {\n              attributeCallback(element);\n              return;\n            }\n          } else {\n            attributeCallback(element);\n            return;\n          }\n        }\n        const attributeWatcher = new MutationObserver(async () => {\n          const attribute = String(element.getAttribute(target));\n          if (attribute) {\n            if (value) {\n              if (attribute.includes(value)) {\n                attributeCallback(element);\n                attributeWatcher.disconnect();\n                return;\n              }\n            } else {\n              attributeCallback(element);\n              attributeWatcher.disconnect();\n            }\n          }\n        });\n        attributeWatcher.observe(element, {\n          childList: false,\n          subtree: false,\n          attributes: true\n        });\n      }\n    });\n  }\n\n  /**\n   * Validates if a tag or list of tags are currently on status sent\n   * @param {string|array} tagsName  A string of of arry containing the tags names to check\n   * @returns {boolean} True if tag or all tags are on status sent\n   */\n  wap_tms.custom.tagStatus.isSent = function (tagsName) {\n    let result;\n    if (!tagsName) {\n      result = true;\n      for (let key in wap_tms.custom.tagStatus._status) {\n        if (wap_tms.custom.tagStatus._status[ key ] !== 'sent') {\n          result = false;\n          break;\n        }\n      }\n    } else if (Array.isArray(tagsName)) {\n      result = true;\n      for (let i = 0; i < tagsName.length; ++i) {\n        const key = tagsName[ i ];\n        if (wap_tms.custom.tagStatus._status[ key ] !== 'sent') {\n          result = false;\n          break;\n        }\n      }\n    } else {\n      result = (wap_tms.custom.tagStatus._status[ tagsName ] === 'sent');\n    }\n    return result;\n  };\n\n  /**\n   * Change the status for a AppMeasurement tag\n   * @param {string} tagName The tag name s change the status\n   * @param {string} status The status to applied\n   */\n  wap_tms.custom.tagStatus.change = function (tagName, status) {\n    wap_tms.custom.tagStatus._status[ tagName ] = status;\n    if (status === 'sent') { // If status is sent executes the function on the queue for the tag\n      wap_tms.custom.tagStatus._executeOnTagSent(tagName);\n    }\n  };\n\n  /**\n   * Add a function to a queue to execute when a specific AppMeasurement tag is sent or executes it if tag status is sent\n   * @param {string} tagName    The tag name of the tag that will execute the function\n   * @param {function} fn       The function to execute\n   * @param {string} [category] Execute only if this category is enabled\n   */\n  wap_tms.custom.tagStatus.onTagSent = function (tagName, fn, category) {\n    if (!wap_tms.custom.tagStatus.isSent(tagName)) { // If tag has not been sent\n      const self = wap_tms.custom.tagStatus;\n      if (!self._fnsOnTagSent[ tagName ]) { // If current tag name doesn't exist on tag's function arrays, create it\n        self._fnsOnTagSent[ tagName ] = [];\n      }\n      self._fnsOnTagSent[ tagName ].push({ // Push function to queue for corresponding tag name\n        fn: fn,\n        category: category || null\n      });\n    } else if (category && !wap_tms.consent.isCategoryEnabled(category)) { // If category parameter exists and category is not enabled -> does nothing\n      // Do nothing\n    } else { // If tag has been sent and not category parameter or category is enabled, executes the function\n      fn();\n    }\n  };\n\n  /**\n   * Handles AppMeasurement splitted tags sending status\n   */\n  wap_tms.custom.onAppMeasurement = wap_tms.custom.onAppMeasurement || {\n    _fns: [],\n    /**\n     * Add a function to a queue of functions to execute when AppMeasurement tag\n     * is sent or execute if it's currently sent\n     * @param {function} fn The function to execute\n     */\n    add: function (fn) {\n      if (wap_tms.custom.tagStatus.isSent('app_measurement')) {\n        fn();\n      } else {\n        wap_tms.custom.onAppMeasurement._fns.push(fn);\n      }\n    },\n    /**\n     * Executes the functions in the queue\n     */\n    do: function () {\n      for (let i = 0; i < wap_tms.custom.onAppMeasurement._fns.length; ++i) {\n        wap_tms.custom.onAppMeasurement._fns[ i ]();\n      }\n    }\n  };\n\n  // TODO: @evillalobos remove this line after validation of websdk.mappings.js\n  //wap_tms.custom.tagStatus.change('init', 'sent');\n\n  // Namespace for helpers to hanlde interaction with Web Worker\n  wap_tms.custom.webworker = wap_tms.custom.webworker || {};\n\n\n  wap_tms.custom.event_handler = (typeof wa_custom_event_handler == \"undefined\") ? 0 : wa_custom_event_handler; // constiable to be set in Target: wa_custom_event_handler = 1;\n  wapCrossDomain = false; //Enable cross domain communication in modals.\n  wap_tms.custom.init = function (fname) {\n    try {\n      if (typeof this[ fname ] == 'function') {\n        this[ fname ]();\n      }\n    }\n    catch (err) { };\n  };\n\n  //Delay GA hits\n  wap_tms.custom.delayedHitsQueue = [];\n  wap_tms.custom.delayedPageViewsQueue = [];\n\n  //Send hits\n  wap_tms.custom.sendDelayedHits = function () {\n    for (i = 0; i < wap_tms.custom.delayedPageViewsQueue.length; i++) {\n    }\n    setTimeout(function () {\n      for (i = 0; i < wap_tms.custom.delayedHitsQueue.length; i++) {\n        const aa = wap_tms.custom.delayedHitsQueue[ i ].aa;\n        if (aa) {\n          wap_tms.events.aa(aa.aao, aa.event);\n        }\n      }\n      wap_tms.custom.delayedHitsQueue = [];\n    }, 1000);\n  }\n\n  //Create Queue\n  //TAGS: Deprecate maybe, loooks like old GA code\n  //tags: ga deprecate\n  wap_tms.custom.includeCustomDefinition = function (value, type, number) {\n    for (i = 0; i < wap_tms.custom.delayedPageViewsQueue.length; i++) {\n      if (type == \"dimension\") {\n        wap_tms.custom.delayedPageViewsQueue[ i ].fo[ \"dimension\" + number ] = value;\n      }\n      else if (type == \"metric\") {\n        wap_tms.custom.delayedPageViewsQueue[ i ].fo[ \"metric\" + number ] = value;\n      }\n    }\n  }\n\n\n  wap_tms.extractHostname = function extractHostname(url) {\n    let hostname;\n    //find & remove protocol (http, ftp, etc.) and get hostname\n    if (url.indexOf(\"://\") > -1) {\n      hostname = url.split('/')[ 2 ];\n    }\n    else {\n      hostname = url.split('/')[ 0 ];\n    }\n    //find & remove port number\n    hostname = hostname.split(':')[ 0 ];\n    //find & remove \"?\"\n    hostname = hostname.split('?')[ 0 ];\n    return hostname;\n  }\n\n  //List of all assets we track as downloads.\n  wap_tms.download = wap_tms.download || {};\n  wap_tms.download.assets = \"pdf|jpg|png|gif|zip|doc|xls|exe|mp3|bz2|tar|mov|mpg|wmv|msi|gz|bio|rar|iso|7z|txz|sz|py|tgz|txt|reg|pptx|ppt|xlsx|rpm|xml|eprt|bmp|sh|xlsm|ini|jar|ppsx|apk|pkg|flv|bin|ods|bat|chm|deb|emfw|eps|install|jpeg|mp4|prc|rtf|sit|docx|cap|z01|z02|qar|qpf|bsd|dmg\";\n\n  //init content classification data elements and set to blank. Elements will be set to values in 1) lookup table 2) set data ext 3) custom code\n  utag_data.content_product = \"unassigned\";\n  utag_data.content_ter_initiative = \"unassigned\";\n  //set referrer domain (GA only)\n  wap_tms.referrer = checkReferrerDomain();\n  //START jquery config\n  wap_tms.jquery = {};\n  wap_tms.jquery.ver_1_7_plus = false; //set default to false\n  wap_tms.isjQueryAvailable = false;\n  wap_tms.jquery.chk_version = function (ver) {\n    ver = ver + \"\"; //convert (make sure) value is string so we can use regex\n    jVer = ver.split(\".\"); //remove all .\n    jVerNum1 = Number(jVer[ 0 ]); //set first number to test\n    jVerNum2 = Number(jVer[ 1 ]); //set second number to test\n    ver_1_7_plus = false; //set default to false\n    if (jVerNum1 >= 2) {\n      ver_1_7_plus = false;\n    } //check if version 2.x is being used, if 2 or greater set to false\n    else {\n      if (jVerNum2 >= 7) {\n        ver_1_7_plus = true;\n      } //if jQuery 1.7 set to true\n      else {\n        ver_1_7_plus = false;\n      } //if jQuery 1.7 or lower set to false\n    }\n    return ver_1_7_plus;\n  };\n  //first check: is $wap object available from TMS loader or TMS pre-loader JavaScript?\n  if (typeof $wap !== 'undefined') {\n    wap_tms.jquery.ver_1_7_plus = wap_tms.jquery.chk_version($wap.fn.jquery); //get version\n    wap_tms.isjQueryAvailable = typeof (window.$wap) === 'function';\n  }\n  else {\n    window.$wap = {}; //define $wap since its not yet defined\n  }\n  //second check: is jQuery object available?\n  if (!wap_tms.jquery.ver_1_7_plus || !wap_tms.isjQueryAvailable) { //only check if needed\n    wap_tms.custom.executeCallbackWhen({\n      'when': function () {\n        return (typeof jQuery !== 'undefined'); //check if jQuery object is available\n      },\n      'callback': function () {\n        wap_tms.jquery.ver_1_7_plus = wap_tms.jquery.chk_version(jQuery.fn.jquery); //get version\n        wap_tms.isjQueryAvailable = typeof (window.jQuery) === 'function';\n\n        if (wap_tms.jquery.ver_1_7_plus || wap_tms.isjQueryAvailable) { //if version 1.7+ or jQuery available set $wap object\n          wap_tms.custom.jquery = true;\n          $wap = jQuery; //create wap reference\n        }\n      }\n    });\n  }\n  //third check: is jQuery_1_10_1 available from global header? //disabled as this code has issues\n  /*if(!wap_tms.jquery.ver_1_7_plus || wap_tms.isjQueryAvailable){ //only check if needed\n    if(typeof load_jquery1_10_1 == 'function'){\n      console.log(\"load_jquery1_10_1\");\n      load_jquery1_10_1();\n      $wap=window.INTELNAV.jQuery_1_10_1;\n      $wap.noConflict();\n      //window.INTELNAV.jQuery_1_10_1;\n      //$wap=$wapTemp;\n      //$wapref=$wapTemp;\n    }\n  }*/\n  //END jquery config\n  //START Events config\n  wap_tms.events = {};\n\n  //Tealium Override rules object\n  window.utag_cfg_ovrd = window.utag_cfg_ovrd || {}; // Create 'utag_cfg_ovrd' object if not created\n  window.utag_cfg_ovrd.load_rules_at_wait = true; // Set load rule to re-evaluate after 'all tags' scoped extensions\n  //example set method: utag_cfg_ovrd['property'] = value;\n  //Error handling\n  wap_tms.error = {};\n  wap_tms.error.type = '';\n  wap_tms.error.set = function (error, errorType) {\n    error = error.substr(0, error.length - 1);\n    wap_tms.error.type += \"::\" + errorType + error;\n    wap_tms.error.type = wap_tms.error.type.replace(/^::/, '');\n    page.eVar67 = wap_tms.error.type;\n    hit.eVar67 = wap_tms.error.type;\n    page.prop49 = wap_tms.error.type;\n    hit.prop49 = wap_tms.error.type;\n    hit.event49 = '1';\n  };\n\n  //WAP Version Tracker, call format: wap_tms.version.set('2.0,', 'ga:');\n  wap_tms.version = {};\n  wap_tms.version.type = '';\n  wap_tms.version.set = function (ver) {\n    wap_tms.version.type += `${ver}|`;\n    return wap_tms.version.type;\n  };\n\n  //Content Group, call format: wap_tms.content_group.set('android', 'ssg'); MUST contain : in verType last char\n  wap_tms.content_group = {};\n  wap_tms.content_group.type = '';\n  wap_tms.content_group.set = function (ver, verType) {\n    ver += '|';\n    verType += ':';\n    ver = ver.substr(0, ver.length - 1); //remove ,\n    wap_tms.content_group.type += \"|\" + verType + ver;\n    wap_tms.content_group.type = wap_tms.content_group.type.replace(/^\\|/, ''); //remove only first instance of ::\n    utag_data.wa_custom_content_group = wap_tms.content_group.type;\n    return wap_tms.content_group.type;\n    //console.log(\"utag_data.wa_custom_content_group: \" + utag_data.wa_custom_content_group);\n  };\n\n\n  //remove email (if present)\n  wap_tms.cleanPii = function (str, type) {\n    if (str === '') {\n      // Do nothing\n    } else if (/\\@/.test(str)) {\n      str = str.replace(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,10}\\b/ig, 'removed@email');\n      if (str.indexOf(\"removed@email\") != -1) {\n        wap_tms.error.set(type + ',', 'pii.email:');\n      }\n    }\n    return str;\n  };\n\n  //querystring\n  wap_tms.getQuerystring = function (search) {\n    search = (search || location.search).split('#')[ 0 ]; // Remove hash\n    let qs;\n    try {\n      qs = decodeURIComponent(search);\n    } catch (e) {\n      qs = search;\n    };\n    qs = wap_tms.cleanPii(qs, 'qs');\n    return qs;\n  }\n\n  //TMS Sync loading opt - part 2 (part 1 in TMS loader script)\n  if (typeof wap_tms.utility !== \"undefined\") { //make sure latest version\n    utag_data.load_method = (typeof utag_data.load_method !== \"undefined\") ? utag_data.load_method : '';\n    if (utag_data.load_method == \"sync\") { //make sure utag.js is loaded as sync\n      wap_tms.utility.endTime = new Date().getTime();\n      var timeSpent = wap_tms.utility.endTime - wap_tms.utility.startTime;\n      //console.log(\"timeSpent: \" + timeSpent+\"\\n:wap_tms.utility.endTime: \" + wap_tms.utility.endTime + \"\\nwap_tms.utility.startTime: \" + wap_tms.utility.startTime);\n      if (timeSpent < wap_tms.utility.tmsTimeout) { //remove cookie\n        wap_tms.storage.setCookie({ name: 'tms_timeout', value: '', daysToExpire: 0 });\n\n        //console.log(\"Cookie removed\");\n      }\n      else { //GA error handling capture here\n        //console.log(\"Timeout occured\");\n        wap_tms.error.set('sync load timeout,', 'tms.load:');\n      }\n    }\n  }\n\n  //Set browser & OS\n  //TODO: remove legacy navigotr variables\n  (function (window) {\n    const unknown = '-';\n    let os = unknown;\n    //browser\n    const nVer = navigator.appVersion;\n    const nAgt = navigator.userAgent;\n    let browser = navigator.appName;\n    let version = '' + parseFloat(navigator.appVersion);\n    let majorVersion = parseInt(navigator.appVersion, 10);\n    let nameOffset, verOffset, ix;\n    // Opera\n    if ((verOffset = nAgt.indexOf('Opera')) != -1) {\n      browser = 'Opera';\n      version = nAgt.substring(verOffset + 6);\n      if ((verOffset = nAgt.indexOf('Version')) != -1) {\n        version = nAgt.substring(verOffset + 8);\n      }\n    }\n    // MSIE\n    else if ((verOffset = nAgt.indexOf('MSIE')) != -1) {\n      browser = 'Microsoft Internet Explorer';\n      version = nAgt.substring(verOffset + 5);\n    }\n    // Chrome\n    else if ((verOffset = nAgt.indexOf('Chrome')) != -1) {\n      browser = 'Chrome';\n      version = nAgt.substring(verOffset + 7);\n    }\n    // Safari\n    else if ((verOffset = nAgt.indexOf('Safari')) != -1) {\n      browser = 'Safari';\n      version = nAgt.substring(verOffset + 7);\n      if ((verOffset = nAgt.indexOf('Version')) != -1) {\n        version = nAgt.substring(verOffset + 8);\n      }\n    }\n    // Firefox\n    else if ((verOffset = nAgt.indexOf('Firefox')) != -1) {\n      browser = 'Firefox';\n      version = nAgt.substring(verOffset + 8);\n    }\n    // MSIE 11+\n    else if (nAgt.indexOf('Trident/') != -1) {\n      browser = 'Microsoft Internet Explorer';\n      version = nAgt.substring(nAgt.indexOf('rv:') + 3);\n    }\n    // Other browsers\n    else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {\n      browser = nAgt.substring(nameOffset, verOffset);\n      version = nAgt.substring(verOffset + 1);\n      if (browser.toLowerCase() == browser.toUpperCase()) {\n        browser = navigator.appName;\n      }\n    }\n    // trim the version string\n    if ((ix = version.indexOf(';')) != -1) version = version.substring(0, ix);\n    if ((ix = version.indexOf(' ')) != -1) version = version.substring(0, ix);\n    if ((ix = version.indexOf(')')) != -1) version = version.substring(0, ix);\n    majorVersion = parseInt('' + version, 10);\n    if (isNaN(majorVersion)) {\n      version = '' + parseFloat(navigator.appVersion);\n      majorVersion = parseInt(navigator.appVersion, 10);\n    }\n    // system\n    const clientStrings = [\n      { s: 'Windows 3.11', r: /Win16/ },\n      { s: 'Windows 95', r: /(Windows 95|Win95|Windows_95)/ },\n      { s: 'Windows ME', r: /(Win 9x 4.90|Windows ME)/ },\n      { s: 'Windows 98', r: /(Windows 98|Win98)/ },\n      { s: 'Windows CE', r: /Windows CE/ },\n      { s: 'Windows 2000', r: /(Windows NT 5.0|Windows 2000)/ },\n      { s: 'Windows XP', r: /(Windows NT 5.1|Windows XP)/ },\n      { s: 'Windows Server 2003', r: /Windows NT 5.2/ },\n      { s: 'Windows Vista', r: /Windows NT 6.0/ },\n      { s: 'Windows 7', r: /(Windows 7|Windows NT 6.1)/ },\n      { s: 'Windows 8.1', r: /(Windows 8.1|Windows NT 6.3)/ },\n      { s: 'Windows 8', r: /(Windows 8|Windows NT 6.2)/ },\n      { s: 'Windows NT 4.0', r: /(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/ },\n      { s: 'Windows ME', r: /Windows ME/ },\n      { s: 'Android', r: /Android/ },\n      { s: 'Open BSD', r: /OpenBSD/ },\n      { s: 'Sun OS', r: /SunOS/ },\n      { s: 'Linux', r: /(Linux|X11)/ },\n      { s: 'iOS', r: /(iPhone|iPad|iPod)/ },\n      { s: 'Mac OS X', r: /Mac OS X/ },\n      { s: 'Mac OS', r: /(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/ },\n      { s: 'QNX', r: /QNX/ },\n      { s: 'UNIX', r: /UNIX/ },\n      { s: 'BeOS', r: /BeOS/ },\n      { s: 'OS/2', r: /OS\\/2/ },\n      { s: 'Search Bot', r: /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\\/Teoma|ia_archiver)/ }\n    ];\n    for (let id in clientStrings) {\n      const cs = clientStrings[ id ];\n      if (cs.r.test(nAgt)) {\n        os = cs.s;\n        break;\n      }\n    }\n    let osVersion = unknown;\n    if (/Windows/.test(os)) {\n      osVersion = /Windows (.*)/.exec(os)[ 1 ];\n      os = 'Windows';\n    }\n    switch (os) {\n      case 'Mac OS X':\n        osVersion = /Mac OS X (\\d+[\\.\\_\\d]+)/.exec(nAgt)[ 1 ];\n        break;\n      case 'Android':\n        osVersion = /Android ([\\.\\_\\d]+)/.exec(nAgt)[ 1 ];\n        break;\n      case 'iOS':\n        osVersion = /OS (\\d+)_(\\d+)_?(\\d+)?/.exec(nVer);\n        osVersion = osVersion[ 1 ] + '.' + osVersion[ 2 ] + '.' + (osVersion[ 3 ] | 0);\n        break;\n    }\n    utag_data.user_os = (os + \" \" + osVersion).toLowerCase();\n    utag_data.user_browser = (browser + \" \" + version).toLowerCase();\n    utag_data.user_agent = navigator.userAgent;\n    utag_data.isMobile = ((userAgent) => ( // https://github.com/matthewhudson/current-device/blob/master/src/index.js\n      (!userAgent.includes('windows') && userAgent.includes('android') && userAgent.includes('mobile')) ||\n        (!userAgent.includes('windows') && userAgent.includes('iphone')) ||\n        userAgent.includes('ipod') ||\n        (userAgent.includes('windows') && userAgent.includes('phone')) ||\n        ((userAgent.includes('blackberry') || userAgent.includes('bb10')) && !userAgent.includes('tablet') && !userAgent.includes('tablet')) ||\n        (((userAgent.includes('(mobile') || userAgent.includes('(tablet')) && userAgent.includes(' rv:')) && userAgent.includes('mobile')) ||\n        userAgent.includes('meego') ? 'true' : 'false'\n    ))(utag_data.user_agent.toLowerCase());\n  }(this));\n\n  //**********************************************************************************************************************************************************************\n  //* Universal Event Tracking Interface                                                                                                                                 *\n  //**********************************************************************************************************************************************************************\n  wap_tms.events.unique_pci = true; //flag to only set unique page PCI 1x per page\n  wap_tms.events.unique_g4 = true; //flag to only set unique page  Click to Registration 1x per page\n  wap_tms.events.unique_g5 = true; //flag to only set unique page  Registration 1x per page\n  wap_tms.events.unique_g7 = true; //flag to only set unique page  Video Midpoints 1x per page\n  wap_tms.events.unique_g8 = true; //flag to only set unique page  Downloads 1x per page\n  wap_tms.events.unique_g9 = true; //flag to only set unique page  Social 1x per page\n  wap_tms.events.unique_g10 = true; //flag to only set unique page  Logins 1x per page\n  wap_tms.events.unique_g11 = true; //flag to only set unique page  Third Party Shop 1x per page\n  wap_tms.events.unique_g12 = true; //flag to only set unique page  Third Party Buy Now 1x per page\n  wap_tms.events.unique_g13 = true; //flag to only set unique page  Click to Intel Shop 1x per page\n  wap_tms.events.unique_g14 = true; //flag to only set unique page  Scroll 50% 1x per page\n\n  wap_tms.events.g4 = 'PER: Registration'; //map DMF KPI to friendly name\n  wap_tms.events.g5 = 'PER: Click to Registration'; //map DMF KPI to friendly name\n  wap_tms.events.g6 = 'PER: Page Content Interaction'; //map DMF KPI to friendly name\n  wap_tms.events.g7 = 'PER: Video Midpoints'; //map DMF KPI to friendly name\n  wap_tms.events.g8 = 'PER: Downloads'; //map DMF KPI to friendly name\n  wap_tms.events.g9 = 'PER: Social'; //map DMF KPI to friendly name\n  wap_tms.events.g10 = 'PER: Logins'; //map DMF KPI to friendly name\n  wap_tms.events.g11 = 'PIR: Third Party Shop'; //map DMF KPI to friendly name\n  wap_tms.events.g12 = 'PIR: Third Party Buy Now'; //map DMF KPI to friendly name\n  wap_tms.events.g13 = 'PIR: Click to Intel Shop'; //map DMF KPI to friendly name\n  wap_tms.events.g14 = 'PER: Scroll 50%'; //map DMF KPI to friendly name\n  //wap_tms.events.tog1='pir'; //target mbox conversion, fired only 1x per page load\n  //wap_tms.events.tog2='per'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog4 = 'per-registration'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog5 = 'per-clicktoregistration'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog6 = 'per-pci'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog7 = 'per-video50'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog8 = 'per-downloads'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog9 = 'per-social'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog10 = 'per-login'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog11 = 'pir-shop3rdparty'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog12 = 'pir-buynow'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog13 = 'pir-intelshop'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.tog14 = 'per-scroll_50'; //target mbox conversion, fired only 1x per page load\n  wap_tms.events.rlsa_page = (utag_data.wa_geo != \"prc\") ? true : false; //enable data to be sent to RLSA property - page level, temp solution until Google can support\n  wap_tms.events.rlsa_link = false; //enable data to be sent to RLSA property - link level, temp solution until Google can support\n  //DMF Points\n  wap_tms.events.dmfpoints = {\n    none: { val: 0, name: 'no points' },\n    scroll25: { val: 3, name: 'scroll: 25%' },\n    scroll50: { val: 5, name: 'scroll: 50%' },\n    scroll75: { val: 5, name: 'scroll: 75%' },\n    scroll100: { val: 5, name: 'scroll: 100%' },\n    pageload: { val: 1, name: 'click: page load' },\n    interaction: { val: 1, name: 'click: content interaction' },\n    incontent: { val: 2, name: 'click: in-content' },\n    toolstart: { val: 10, name: 'click: tool start' },\n    toolcomplete: { val: 10, name: 'click: tool complete' },\n    register: { val: 30, name: 'click: register' },\n    login: { val: 20, name: 'click: login' },\n    exitother: { val: 10, name: 'click: exit to non-pir site' },\n    exitpir: { val: 20, name: 'click: exit to pir sites' },\n    exitbuy: { val: 30, name: 'click: exit buy now' },\n    downloadexe: { val: 5, name: 'download: driver' },\n    download: { val: 20, name: 'download: content' },\n    share: { val: 20, name: 'social: share' },\n    post: { val: 20, name: 'social: post' },\n    rate: { val: 10, name: 'social: rate' },\n    chat: { val: 20, name: 'social: chat' },\n    email: { val: 10, name: 'social: email' },\n    comment: { val: 20, name: 'social: comment' },\n    vid_s_0: { val: 5, name: 'video(s): start' },\n    vid_s_25: { val: 5, name: 'video(s): 25%' },\n    vid_s_50: { val: 5, name: 'video(s): 50%' },\n    vid_s_75: { val: 5, name: 'video(s): 75%' },\n    vid_s_95: { val: 5, name: 'video(s): 95%' },\n    vid_m_0: { val: 5, name: 'video(m): start' },\n    vid_m_25: { val: 10, name: 'video(m): 25%' },\n    vid_m_50: { val: 10, name: 'video(m): 50%' },\n    vid_m_75: { val: 10, name: 'video(m): 75%' },\n    vid_m_95: { val: 10, name: 'video(m): 95%' },\n    vid_l_0: { val: 5, name: 'video(l): start' },\n    vid_l_25: { val: 15, name: 'video(l): 25%' },\n    vid_l_50: { val: 15, name: 'video(l): 50%' },\n    vid_l_75: { val: 15, name: 'video(l): 75%' },\n    vid_l_95: { val: 15, name: 'video(l): 95%' },\n    vidsize: { t: 9, s: 10, m: 61, l: 221 }, //video size to determine points t=threashold(0-15), s=small(15-60), m=medium(61-300), l=large(301+). Defined as in seconds.\n\n    //Tags: TODO update vid with AA values instead of GA dimensions\n    setvidesize: function (vd, val) {\n      /*assign video points\n          vd = [number] video duration\n          val: [string] video index reference value, i.e. 'vid_m_50', 'vid_l_100', etc.\n      */\n      const vidObj = {}; //return object to assign to another object in trackGaEvent\n      if (vd == 0 || vd <= this.vidsize.t) {\n        vidObj.dimension149 = this.none.name;\n        delete vidObj.metric85;\n      }\n      if (vd >= this.vidsize.t) { //meets minimal threashold, assign video points\n        if (vd >= this.vidsize.t) { //small\n          const ref = this[ \"vid_s_\" + val ];\n          vidObj.dimension149 = ref.name;\n          vidObj.metric85 = ref.val;\n        }\n        if (vd >= this.vidsize.m) { //medium\n          const ref = this[ \"vid_m_\" + val ];\n          vidObj.dimension149 = ref.name;\n          vidObj.metric85 = ref.val;\n        }\n        if (vd >= this.vidsize.l) { //large\n          const ref = this[ \"vid_l_\" + val ];\n          vidObj.dimension149 = ref.name;\n          vidObj.metric85 = ref.val;\n        }\n      }\n      return vidObj;\n    }\n  };\n\n  if (wap_tms.jquery.ver_1_7_plus || wap_tms.isjQueryAvailable) {\n    (function ($) {\n      wapDomain = $wap(\"script[src*='global/wap/wap-']\");\n      if (wapDomain.length > 0) {\n        wapDomain = $wap(\"script[src*='global/wap/wap-']\")[ 0 ].src;\n        if (typeof (wapDomain) != \"undefined\" && wapDomain.indexOf(\"ssl\") != -1 && wapDomain.indexOf(\"gigya\") == -1) {\n          urlParts = $wap(\"script[src*='global/wap/wap-']\")[ 0 ].src.split('/');\n          wapLoaderScript = urlParts[ urlParts.length - 1 ];\n          wap_tms.version.set(wapLoaderScript + \" \", 'file:');\n        }\n      }\n    }($wap));\n  };\n\n  wap_tms.aaTrack = {\n    ropsMapping: {},\n    _initialized: false,\n    _status: null, // waiting, ready, enabled, disabled\n    _virtualPageviewsQueue: [],\n    hitCallbacks: {},\n  };\n\n  wap_tms.aaTrack.hitCallbacks = {\n    'registration_pageview_tracked': function (opt_label) {\n      wap_ga.registrationFormName = opt_label;\n    },\n    'popup_modal_flag': function (flagValue) {\n      wap_tms.custom.isPopupModal = flagValue;\n    },\n    // Tags: I think this is EOL'd - also check webworker for that variable\n    'extend_to_tags': function (eo, debug) {\n      wap_tms.events.extendToTags(eo, debug);\n    },\n    'events_target': function (to, debug) {\n      wap_tms.events.target(to, debug);\n    },\n  };\n  /**\n   * \n   * @param {Object} details contains details about the analytics hit, \n   */\n  window.trackGaEvent = async (details) => {\n    let {\n      category,\n      action,\n      label,\n      params,\n      nonInteraction,\n      page = {},\n      hit = {},\n    } = details;\n    //convert evar to eVar\n    const convertToMixed = (scope) => {\n      Object.keys(scope).forEach((dim) => {\n        if (dim.includes('evar')) {\n          scope[ `eVar${dim.substring(4)}` ] = scope[ dim ];\n          delete scope[ dim ];\n        }\n      })\n    }\n\n    convertToMixed(page);\n    convertToMixed(hit);\n    // Setup Floodlight event based on category, action or opt label\n    const floodlightEvent = `${category}|${action}${label ? `|${label}` : ''}}`.toLowerCase();\n    wap_tms.custom.floodlight.setup(floodlightEvent);\n    const aao = await wap_tms.setDimensions({\n      category,\n      action,\n      label,\n      page,\n      hit,\n      params,\n      nonInteraction\n    });\n    page = aao.page;\n    hit = aao.hit;\n    eventType = aao.eventType;\n\n    if (eventType !== 'skip') {\n      window.adobeDataLayer.add(eventType, hit, page);\n    }\n    /*\n    if (wap_tms.target && wap_tms.target.performance) {\n      wap_tms.target.performance.dequeue(action);\n    }\n    */\n  }\n  window.wap_tms.setDimensions = async (details) => {\n    let {\n      category,\n      action,\n      label,\n      page,\n      hit,\n      params,\n      nonInteraction\n    } = details;\n    hit = hit || {};\n    page = page || {};\n    window.wap_webworker = {};\n    window.wap_webworker.callbacks = [];\n\n    let trackAA = utag_data[ 'ut.profile' ] !== 'profile-internal';\n    let trackGA = true;\n    let orginal_label = String(label);\n    action = action?.toLowerCase() || '';\n    label = typeof label == 'undefined' ? '' : String(label).toLowerCase();\n    let eventMap = (category + ':' + action).replace(/\\s/g, '').toLowerCase() + '';\n    let to = {};\n    let ao = {};\n    let aao = {};\n    let eo = {};\n    let ao_track = true;\n    let debug = typeof wap_tms.debug != 'undefined' ? true : false;\n    let extendToTags = utag_data.event_extend_to_tags == 'true' ? true : false;\n    let defaultTracking = false;\n    wap_tms.events.rlsa_link = false;\n\n    if (typeof params !== 'undefined') {\n      if (typeof params[ 'aa' ] !== 'undefined') {\n        aao = params[ 'aa' ];\n      }\n    }\n    ao.eventCategory = category;\n    ao.eventAction = action;\n    ao.eventLabel = label;\n    hit.eVar47 = hit.prop37 = hit.eVar47 || 'no-component';\n\n    if (/(^http|\\/)/.test(label)) {\n      if (/(^http)/.test(label)) {\n        if (/^http(.*)(intel|americasgreatestmakers|mcafee|altera|inteltechnologyprovider)\\./.test(label)) {\n          hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.incontent.name;\n          hit.event62 = wap_tms.events.dmfpoints.incontent.val;\n        } else {\n          hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.exitother.name;\n          hit.event62 = wap_tms.events.dmfpoints.exitother.val;\n        }\n      } else {\n        hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.incontent.name;\n        hit.event62 = wap_tms.events.dmfpoints.incontent.val;\n      }\n    } else {\n      hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.interaction.name;\n      hit.event62 = wap_tms.events.dmfpoints.interaction.val;\n    }\n    switch (true) {\n      case /(^components:impression)/.test(eventMap):\n        nonInteraction = true;\n        hit.eVar43 = hit.prop33 = action;\n        hit.eVar44 = hit.prop34 = action.split(': ')[ 1 ] + ':' + label;\n        hit.event73 = 1;\n        break;\n      case /(^components:error)/.test(eventMap):\n        nonInteraction = true;\n        hit.eVar43 = hit.prop33 = action;\n        hit.eVar44 = hit.prop34 = action.split(': ')[ 1 ] + ':' + label;\n        hit.event73 = 1;\n        break;\n      case /(^components:click)/.test(eventMap):\n        //tags: no mapping\n\n        hit.eVar43 = hit.prop33 = action;\n        hit.eVar44 = hit.prop34 = action.split(': ')[ 1 ] + ':' + label;\n        //tags: no mapping\n\n        hit.event73 = 1;\n        if (action.indexOf('-rec') != -1) {\n          hit.event67 = 1;\n        }\n        break;\n\n      case /videos:video:/.test(eventMap):\n        ao.eventCategory = 'Videos';\n        //tags: no mapping\n        ao.eventLabel = orginal_label;\n        if (hit.eVar47) {\n          hit.prop37 = hit.eVar47;\n        }\n        var videoDuration = Math.round(wap_tms.custom.video_duration);\n        var vidSize = 'unassigned';\n\n        if (videoDuration <= 60) {\n          vidSize = 'small';\n        }\n        if (videoDuration > 60) {\n          vidSize = 'medium';\n        }\n        if (videoDuration > 220) {\n          vidSize = 'large';\n        }\n\n        hit.event76 = 1;\n        hit.eVar46 = hit.prop36 = vidSize;\n        switch (true) {\n          case /play/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'video:start';\n            hit.event47 = 1;\n            hit.event14 = 1;\n            hit.event22 = videoDuration;\n            const vidObj = wap_tms.events.dmfpoints.setvidesize(videoDuration, '0');\n            hit.event62 = vidObj.metric85;\n            hit.prop32 = vidObj.dimension149;\n            hit.eVar42 = vidObj.dimension149;\n            break;\n          case /25/.test(eventMap): {\n            hit.eVar43 = hit.prop33 = 'video:25';\n            hit.event15 = 1;\n            const vidObj = wap_tms.events.dmfpoints.setvidesize(videoDuration, '25');\n            hit.event62 = vidObj.metric85;\n            hit.prop32 = vidObj.dimension149;\n            hit.eVar42 = vidObj.dimension149;\n            if (wap_tms.events.unique_g7) {\n              hit.event17 = 1;\n              to.g7 = wap_tms.events.tog7;\n              wap_tms.events.unique_g7 = false;\n            }\n            break;\n          }\n          case /50/.test(eventMap): {\n            hit.eVar43 = hit.prop33 = 'video:50';\n            const vidObj = wap_tms.events.dmfpoints.setvidesize(videoDuration, '50');\n            hit.event62 = vidObj.metric85;\n            hit.prop32 = vidObj.dimension149;\n            hit.eVar42 = vidObj.dimension149;\n            hit.event16 = 1;\n            if (wap_tms.events.unique_g7) {\n              hit.event17 = 1;\n              to.g7 = wap_tms.events.tog7;\n              wap_tms.events.unique_g7 = false;\n            }\n            break;\n          }\n          case /75/.test(eventMap): {\n            hit.eVar43 = hit.prop33 = 'video:75';\n            hit.event18 = 1;\n            const vidObj = wap_tms.events.dmfpoints.setvidesize(videoDuration, '75');\n            hit.event62 = vidObj.metric85;\n            hit.prop32 = vidObj.dimension149;\n            hit.eVar42 = vidObj.dimension149;\n            if (wap_tms.events.unique_g7) {\n              hit.event17 = 1;\n              to.g7 = wap_tms.events.tog7;\n              wap_tms.events.unique_g7 = false;\n            }\n            break;\n          }\n          case /90/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'video:90';\n            hit.event19 = 1;\n            if (wap_tms.events.unique_g7) {\n              hit.event17 = 1;\n              to.g7 = wap_tms.events.tog7;\n              wap_tms.events.unique_g7 = false;\n            }\n            hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.none.name;\n            delete hit.event62;\n            delete hit.prop29;\n            delete hit.eVar39;\n            break;\n          case /95/.test(eventMap): {\n            hit.eVar43 = hit.prop33 = 'video:95';\n            hit.event20 = 1;\n            if (wap_tms.events.unique_g7) {\n              hit.event17 = 1;\n              to.g7 = wap_tms.events.tog7;\n              wap_tms.events.unique_g7 = false;\n            }\n            const vidObj = wap_tms.events.dmfpoints.setvidesize(videoDuration, '95');\n            hit.event62 = vidObj.metric85;\n            hit.prop32 = vidObj.dimension149;\n            hit.eVar42 = vidObj.dimension149;\n            break;\n          }\n          case /100/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'video:100';\n            hit.event21 = 1;\n            hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.none.name;\n            delete hit.event62;\n            delete hit.prop29;\n            delete hit.eVar39;\n            if (wap_tms.events.unique_g7) {\n              hit.event17 = 1;\n              to.g7 = wap_tms.events.tog7;\n              wap_tms.events.unique_g7 = false;\n            }\n            break;\n          default:\n            defaultTracking = true;\n            break;\n        }\n        break;\n      case /^search:/.test(eventMap):\n        hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.none.name;\n        delete hit.event62;\n        delete hit.prop29;\n        delete hit.eVar39;\n        ao.eventLabel = ao.eventLabel.toLowerCase();\n        ao_track = false;\n        switch (true) {\n          case /search-box/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'search:' + action.split(': ')[ 1 ];\n            hit.eVar48 = hit.prop38 = label;\n            hit.event55 = 1;\n            ao_track = true;\n            break;\n          case /:filter|:sitefilter/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'search:' + action.replace(/\\s/, '').replace(/\\s/g, '-');\n            hit.event33 = 1;\n            hit.event55 = 1;\n            break;\n          case /additional|related/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'search:search-results:' + action.split(': ')[ 1 ].replace(/\\s/g, '-');\n            hit.event55 = 1;\n            break;\n          case /menu/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'click:' + label;\n            break;\n          default:\n            hit.eVar43 = hit.prop33 = 'click:' + action.replace(/\\s/, '').replace(/\\s/g, '-');\n            hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.incontent.name;\n            hit.event62 = wap_tms.events.dmfpoints.incontent.val;\n            break;\n        }\n        break;\n      case /^downloads:/.test(eventMap):\n        var wa_ga_download_regex = new RegExp('\\\\.(' + wap_tms.download.assets + ')(()|(\\\\?.*)|(\\\\|.*))$', 'g');\n        var fileExt = (ao.eventAction.match(wa_ga_download_regex) + '').toLowerCase();\n        try {\n          fileExt = /\\?/.test(fileExt) ? fileExt.split('?')[ 0 ] : fileExt;\n          fileExt = /\\|/.test(fileExt) ? fileExt.split('|')[ 0 ] : fileExt;\n          fileExt = fileExt.split('.');\n          fileExt = fileExt[ 1 ];\n          if (fileExt == undefined) fileExt = 'others';\n          if (fileExt === 'others' && params && params.fileType)\n            fileExt = params.fileType;\n        } catch (err) { }\n        ao.eventCategory = 'Downloads';\n        ao.eventLabel = ao.eventAction;\n        ao.eventAction = 'download: ' + fileExt;\n        //tags: no mapping\n        hit.eVar43 = hit.prop33 = 'download:' + ao.eventAction.split(': ')[ 1 ];\n        hit.event40 = 1;\n        hit.event74 = 1;\n        if (fileExt == 'exe') {\n          hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.downloadexe.name;\n          hit.event62 = wap_tms.events.dmfpoints.downloadexe.val;\n        } else {\n          hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.download.name;\n          hit.event62 = wap_tms.events.dmfpoints.download.val;\n        }\n        if (wap_tms.events.unique_g8) {\n          hit.event41 = 1;\n          to.g8 = wap_tms.events.tog8;\n          wap_tms.events.unique_g8 = false;\n        }\n        break;\n      case /^shop:/.test(eventMap):\n        switch (true) {\n          case /buynow/.test(eventMap):\n            //tags: no mapping\n            hit.eVar43 = hit.prop33 = 'thirdparty:buy';\n            hit.event9 = 1;\n            hit.event11 = 1;\n            ao.eventLabel = label;\n            if (wap_tms.events.unique_g12) {\n              hit.event10 = 1;\n              to.g12 = wap_tms.events.tog12;\n              wap_tms.events.unique_g12 = false;\n            }\n            hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.exitbuy.name;\n            hit.event62 = wap_tms.events.dmfpoints.exitbuy.val;\n            break;\n          case /reset/.test(eventMap):\n            //tags: no mapping\n            hit.eVar43 = hit.prop33 = 'click:reset';\n            break;\n          case /filter/.test(eventMap):\n            //tags: no mapping\n            hit.eVar43 = hit.prop33 = label;\n            hit.event33 = 1;\n            break;\n          case /compare/.test(eventMap):\n\n            hit.eVar43 = hit.prop33 = 'click:compare';\n            hit.event36 = 1;\n            break;\n          default:\n            defaultTracking = true;\n            break;\n        }\n        break;\n      case /^useraccountactivity:/.test(eventMap):\n        if (wap_tms.custom.isPopupModal) {\n          hit.event117 = 1;\n        }\n        switch (true) {\n          case (/registration:form_impression/.test(eventMap)):\n\n            hit.eVar43 = hit.prop33 = 'registration:form_impression';\n            hit.event67 = 1;\n            hit.event115 = 1;\n            hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.none.name;\n            delete hit.event62;\n            break;\n          case /registration:start/.test(eventMap):\n\n            hit.eVar43 = hit.prop33 = 'registration:start';\n            hit.event67 = 1;\n            hit.event3 = 1;\n            hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.none.name;\n            delete hit.event62;\n            break;\n          case /registration:complete/.test(eventMap):\n            wap_webworker.callbacks.push({\n              id: 'popup_modal_flag',\n              params: [ false ]\n            });\n            //tags: no mapping\n\n            hit.eVar43 = hit.prop33 = 'registration:complete';\n            hit.event4 = 1;\n            if (wap_tms.events.unique_g5) {\n              hit.event5 = 1;\n              to.g5 = wap_tms.events.tog5;\n              wap_tms.events.unique_g5 = false;\n            }\n            wap_tms.events.rlsa_link = true;\n            hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.register.name;\n            hit.event62 = wap_tms.events.dmfpoints.register.val;\n            if (typeof hit.eVar30 !== 'undefined') {\n              ao.wa_elq_id_short = hit.eVar30;\n            }\n            if (typeof hit.eVar106 !== 'undefined') {\n              ao.wa_elq_id = hit.eVar106;\n              ao.wa_audience_optin = hit.eVar106;\n              utag_data.wa_audience_optin = hit.eVar106;\n            }\n            break;\n          case /registration:intel/.test(eventMap):\n            //tags: no mapping\n            hit.eVar43 = hit.prop33 = 'registration:start';\n            hit.event67 = 1;\n            hit.event3 = 1;\n            break;\n          case /login:intel/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'login:intel';\n            if (!/error/.test(eventMap)) {\n              hit.event37 = 1;\n              if (wap_tms.events.unique_g10) {\n                hit.event38 = 1;\n                to.g10 = wap_tms.events.tog10;\n                wap_tms.events.unique_g10 = false;\n              }\n            }\n            hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.login.name;\n            hit.event62 = wap_tms.events.dmfpoints.login.val;\n            break;\n          case /survey:optin/.test(eventMap):\n\n            hit.eVar43 = hit.prop33 = 'survey:optin';\n            hit.event61 = 1;\n            break;\n          case /survey:response/.test(eventMap):\n\n            hit.eVar43 = hit.prop33 = 'survey:response';\n            break;\n          default:\n            defaultTracking = true;\n            break;\n        }\n        break;\n\n\n      case /^third-party/.test(eventMap):\n\n        hit.eVar43 = hit.prop33 = 'thirdparty:std';\n        hit.event6 = 1;\n        hit.event11 = 1;\n        ao.eventLabel = label + '#pir-exit';\n        if (wap_tms.events.unique_g11) {\n          hit.event8 = 1;\n          to.g11 = wap_tms.events.tog11;\n          wap_tms.events.unique_g11 = false;\n        }\n        hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.exitpir.name;\n        hit.event62 = wap_tms.events.dmfpoints.exitpir.val;\n\n        break;\n      case /^navigation:/.test(eventMap):\n        nonInteraction = true;\n        hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.none.name;\n        delete hit.event62;\n        ao_track = false;\n        switch (true) {\n          //Tags: megamenu not used but menu is\n          case /megamenu|menu/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'nav:menu';\n            hit.eVar44 = hit.prop34 = 'nav:menu:' + label;\n            hit.event35 = 1;\n            ao.eventAction = 'nav: menu';\n            break;\n          case /footer/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'nav:footer';\n            hit.event35 = 1;\n            ao.eventAction = 'nav: footer';\n            break;\n          case /header/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'nav:header';\n            hit.event35 = 1;\n            ao.eventAction = 'nav: header';\n            break;\n          case /sign-out/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'nav:sign-out';\n            hit.event35 = 1;\n            ao.eventAction = 'nav: sign-out';\n            break;\n          case /selectlanguage/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'nav:language';\n            hit.eVar44 = hit.prop34 = 'nav:language:' + utag_data.wa_local;\n            hit.event35 = 1;\n            ao.eventAction = 'nav: select language';\n            break;\n          case /scroll/.test(eventMap):\n            hit.event72 = 1;\n            ao_track = true;\n            switch (true) {\n              case /25/.test(action):\n                hit.event43 = 1;\n                hit.eVar43 = hit.prop33 = 'scroll:25';\n                hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.scroll25.name;\n                hit.event62 = wap_tms.events.dmfpoints.scroll25.val;\n                break;\n              case /50/.test(action):\n                hit.event44 = 1;\n                hit.eVar43 = hit.prop33 = 'scroll:50';\n                if (wap_tms.events.unique_g14) {\n                  hit.event70 = 1;\n                  to.g14 = wap_tms.events.tog14;\n                  wap_tms.events.unique_g14 = false;\n                }\n                hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.scroll50.name;\n                hit.event62 = wap_tms.events.dmfpoints.scroll50.val;\n                break;\n              case /75/.test(action):\n                hit.event45 = 1;\n                hit.eVar43 = hit.prop33 = 'scroll:75';\n                hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.scroll75.name;\n                hit.event62 = wap_tms.events.dmfpoints.scroll75.val;\n                break;\n              case /100/.test(action):\n                hit.event46 = 1;\n                hit.eVar43 = hit.prop33 = 'scroll:100';\n                hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.scroll100.name;\n                hit.event62 = wap_tms.events.dmfpoints.scroll100.val;\n                break;\n            }\n            break;\n          case /filter/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'nav:filter';\n            hit.event35 = 1;\n            hit.event33 = 1;\n            ao.eventAction = 'nav: filter';\n            break;\n          case /left/.test(eventMap):\n            hit.eVar43 = hit.prop33 = 'nav:leftnav';\n            hit.event35 = 1;\n            ao.eventAction = 'nav: left-nav';\n            ao_track = true;\n            break;\n          default:\n            //tags: this in-page event is rarely sent - maybe rivisit this default \n            hit.eVar43 = hit.prop33 = 'nav:in-page';\n            hit.eVar44 = hit.prop34 = 'nav:in-page:' + label.split(':')[ 0 ];\n            hit.event35 = 1;\n            ao.eventAction = 'click: in-page';\n            ao.eventLabel = action.split(': ')[ [ '1,hit' ] ] + ':' + label;\n            hit.eVar42 = hit.prop32 = wap_tms.events.dmfpoints.interaction.name;\n            hit.event62 = wap_tms.events.dmfpoints.interaction.val;\n            ao_track = true;\n            break;\n        }\n        break;\n      case /^page/.test(eventMap):\n        //tags: ga deprecate \n        //                   there are a lot of google analytics payload objects \n        //                   without a mapping and that don't seem to be set in our framework\n        //                   need to closely examine which objects are actually needed and how they are derived\n        delete hit.event62;\n        hit.eVar42 = hit.prop32 = hit.prop32 = hit.eVar42 = wap_tms.events.dmfpoints.none.name;\n        switch (true) {\n          case /target/.test(eventMap):\n            trackGA = false;\n            ao.eventLabel = hit.eVar115 + ': ' + hit.eVar116;\n            hit.eVar47 = hit.prop37 = 'target';\n            hit.eVar43 = hit.prop33 = 'ni:target';\n            hit.event69 = 1;\n            page.eVar116 = hit.eVar116;\n\n            if (hit.eVar115) {\n              utag_data.target_campaign_name += ',' + hit.eVar115;\n              utag_data.target_campaign_name = utag_data.target_campaign_name.replace(/^,/, '');\n            }\n\n            if (hit.eVar116) {\n              utag_data.target_campaign_recipe_name += ',' + hit.eVar116;\n              utag_data.target_campaign_recipe_name = utag_data.target_campaign_recipe_name.replace(/^,/, '');\n            }\n\n            if (typeof utag_data.target_cookie !== 'undefined') {\n              ao.target_cookie = utag_data.target_cookie;\n            }\n            if (typeof hit.eVar34 == 'string') {\n              utag_data.target_cookie = hit.eVar34;\n            }\n            if (\n              ao.eventLabel.indexOf('wap_data_sync') !== -[ '1,hit' ] ||\n              ao.eventLabel.indexOf('notrack') !== -[ '1,hit' ]\n            ) {\n              trackAA = false;\n            }\n            break;\n          case /eloqua/.test(eventMap):\n            nonInteraction = true;\n            hit.eVar65 = 'ni';\n            hit.eVar43 = hit.prop33 = hit.eVar64 = 'ni:elq';\n            hit.eVar92 = utag_data.elq_industry;\n            hit.eVar93 = utag_data.elq_marketing_audience;\n            hit.eVar94 = utag_data.elq_company_size;\n            hit.eVar95 = utag_data.elq_country;\n            hit.eVar96 = utag_data.elq_job_function;\n            break;\n          case /non-interaction:/.test(eventMap):\n            ao.eventCategory = 'Page';\n            ao_track = false;\n            switch (true) {\n              case /error/.test(eventMap):\n                ao.eventAction = 'error';\n                break;\n              default:\n                ao.eventAction = 'goal:' + action.split(': ')[ [ '1,hit' ] ];\n                ao.eventLabel = action;\n\n                hit.event47 = 0;\n                hit.eVar43 = hit.prop33 = 'ni:goals';\n                break;\n            }\n            break;\n        }\n        break;\n      case /sso:/.test(eventMap):\n        nonInteraction = true;\n        defaultTracking = true;\n        break;\n      default:\n        defaultTracking = true;\n        break;\n    }\n\n    if (defaultTracking) {\n      hit.eVar43 = hit.prop33 = 'click:std';\n    }\n    if (/Downloads|Videos|Navigation|Components|Offline|Third-party|Tools|Shop|User Account Activity/g.test(ao.eventCategory)) {\n      if (/^download:|^video: play|^click:|^print|^(.*)-tool|^shop:|^registration: (complete|intel)|^rss:/g.test(ao.eventAction)) {\n        hit.event47 = 1;\n      }\n    }\n    var buyRegExp = new RegExp(\"/(/buy/)|(^/content/(.*)/shop-)|(^/../../products/)|(pocket.intel.com)|(prcappzone.intel.com/shop/)|(beforeyoubuypc.)|(buypc.intel)|^/(intel-shop|shop-)/\");\n    if (buyRegExp.test(ao.eventLabel)) {\n      hit.event12 = 1;\n      ao.eventLabel = ao.eventLabel + '#pir-intel';\n      if (wap_tms.events.unique_g13) {\n        hit.event13 = 1;\n        to.g13 = wap_tms.events.tog13;\n        wap_tms.events.unique_g13 = false;\n      }\n    }\n    if (wap_tms.events.unique_pci) {\n      if (typeof hit.event47 !== 'undefined') {\n        if (hit.event47 == 1) {\n          hit.event48 = 1;\n          to.g6 = wap_tms.events.tog6;\n          wap_tms.events.unique_pci = false;\n        }\n      }\n    }\n    hit.eVar38 = ao.eventCategory;\n    hit.prop28 = ao.eventCategory;\n    hit.eVar39 = ao.eventAction;\n    hit.prop29 = ao.eventAction;\n    hit.eVar40 = ao.eventLabel;\n    hit.prop30 = ao.eventLabel;\n    hit.eVar41 = hit.eVar38 + '|' + hit.eVar39 + (hit.eVar40 !== '' ? '|' + hit.eVar40 : '');\n    hit.prop31 = hit.eVar41;\n\n    if (nonInteraction) {\n      hit.event64 = 1;\n    } else {\n      hit.event63 = 1;\n    }\n    const event = hit.eVar39;\n    if (extendToTags || debug) {\n      var eCat = typeof ao.eventCategory != 'undefined' ? ao.eventCategory : '';\n      var eAct = typeof ao.eventAction != 'undefined' ? ao.eventAction : '';\n      var eLab = typeof ao.eventLabel != 'undefined' ? ao.eventLabel : 'na';\n      eo.category_action_label = (eCat + '|' + eAct + '|' + eLab).replace(/ /g, '_').toLowerCase();\n      if (debug) {\n        console.log('category_action_label: ' + eo.category_action_label);\n      }\n      if (extendToTags) {\n        var eKpi = typeof hit.eVar42 != 'undefined' ? hit.eVar42 : '';\n        // TODO: Check this scenario\n        wap_tms.aaTrack.hitCallbacks[ 'extend_to_tags' ].apply(this, [ eo, debug ]);\n      }\n    }\n    if (utag_data.load_audiencestream == 'true') {\n      if (ao_track) {\n        ao.event_type = 'link';\n        utag_data.event_type = 'link';\n        if (typeof hit.eVar42 !== 'undefined') {\n          ao.event_dmf_type = hit.eVar42 = hit.prop32;\n          utag_data.event_dmf_type = hit.eVar42 = hit.prop32;\n        }\n        if (typeof hit.event62 !== 'undefined') {\n          ao.event_dmf_points = hit.event62;\n          utag_data.event_dmf_points = hit.event62;\n        }\n        // TODO: Check this scenario\n        wap_tms.aaTrack.hitCallbacks[ 'track_collect' ].apply(this, [ ao ]);\n      }\n    }\n    if (typeof wap_tms.events.target !== 'undefined') {\n      // TODO: Check this scenario\n      wap_tms.aaTrack.hitCallbacks[ 'events_target' ].apply(this, [ to, debug ]);\n    }\n    let eventType = 'userActivity';\n    switch (true) {\n      case event.includes('real user monitoring'):\n        eventType = wap_tms.custom.strToCamelCase(event);\n        break;\n      case event.includes('scroll'):\n        eventType = 'pageScroll';\n        break;\n      case event.includes('click: buy'):\n        eventType = 'shop';\n        break;\n      case event.includes('click: exit'):\n        eventType = 'thirdParty';\n        break;\n      case event.includes('click'):\n        eventType = 'linkClick';\n        break;\n      case event.includes('nav:'):\n        eventType = 'navigation';\n        break;\n      case event.includes('download:'):\n        eventType = 'download';\n        break;\n      case event.includes('video:'):\n        eventType = 'video';\n        break;\n      case event.includes('search'):\n        eventType = 'search';\n        break;\n      case event.includes('login:') || event.includes('registration:') || event.includes('survey:'):\n        eventType = 'userAccountActivity';\n        break;\n      case event.includes('comment:') || event.includes('referral') || event.includes('share:'):\n        eventType = 'social';\n        break;\n      case event.includes('google-translate'):\n        eventType = 'pageGoogleTranslate';\n        break;\n      case event.includes('target integration'):\n        eventType = 'targetIntegration';\n        break;\n      case event.includes('impression:'):\n        eventType = event.includes('contentsquare') ? 'contentSquareImpression' : 'impression';\n        break;\n      case event.includes('eloqua:'):\n        eventType = 'eloquaIntegration';\n        break;\n      case event.includes('clicktale'):\n        eventType = 'skip';\n    }\n    return {\n      eventType,\n      hit,\n      page\n    };\n  }\n  /**\n   * Handler the logic for tracking using pixel approach\n   */\n  wap_tms.aaTrack.trackByPixel = {\n    id: null,\n    /**\n     * Generated and Unique ID\n     */\n    generateId: function () {\n      var s = [];\n      var hexDigits = '0123456789ABCDEF';\n      for (var i = 0; i < 20; i++) {\n        s[ i ] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n      }\n      s[ 14 ] = '4';  // bits 12-15 of the time_hi_and_version field to 0010\n      s[ 19 ] = hexDigits.substr((s[ 19 ] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n      s[ s.length / 2 ] = '-';\n      var uuid = s.join('');\n      return uuid;\n    },\n    /**\n     * Converts Adobe Analytics Tealium mapping to an object to attach it on pixel request\n     * @returns {object} the mapping object\n     */\n    getParamsMapping: function () {\n      if (wap_tms.aaTrack.mapping) {\n        return wap_tms.aaTrack.trackByPixel.mapping;\n      }\n      var mapping = {};\n      for (utag_key in utag_data) {\n        if (utag_data.hasOwnProperty(utag_key) && typeof wap_tms.udoMapping[ utag_key ] !== 'undefined') {\n          const udo = wap_tms.udoMapping[ utag_key ];\n          for (dim in udo) {\n            let mappingkey;\n            switch (dim) {\n              case 'eVar':\n                mappingkey = `v${udo[ dim ]}`;\n                break;\n              case 'prop':\n                mappingkey = `c${udo[ dim ]}`;\n                break;\n              default:\n                mappingkey = dim;\n                break;\n            }\n            if (utag_data[ utag_key ]) {\n              mapping[ mappingkey ] = utag_data[ utag_key ];\n            }\n          }\n        }\n      }\n      var otherReplacements = { 'channel': 'ch', 'pageURL': 'g' }\n      for (var key in otherReplacements) {\n        if (mapping[ key ]) {\n          mapping[ otherReplacements[ key ] ] = mapping[ key ];\n          delete mapping[ key ];\n        }\n      }\n      wap_tms.aaTrack.trackByPixel.mapping = mapping;\n      return wap_tms.aaTrack.trackByPixel.mapping;\n    },\n    /**\n     * Trigger tracking events using pixel approach\n     * @param {string} category  The event category\n     * @param {string} action    The event action\n     * @param {string} label     The event label\n     * @param {string} payload   The event payload\n     */\n    do: function (category, action, label, payload) {\n      if (!wap_tms.aaTrack.trackByPixel.id) {\n        wap_tms.aaTrack.trackByPixel.id = 'AAAA1111BBBB2222-CCCC3333DDDD4444'; // Hardcode ecid for all users to avoid visit/uv inflation\n      }\n      var trackingServerHost = 'https://' + 'www91.intel.' + wap_tms.domainLevels;\n      var reportSuiteId = 'intlcrpglobaldev'; // Send to Analytics dev when using pixel approach\n      var hitSource = '2';\n      var paramsObj = wap_tms.aaTrack.trackByPixel.getParamsMapping();\n      payload.eVar[ '38' ] = payload.prop[ '28' ] = category; // Setup hit category\n      payload.eVar[ '39' ] = payload.prop[ '29' ] = action;   // Setup hit action\n      if (label) {\n        payload.eVar[ '40' ] = payload.prop[ '30' ] = label;  // Setup hit label\n        payload.eVar[ '41' ] = payload.prop[ '31' ] = category + '|' + action + '|' + label;\n      } else {\n        payload.eVar[ '41' ] = payload.prop[ '31' ] = category + '|' + action;\n      }\n      for (var key in payload) { // Convert payload to paramsters format\n        switch (key) {\n          case 'eVar':\n            for (var evarKey in payload.eVar) {\n              paramsObj[ 'v' + evarKey ] = payload.eVar[ evarKey ];\n            }\n            break;\n          case 'prop':\n            for (var propKey in payload.prop) {\n              paramsObj[ 'c' + propKey ] = payload.prop[ propKey ];\n            }\n            break;\n          case 'event':\n            var events = {};\n            for (var eventKey in payload.event) {\n              events[ 'event' + eventKey ] = payload.event[ eventKey ];\n            }\n            paramsObj[ 'events' ] = wap_tms.custom.convertObjectToQueryString(events).replace(/&/g, ',');\n            break;\n        }\n      }\n      var requestSrc = trackingServerHost + '/b/ss/' + reportSuiteId + '/' + hitSource + '?pe=lnk_o'; // Format request URL\n      var finalParams = {\n        'AQB': 1,\n        'pe': 'lnk_o',\n        'pccr': true,\n        'vidn': wap_tms.aaTrack.trackByPixel.id,\n        'v47': 'Cookie Consent' // TO-DO: not hardcoded, pass it as part of payload\n      };\n      for (var key in paramsObj) {\n        finalParams[ key ] = encodeURIComponent(paramsObj[ key ]);\n      }\n      finalParams[ 'AQE' ] = 1;\n      var xhttp = new XMLHttpRequest();\n      xhttp.open('POST', requestSrc, true);\n      xhttp.setRequestHeader('Content-type', 'application/json');\n      xhttp.send(wap_tms.custom.convertObjectToQueryString(finalParams));\n    }\n  };\n\n  wap_tms.aaTrack.callbacks = wap_tms.aaTrack.callbacks || {};\n\n  //TAGS: TODO update to only use AA\n  /**\n   *\n   * @param {string} activityName     The activity name\n   * @param {string} offerId          The activity offer id\n   * @param {string} offerName        The activity offer name\n   * @param {string} [experienceName] The activity experience name\n   * @param {string} [optionName]     The activity option name\n   * @param {string} [entities]       The activity entities\n   */\n  wap_tms.aaTrack.callbacks.targetImpression = function (activityName, offerId, offerName, experienceName, optionName, entities) {\n    const hit = {};\n    const page = {};\n\n    hit.eVar158 = wap_tms.getContentName(offerName, activityName);\n    hit.eVar131 = offerId;\n    hit.event101 = 1;\n    hit.eVar169 = entities;\n    trackGaEvent({\n      hit,\n      category: 'Page',\n      action: 'target integration',\n      nonInteraction: true\n    });\n  };\n\n  /**\n   * Call wapMainEventHandler function, simulating a click on a button having data-wap_ref and data-wap attributtes\n   * Tags: Consolidate with other callback functions\n   * @param {string} component   The component of the element to track\n   * @param {string} componentId The component ID of the elemento to track\n   * @param {sting} dataWapRef   The link, ID or reference of the element to track\n   * @param {object} [dataWap]   An object with extra parameters to track. Those parameters will be processed by wapMainEventHandler\n   */\n  wap_tms.aaTrack.callbacks.click = function (component, componentId, dataWapRef, dataWap) {\n    var btn = document.createElement('button'); // Create a button to append attributes and component class\n    var event = document.createEvent('Event'); // Create an event for being use as wapMainEventHandler parameter\n    btn.classList.add('component');\n    btn.setAttribute('data-component', component);\n    btn.setAttribute('data-component-id', componentId);\n    if (dataWapRef) {\n      btn.setAttribute('data-wap_ref', dataWapRef);\n    }\n    if (dataWap) {\n      var dataWapToAdd = (typeof dataWap === 'string' || dataWap instanceof String) ? dataWap : JSON.stringify(dataWap);\n      btn.setAttribute('data-wap', dataWapToAdd);\n    }\n    wapMainEventHandler(btn, event); // Call wapMainEventHandler function using created button with attributes and created event as parameters\n  };\n\n  /**\n   * Send an Adobe Analytics hit tracking a search process\n   *\n   * @param {string} type             The search type (filter or keyword)\n   * @param {object} params           The search parameters\n   * @param {string} params.component The component of the element to track\n   * @param {int} params.componentId  The component ID of the elemento to track\n   * @param {string} [params.filter]  The filter selected by the user or empty string when removing filter\n   * @param {string} [params.keyword] The keyword searched by th user or empty string when clearing searching box\n   * @param {int} params.totalResults The quantity of results items returned\n   *\n   */\n  wap_tms.aaTrack.callbacks.search = function (type, params) {\n    const hit = {};\n    hit.evar202 = 'callbacks.search';\n    let action;\n    let label;\n    let filtersEles = document.querySelectorAll('[data-wap_type=\"search-filter\"]');\n    let filtersArr = [];\n    // Loop for all the current filter and put them on an array\n    for (let i = 0; i < filtersEles.length; ++i) {\n      filtersArr.push(filtersEles[ i ].getAttribute('data-wap_ref') || '');\n    }\n    if (params.filter) {\n      (filtersArr.includes(params.filter)) ? delete filtersArr[ filterIndex ] : filtersArr.push(params.filter);\n    }\n    let filters = filtersArr.join('|'); // Append all the current filters\n    let searchKeywordsEle = document.querySelector('[data-wap_type=\"search-keyword\"]'); // Look for current keyword\n    let searchKeywords = searchKeywordsEle ? (searchKeywordsEle.value || searchKeywordsEle.innerHTML) : '';\n    params.component = ((params.component || '') + (params.componentId || '1')).toLowerCase();\n    // Assign commons and props for keywords and filter search\n    hit.eVar44 = filters;\n    hit.prop34 = filters;\n    hit.eVar45 = params.totalResults;\n    hit.prop35 = params.totalResults;\n    hit.eVar47 = params.component;\n    hit.prop37 = params.component;\n    hit.eVar48 = searchKeywords;\n    hit.prop38 = searchKeywords;\n    hit.eVar60 = 'none';\n    hit.eVar129 = filters\n    hit.eVar145 = 'search';\n    hit.prop58 = 'search';\n    // Format parameters\n    params.filter = (params.filter || '').toLowerCase();\n    params.totalResults = params.totalResults !== null ? 'results: ' + params.totalResults : params.totalResults;\n    // Assign specific events for keywords and filter search\n    switch (type.toLowerCase()) {\n      case 'keyword': // Search type = keyword\n        action = (params.actionPrefix || '') + 'search-results: additional keyword';\n        label = (params.keyword || '').toLowerCase();\n        hit.event39 = '1';\n        hit.event55 = '1';\n        hit.event63 = '1';\n        hit.event84 = '1';\n        break;\n      case 'filter': // Search type = filter\n        action = (params.actionPrefix || '') + 'search-results: filter';\n        label = 'no keyword :: ' + params.filter;\n        hit.event33 = '1';\n        hit.event39 = '1';\n        hit.event55 = '1';\n        hit.event63 = '1';\n        hit.event84 = '1';\n        break;\n    }\n    // Send Event\n    trackGaEvent({\n      hit,\n      action,\n      label,\n      category: 'Search'\n    }); // Track event\n    if (params.totalResults === null) {\n      return;\n    }\n    // Configure and send Pageview\n    // This flag is added as a way to keep supporting existing implementation of this function\n    // in multiple stardard sites, but also as way to support React.js based implementations\n    // that don't do a page refresh, thereby a page view.\n    // preventPageView will contain the value of true, whenever we want to avoid the \n    // trigger of a page view event.\n    let sendPageView = typeof params.preventPageView !== 'undefined' ? !params.preventPageView : true;\n    if (sendPageView) {\n      hit.eVar44 = filters;\n      hit.prop34 = filters;\n      hit.eVar48 = searchKeywords;\n      hit.prop38 = searchKeywords;\n      if (params.totalResults === 0) { // If zero results setup flag as 1\n        hit.event58 = '1';\n      }\n      trackGaPage(location.pathname, hit);\n    }\n  };\n\n\n  //Logic to check for manually appended GA cookie and eloqua id's by AEM Authors\n  if (wap_tms.jquery.ver_1_7_plus || wap_tms.isjQueryAvailable) {\n    (function ($) {\n      $(document).ready(function () {\n        // GA cookie fix\n        var gaCrossDomainIssueFlag = false;\n        var gaLinksToFix = $(\"a[href*='_ga']\");\n        for (i = 0; i < gaLinksToFix.length; i++) {\n          var wapOldHref = gaLinksToFix[ i ].getAttribute(\"href\");\n          var wapRegex = /_ga=([0-9])\\.([0-9]*)\\.([0-9]*)\\.([0-9]*)&?/;\n          wapOldHref = wapOldHref.replace(wapRegex, \"\");\n          gaLinksToFix[ i ].href = wapOldHref;\n          gaCrossDomainIssueFlag = true;\n        }\n        //Eloqua fix\n        var eloquaCrossDomainIssueFlag = false;\n        var eloquaLinksToFix = $(\"a[href*='elq_cid=']\");\n        for (i = 0; i < eloquaLinksToFix.length; i++) {\n          var wapNewHref = eloquaLinksToFix[ i ].getAttribute(\"href\");\n          var wapRegex = /elq_cid=([0-9]*)\\&?/;\n          wapNewHref = wapNewHref.replace(wapRegex, \"\"); wapNewHref = wapNewHref.replace(\"\\?&\", \"?\");\n          eloquaLinksToFix[ i ].href = wapNewHref;\n          eloquaCrossDomainIssueFlag = true;\n        }\n        //Error Flag\n        if (gaCrossDomainIssueFlag && eloquaCrossDomainIssueFlag) {\n          hit.event49 = '1';\n          wap_tms.error.set(' ga link hard-coded, eloqua id hard-coded,', 'event.crossdomain:');\n        }\n        else if (gaCrossDomainIssueFlag) {\n          hit.event49 = '1';\n          wap_tms.error.set(' ga link hard-coded,', 'event.crossdomain:');\n        }\n        else if (eloquaCrossDomainIssueFlag) {\n          hit.event49 = '1';\n          wap_tms.error.set(' eloqua id hard-coded,', 'event.crossdomain:');\n        }\n      });\n    }($wap));\n  };\n\n  // TA1450391: KTBR - ARK Blade component\n  wap_tms.custom.trackComponentClick = function (compName, value) {\n    const hit = {};\n    hit.eVar202 = 'trackComponentClick';\n\n    trackGaEvent({\n      hit,\n      category: 'Components',\n      action: 'click: ' + compName,\n      label: value\n    });\n  }\n\n  // TWC762-86: Support for PWA\n  // Provide a method to support virtual tracking of page views \n  // for PWA and SPA applications.\n  wap_tms = (typeof wap_tms !== 'undefined') ? wap_tms : {};\n  wap_tms.custom = wap_tms.custom || {};\n\n  wap_tms.custom.trackGaVirtualPageView = function (pageName, queryString, hashInfo) {\n    const page = {};\n    const hit = {};\n    hit.eVar202 = 'trackGaVirtualPageView';\n    var pathname = pageName || document.location.pathname;\n    var search = queryString || document.location.search;\n    var hash = hashInfo || document.location.hash;\n\n    // Support for PWA: Because the app is SPA, a virtual page view is invoked\n    // and these values need to be setup.\n    if (typeof cq_tms !== 'undefined' && typeof cq_tms.wa_pwa !== 'undefined') {\n      wap_tms.setEpmIds($wap);\n\n      if (utag_data.wa_epm_id) {\n        page.eVar20 = utag_data.wa_epm_id_src;\n        page.eVar130 = utag_data.wa_epm_id;\n      }\n    }\n\n    trackGaPage(pathname + search + hash, hit, page); // Previously: trackGaPage(document.location.pathname + document.location.search + document.location.hash );\n  };\n\n  // TWC762-86: Support for PWA\n  // Provide a method of tracking when users get the connection back after being offline.\n  wap_tms.custom.trackConnectionStatus = function (componentName, status) {\n    const hit = {};\n    hit.eVar45 = hit.prop35 = componentName + ':' + status;\n    trackGaEvent({\n      hit,\n      page,\n      params,\n      category: 'Page',\n      action: 'target integration',\n      nonInteraction: true\n    });\n  }\n  window.addEventListener('online', function () {\n    const isPWA = typeof cq_tms !== 'undefined' && typeof cq_tms.wa_pwa !== 'undefined';\n    const componentName = isPWA ? 'pwa-connection-status' : 'connection-status';\n    wap_tms.custom.trackConnectionStatus(componentName, 'online');\n  });\n\n  //-------------------------------------------------------------\n  // Condition to check If Ad Blocker needs to be tracked\n  //---------------------------------------------------------------------\n\n  // Update a key-value pair in the URL query parameters\n  //Tags: is this the same thing as wap_tms.custom.replaceQueryStringValue???\n  wap_tms.custom.updateUrlParameter = (uri, key, value) => {\n    // Remove the hash part before operating on the uri\n    const re = new RegExp(`([?&])${key}=.*?(&|$)`, 'i');\n    const i = uri.indexOf('#');\n    let hash = i === -1 ? '' : uri.substring(i);\n    let separator;\n    uri = i === -1 ? uri : uri.substring(0, i);\n\n    if (uri.indexOf('?') > -1) {\n      // Prevent this function to create bad formed URL by adding '&' \n      // when there is already an URL with '?' and no parameters\n      // Example: homepage.html?&erpm_id=...\n      separator = uri.indexOf('?') === uri.length - 1 ? '' : '&';\n    } else {\n      separator = '?';\n    }\n    if (uri.match(re)) {\n      uri = uri.replace(re, '$1' + `${key}=${value}` + '$2');\n    } else {\n      uri = `${uri}${separator}${key}=${value}`;\n    }\n    return `${uri}${hash}`;  // finally append the hash as well\n  }\n\n  //Returns true if the hostname passed is a PIR\n  wap_tms.custom.isExitToNonPIR = function (hostname) {\n    return /(intel|altera|yournewpclove|wikipedia|mcafee|google|nationalgeographic|microsoft|adobe|doubleclick|rocketboards\\.org|home\\.mcafee|support\\.google|windows\\.microsoft|adobe|facebook|twitter|pinterest|intc|linkedin|youtube|truekey|instagram|americasgreatestmakers|resources\\.hewitt|alteraforum|alterawiki)\\.|\\.intel/.test(hostname);\n  }\n  //Returns true if the linkHref passed is an asset\n  wap_tms.custom.isAsset = function (linkHref) {\n    const wa_asset_download = new RegExp(`\\\\.(${wap_tms.download.assets})$`);\n    return (wa_asset_download.test(linkHref.toLowerCase()) && !linkHref.includes('/assetdetail.html/')) || linkHref === 'https://dsadata.intel.com/installer'; // IDSA installer\n  }\n  wap_tms.custom.isIntelOwned = function (linkHref) {\n    return linkHref?.includes(window.location.hostname) || /^http(.*)(intel|americasgreatestmakers|mcafee|altera)\\./.test(linkHref);\n  }\n  wap_tms.getHostname = function (linkHref) {\n    if (linkHref.indexOf(\"https\") === 0) {\n      protocol = \"https://\";\n    } else if (linkHref.indexOf(\"http\") === 0) {\n      protocol = \"http://\";\n    }\n    if (protocol == \"http://\" || protocol == \"https://\") {\n      linkHref = decodeURIComponent(linkHref);\n      var host = linkHref.split(protocol)[ 1 ];\n      var hostvar = host.split(\"/\");\n      var hostname;\n      if (hostvar.length > 0)\n        hostname = hostvar[ 0 ];\n      else\n        hostname = hostvar;\n    }\n    return hostname;\n  }\n\n  //Capture Eloqua ID from Eloqua start form\n  wap_tms.captureEloquaContactId = function () {\n    if (typeof wap_tms.storage.cookieRef.contactId != \"undefined\" && !/cookie/.test(wap_tms.storage.cookieRef.contactId)) {\n      const wa_elq_cookie = wap_tms.storage.cookieRef.contactId;\n      page.eVar54 = hit.eVar54 = utag_data.wa_elq_id = wap_tms.eloqua.id_ext = wa_elq_cookie;\n      page.eVar30 = hit.eVar30 = utag_data.wa_elq_id_short = genContactIdShort(wa_elq_cookie);\n    }\n  }\n  wap_tms.captureEloquaContactId();\n\n  wap_tms.page_error = false;\n  wap_tms.wap_page_error = false;\n  wap_tms.handle_error = function (msg, url) {\n    var isUrlFromWap = function (url) {\n      return url.indexOf('/global/wap/') !== -1;\n    }\n    var msgProp = '';\n    var msgEvar = '';\n    if (msg) {\n      msgProp = msg.substring(0, 100);\n      msgEvar = msg.substring(0, 255);\n    }\n    hit.eVar68 = url;\n    hit.prop50 = url;\n    hit.eVar69 = msgEvar;\n    hit.prop51 = msgProp;\n    if (typeof (url) !== 'undefined' && isUrlFromWap(url) && !wap_tms.wap_page_error) {\n      wap_tms.error.set('javascript-wap,', 'page.error:');\n      hit.event50 = '1';\n      wap_tms.wap_page_error = true;\n    } else if (!wap_tms.page_error) {\n      wap_tms.error.set('javascript-nonwap,', 'page.error:');\n      hit.event65 = '1';\n      wap_tms.page_error = true;\n    }\n  }\n  window.onerror = function (msg, url, lineNo, columnNo, error) {\n    if (!wap_tms.wap_page_error || !wap_tms.page_error) {\n      wap_tms.handle_error(msg, url);\n    }\n  };\n\n  if (sessionStorage.getItem('wapError') && sessionStorage.getItem('wapError') != 'null') {\n    var url = sessionStorage.getItem('wapErrorUrl');\n    var msg = sessionStorage.getItem('wapErrorMessage');\n    wap_tms.handle_error(msg, url);\n    sessionStorage.setItem('wapError', null);\n  }\n\n  //ClickTale Integration Start\n  //Tags: we should look at our clicktale integration and what is still needed\n  wap_tms.clickTaleIDAvailable = false;\n  wap_tms.clickTaleGetUID_PID = function () {\n    if (document.cookie.indexOf(\"WRUID\") > -1 && document.cookie.indexOf(\"WRIgnore=true\") == -1) {\n      var ca = document.cookie.split(';'); var PID = 0, UID = 0;\n      for (var i = 0; i < ca.length; i++) {\n        var c = ca[ i ];\n        while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n        if (c.indexOf(\"CT_Data\") > -1) PID = c.substring(c.indexOf(\"apv_\")).split(\"_\")[ 1 ];\n        if (((document.cookie.match(/WRUID/g) || []).length == 1 && c.indexOf(\"WRUID\") > -1) || (c.indexOf(\"WRUID\") > -1 && (document.cookie.match(/WRUID/g) || []).length > 1 && c.indexOf(\"WRUID=\") == -1))\n          UID = c.split(\"=\")[ 1 ];\n      }\n      return (UID == 0 || PID == 0) ? null : (UID + \".\" + PID);\n    }\n    else return null;\n  }\n\n  window.ClickTalePIISelector = \".search-link.search-link-term\";\n\n  wap_tms.clickTaleEndtVirtualPage = function () {\n    try {\n      if (typeof clickTaleEndEventSignal === 'function') {\n        window[ 'clickTaleEndEventSignal' ]();\n      }\n    }\n    catch (err) { }\n  }\n\n  wap_tms.clickTaleInitVirtualPage = function () {\n    try {\n      if (typeof clickTaleStartEventSignal === 'function') {\n        window[ 'clickTaleStartEventSignal' ]();\n      }\n    }\n    catch (err) { }\n  }\n\n\n  wap_tms.clickTaleIntegrated = false;\n\n\n\n  //ClickTale Integration End\n\n  wap_tms.unavLoad = false;\n  wap_tms.integrateHeaderFooter = function (isPageView) {\n    if (typeof wap_header !== \"undefined\") {\n      wap_tms.unavLoad = true;\n      utag_data.element_header_version = wap_header.HeaderVersion;\n      utag_data.element_header_chosen = wap_header.HeaderChosen;\n      utag_data.element_header_subnav = wap_header.HeaderSubNav;\n      utag_data.element_header_geo = wap_header.HeaderGEO;\n      utag_data.element_footer_chosen = wap_header.FooterChosen;\n      utag_data.element_header_render = wap_header.RenderSettings;\n      utag_data.element_header_locale = wap_header.Locale;\n      if (!isPageView) {\n        page.eVar134 = utag_data.element_header_version;\n        page.eVar135 = utag_data.element_header_chosen;\n        page.eVar136 = utag_data.element_header_subnav;\n        page.eVar137 = utag_data.element_header_geo;\n        page.eVar138 = utag_data.element_footer_chosen;\n        page.eVar139 = utag_data.element_header_render;\n        page.eVar140 = utag_data.element_header_locale;\n      }\n    }\n  }\n  wap_tms.integrateHeaderFooter(true);\n\n  //Tags: this is used in AEM Modal loader once, but do we need still need the special support for microsoft browsers?\n  wap_tms.detectIE = function () {\n    var ua = window.navigator.userAgent;\n\n    var msie = ua.indexOf('MSIE ');\n    if (msie > 0) {\n      // IE 10 or older => return version number\n      return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n    }\n\n    var trident = ua.indexOf('Trident/');\n    if (trident > 0) {\n      // IE 11 => return version number\n      var rv = ua.indexOf('rv:');\n      return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n    }\n\n    var edge = ua.indexOf('Edge/');\n    if (edge > 0) {\n      // Edge (IE 12+) => return version number\n      return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n    }\n\n    // other browser\n    return false;\n  }\n\n  //TODO Look Into User Scope (NA I THINK)\n  wap_tms.identifyInternalUser = function () {\n    const userCookie = wap_tms.storage.utag_main;\n    if (userCookie?.wa_internal_user === \"true\") {\n      page.eVar117 = \"true\";\n      utag_data.wa_internal_user = \"true\";\n    } else {\n      if (typeof (utag_data.dnb_company) == \"string\" && (utag_data.dnb_company == \"intel corporation\" || utag_data.dnb_company == \"intel ireland limited\" || utag_data.dnb_company == \"intel network systems inc\" || utag_data.dnb_company == \"intel corp\")) {\n        page.eVar117 = \"true\";\n        utag_data.wa_internal_user = \"true\";\n      }\n      else if (typeof (utag_data.wa_membership_group) != \"undefined\" && utag_data.wa_membership_group != null) {\n        if (utag_data.wa_membership_group.toLowerCase().indexOf(\"contingent\") != -1 || utag_data.wa_membership_group.toLowerCase().indexOf(\"badge employees\") || utag_data.wa_membership_group.toLowerCase().indexOf(\"employee\")) {\n          page.eVar117 = \"true\";\n          utag_data.wa_internal_user = \"true\";\n        }\n      }\n      if (utag_data.wa_internal_user == \"true\") {\n        wap_tms.storage.setUtagField('wa_internal_user', 'true;exp-session');\n      }\n    }\n  }\n\n  //Function to generate a unique ID using SHA1\n  //Tags: I think we can deprecate this and use a standard approach like this: https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest\n  //      But maybe there is a reason we are doing this in our code - don't know. \n  window.generateAssetID = function (href) {\n\n    /*\n  * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\n  * in FIPS 180-1\n  * Version 2.2 Copyright Paul Johnston 2000 - 2009.\n  * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n  * Distributed under the BSD License\n  * See http://pajhome.org.uk/crypt/md5 for details.\n  */\n\n    /*\n    * Configurable variables. You may need to tweak these to be compatible with\n    * the server-side, but the defaults work in most cases.\n    */\n    var hexcase = 0;  /* hex output format. 0 - lowercase; 1 - uppercase        */\n    var b64pad = \"\"; /* base-64 pad character. \"=\" for strict RFC compliance   */\n\n    /*\n    * These are the functions you'll usually want to call\n    * They take string arguments and return either hex or base-64 encoded strings\n    */\n    function hex_sha1(s) { return rstr2hex(rstr_sha1(str2rstr_utf8(s))); }\n    function b64_sha1(s) { return rstr2b64(rstr_sha1(str2rstr_utf8(s))); }\n    function any_sha1(s, e) { return rstr2any(rstr_sha1(str2rstr_utf8(s)), e); }\n    function hex_hmac_sha1(k, d) { return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d))); }\n    function b64_hmac_sha1(k, d) { return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d))); }\n    function any_hmac_sha1(k, d, e) { return rstr2any(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d)), e); }\n\n    /*\n    * Perform a simple self-test to see if the VM is working\n    */\n    function sha1_vm_test() {\n      return hex_sha1(\"abc\").toLowerCase() == \"a9993e364706816aba3e25717850c26c9cd0d89d\";\n    }\n\n    /*\n    * Calculate the SHA1 of a raw string\n    */\n    function rstr_sha1(s) {\n      return binb2rstr(binb_sha1(rstr2binb(s), s.length * 8));\n    }\n\n    /*\n    * Calculate the HMAC-SHA1 of a key and some data (raw strings)\n    */\n    function rstr_hmac_sha1(key, data) {\n      var bkey = rstr2binb(key);\n      if (bkey.length > 16) bkey = binb_sha1(bkey, key.length * 8);\n\n      var ipad = Array(16), opad = Array(16);\n      for (var i = 0; i < 16; i++) {\n        ipad[ i ] = bkey[ i ] ^ 0x36363636;\n        opad[ i ] = bkey[ i ] ^ 0x5C5C5C5C;\n      }\n\n      var hash = binb_sha1(ipad.concat(rstr2binb(data)), 512 + data.length * 8);\n      return binb2rstr(binb_sha1(opad.concat(hash), 512 + 160));\n    }\n\n    /*\n    * Convert a raw string to a hex string\n    */\n    function rstr2hex(input) {\n      try { hexcase } catch (e) { hexcase = 0; }\n      var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n      var output = \"\";\n      var x;\n      for (var i = 0; i < input.length; i++) {\n        x = input.charCodeAt(i);\n        output += hex_tab.charAt((x >>> 4) & 0x0F)\n          + hex_tab.charAt(x & 0x0F);\n      }\n      return output;\n    }\n\n    /*\n    * Convert a raw string to a base-64 string\n    */\n    function rstr2b64(input) {\n      try { b64pad } catch (e) { b64pad = ''; }\n      var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n      var output = \"\";\n      var len = input.length;\n      for (var i = 0; i < len; i += 3) {\n        var triplet = (input.charCodeAt(i) << 16)\n          | (i + 1 < len ? input.charCodeAt(i + 1) << 8 : 0)\n          | (i + 2 < len ? input.charCodeAt(i + 2) : 0);\n        for (var j = 0; j < 4; j++) {\n          if (i * 8 + j * 6 > input.length * 8) output += b64pad;\n          else output += tab.charAt((triplet >>> 6 * (3 - j)) & 0x3F);\n        }\n      }\n      return output;\n    }\n\n    /*\n    * Convert a raw string to an arbitrary string encoding\n    */\n    function rstr2any(input, encoding) {\n      var divisor = encoding.length;\n      var remainders = Array();\n      var i, q, x, quotient;\n\n      /* Convert to an array of 16-bit big-endian values, forming the dividend */\n      var dividend = Array(Math.ceil(input.length / 2));\n      for (i = 0; i < dividend.length; i++) {\n        dividend[ i ] = (input.charCodeAt(i * 2) << 8) | input.charCodeAt(i * 2 + 1);\n      }\n\n      /*\n      * Repeatedly perform a long division. The binary array forms the dividend,\n      * the length of the encoding is the divisor. Once computed, the quotient\n      * forms the dividend for the next step. We stop when the dividend is zero.\n      * All remainders are stored for later use.\n      */\n      while (dividend.length > 0) {\n        quotient = Array();\n        x = 0;\n        for (i = 0; i < dividend.length; i++) {\n          x = (x << 16) + dividend[ i ];\n          q = Math.floor(x / divisor);\n          x -= q * divisor;\n          if (quotient.length > 0 || q > 0)\n            quotient[ quotient.length ] = q;\n        }\n        remainders[ remainders.length ] = x;\n        dividend = quotient;\n      }\n\n      /* Convert the remainders to the output string */\n      var output = \"\";\n      for (i = remainders.length - 1; i >= 0; i--)\n        output += encoding.charAt(remainders[ i ]);\n\n      /* Append leading zero equivalents */\n      var full_length = Math.ceil(input.length * 8 /\n        (Math.log(encoding.length) / Math.log(2)))\n      for (i = output.length; i < full_length; i++)\n        output = encoding[ 0 ] + output;\n\n      return output;\n    }\n\n    /*\n    * Encode a string as utf-8.\n    * For efficiency, this assumes the input is valid utf-16.\n    */\n    function str2rstr_utf8(input) {\n      var output = \"\";\n      var i = -1;\n      var x, y;\n\n      while (++i < input.length) {\n        /* Decode utf-16 surrogate pairs */\n        x = input.charCodeAt(i);\n        y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\n        if (0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF) {\n          x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\n          i++;\n        }\n\n        /* Encode output as utf-8 */\n        if (x <= 0x7F)\n          output += String.fromCharCode(x);\n        else if (x <= 0x7FF)\n          output += String.fromCharCode(0xC0 | ((x >>> 6) & 0x1F),\n            0x80 | (x & 0x3F));\n        else if (x <= 0xFFFF)\n          output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\n            0x80 | ((x >>> 6) & 0x3F),\n            0x80 | (x & 0x3F));\n        else if (x <= 0x1FFFFF)\n          output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\n            0x80 | ((x >>> 12) & 0x3F),\n            0x80 | ((x >>> 6) & 0x3F),\n            0x80 | (x & 0x3F));\n      }\n      return output;\n    }\n\n    /*\n    * Encode a string as utf-16\n    */\n    function str2rstr_utf16le(input) {\n      var output = \"\";\n      for (var i = 0; i < input.length; i++)\n        output += String.fromCharCode(input.charCodeAt(i) & 0xFF,\n          (input.charCodeAt(i) >>> 8) & 0xFF);\n      return output;\n    }\n\n    function str2rstr_utf16be(input) {\n      var output = \"\";\n      for (var i = 0; i < input.length; i++)\n        output += String.fromCharCode((input.charCodeAt(i) >>> 8) & 0xFF,\n          input.charCodeAt(i) & 0xFF);\n      return output;\n    }\n\n    /*\n    * Convert a raw string to an array of big-endian words\n    * Characters >255 have their high-byte silently ignored.\n    */\n    function rstr2binb(input) {\n      var output = Array(input.length >> 2);\n      for (var i = 0; i < output.length; i++)\n        output[ i ] = 0;\n      for (var i = 0; i < input.length * 8; i += 8)\n        output[ i >> 5 ] |= (input.charCodeAt(i / 8) & 0xFF) << (24 - i % 32);\n      return output;\n    }\n\n    /*\n    * Convert an array of big-endian words to a string\n    */\n    function binb2rstr(input) {\n      var output = \"\";\n      for (var i = 0; i < input.length * 32; i += 8)\n        output += String.fromCharCode((input[ i >> 5 ] >>> (24 - i % 32)) & 0xFF);\n      return output;\n    }\n\n    /*\n    * Calculate the SHA-1 of an array of big-endian words, and a bit length\n    */\n    function binb_sha1(x, len) {\n      /* append padding */\n      x[ len >> 5 ] |= 0x80 << (24 - len % 32);\n      x[ ((len + 64 >> 9) << 4) + 15 ] = len;\n\n      var w = Array(80);\n      var a = 1732584193;\n      var b = -271733879;\n      var c = -1732584194;\n      var d = 271733878;\n      var e = -1009589776;\n\n      for (var i = 0; i < x.length; i += 16) {\n        var olda = a;\n        var oldb = b;\n        var oldc = c;\n        var oldd = d;\n        var olde = e;\n\n        for (var j = 0; j < 80; j++) {\n          if (j < 16) w[ j ] = x[ i + j ];\n          else w[ j ] = bit_rol(w[ j - 3 ] ^ w[ j - 8 ] ^ w[ j - 14 ] ^ w[ j - 16 ], 1);\n          var t = safe_add(safe_add(bit_rol(a, 5), sha1_ft(j, b, c, d)),\n            safe_add(safe_add(e, w[ j ]), sha1_kt(j)));\n          e = d;\n          d = c;\n          c = bit_rol(b, 30);\n          b = a;\n          a = t;\n        }\n\n        a = safe_add(a, olda);\n        b = safe_add(b, oldb);\n        c = safe_add(c, oldc);\n        d = safe_add(d, oldd);\n        e = safe_add(e, olde);\n      }\n      return Array(a, b, c, d, e);\n\n    }\n\n    /*\n    * Perform the appropriate triplet combination function for the current\n    * iteration\n    */\n    function sha1_ft(t, b, c, d) {\n      if (t < 20) return (b & c) | ((~b) & d);\n      if (t < 40) return b ^ c ^ d;\n      if (t < 60) return (b & c) | (b & d) | (c & d);\n      return b ^ c ^ d;\n    }\n\n    /*\n    * Determine the appropriate additive constant for the current iteration\n    */\n    function sha1_kt(t) {\n      return (t < 20) ? 1518500249 : (t < 40) ? 1859775393 :\n        (t < 60) ? -1894007588 : -899497514;\n    }\n\n    /*\n    * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n    * to work around bugs in some JS interpreters.\n    */\n    function safe_add(x, y) {\n      var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n      var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n      return (msw << 16) | (lsw & 0xFFFF);\n    }\n\n    /*\n    * Bitwise rotate a 32-bit number to the left.\n    */\n    function bit_rol(num, cnt) {\n      return (num << cnt) | (num >>> (32 - cnt));\n    }\n\n    if (typeof href === \"string\" && href) {\n      return hex_sha1(href);\n    }\n  }\n  if (utag_data.wa_page_name) {\n    utag_data.wa_asset_id = generateAssetID(utag_data.wa_page_name);\n  }\n\n  //Global Optimization Framework functions\n  wap_tms.custom.floodlight = {\n    setup: function (floodlightEvent) {\n      var data = {};\n      data.wa_local = utag_data.wa_local;\n      data.wa_page_url = utag_data.wa_page_url;\n      data.floodlight_event = floodlightEvent;\n      document.dispatchEvent(new CustomEvent('wapSendFloodlight', {\n        detail: {\n          floodlight_id: utag_data.wa_local,\n          wa_page_url: utag_data.wa_page_url,\n          floodlight_event: floodlightEvent\n        }\n      }));\n    },\n    validateFire: function (data) {\n      if (!wap_tms.consent.isAdvertisingEnabled() || !data.floodlight_activity || !data.floodlight_activity_part_2 || sessionStorage.getItem(data.floodlight_activity) === '1') {\n        return false;\n      }\n      sessionStorage.setItem(data.floodlight_activity, '1');\n      return true;\n    }\n  };\n\n  wap_tms.custom.cleanNull = function (value) {\n    value = (typeof value !== 'undefined' && value.toLowerCase() !== 'null') ? value : '';\n    return value;\n  }\n\n  //Set User login values\n  wap_tms.cquser = {};\n  wap_tms.cquser.login = '';\n  wap_tms.cquser.busid = '';\n  wap_tms.cquser.profileid = '';\n  wap_tms.cquser.programid = '';\n  wap_tms.cquser.personid = '';\n  wap_tms.cquser.customerid = '';\n  wap_tms.cquser.registered = '';\n  wap_tms.cquser.gold = '';\n  wap_tms.cquser.platinum = '';\n  wap_tms.cquser.programrole = '';\n  wap_tms.cquser.renewal_status = '';\n  wap_tms.targetData = localStorage.getItem('targetData') || '';\n\n  wap_tms.IGHFLoggedIn = wap_tms.storage.cookieRef.IGHFLoggedIn === 'true';\n  // If for some reason the cookie is not available, then use the path to determine\n  // if we are in a secure page.\n  if (!wap_tms.IGHFLoggedIn && (/\\/secure\\//.test(location.pathname))) {\n    wap_tms.IGHFLoggedIn = true;\n  }\n\n  //track log in status of user\n  const trackedLogin = sessionStorage.getItem('userLoggedIn');\n  if (!trackedLogin && wap_tms.IGHFLoggedIn) {\n    hit.event157 = 1;\n    sessionStorage.setItem('userLoggedIn', 1);\n    //if a user logs out remove storage item\n    document.querySelector(\"button[data-wap='{\\\"linktype\\\":\\\"logout\\\"}']\")?.addEventListener('click', () => {\n      sessionStorage.removeItem('userLoggedIn');\n    });\n  }\n\n  //special tracking for CIDaaS login page\n  if (utag_data.wa_page_url?.includes('consumer.intel.com') || utag_data.wa_page_url?.includes('consumerint.intel.com') || utag_data.wa_page_url?.includes('consumerdev.intel.com')) {\n    page.eVar82 = wap_tms.storage.getCookie('CorrelationId');\n    if (utag_data.element_header_geo) {\n      splitGeo = utag_data.element_header_geo.split('_');\n      utag_data.wa_local = `${splitGeo[ 1 ]}-${splitGeo[ 0 ]}`.toLowerCase();\n      utag_data.wa_geo = wa_setGeo(utag_data.wa_local);\n      utag_data.wa_language_code = wa_getLanguageCode(utag_data.wa_local);\n    }\n  }\n\n  /**\n   * @param {*} text The whole string we'll look into it\n   * @param {*} valuesArray Vector - the values we are searching\n   * @Returns true: when any array value exists | false: when any array values doesn't exist \n   */\n  wap_tms.custom.valueExists = function (text, valuesArray) {\n    return valuesArray.some(function (item) {\n      return text.search(item) > -1;\n    });\n  }\n\n  wap_tms.cquser.set = function () {\n    //targetData=\"ProfileID=15984830|Registered=IPD-NBS-CQ|BusinessID=205803|isLoggedIn=true|Platinum=IPP-CQ|Gold=IPD-BS-CQ|ProgramID=1000,20735,20732,20619,20407,20295,20226,20225,20224,20223,20095,20022,1020,1003,1002,1001|ProgramRole=PRIM_CONT|\"\n\n    wap_tms.cquser.login = wap_tms.IGHFLoggedIn;\n    wap_tms.custom.baseline = [\n      'IoT Affiliate Aggregator',\n      'IoT Affiliate Software or Solution Provider',\n      'IoT Affiliate System Provider',\n      'IoT Associate Aggregator',\n      'IoT Associate Software or Solution Provider',\n      'IoT Associate System Provider',\n      'IoT Co-Sell Global',\n      'IoT Co-Sell Regional',\n      'IoT General Software or Solution Provider',\n      'IoT General System Provider',\n      'IoT Premier System Provider'\n    ];\n\n    wap_tms.custom.additive = [\n      'IoT Targeted Initiative: Communications and Networking Platforms',\n      'IoT Targeted Initiative: 11th Generation Intel\xae Core\u2122 Processor Family',\n      'IoT Targeted Initiative: Intel Atom\xae and Intel\xae Pentium and Celeron\xae Processors',\n      'IoT Targeted Initiative: Co-Marketing to OT SI Audience',\n      'IoT Targeted Initiative: Regional Co-Marketing',\n      'IoT Targeted Initiative: 3rd Generation Intel\xae Xeon\xae Scalable Processors',\n      'IoT Market Ready Solution, Level',\n      'IoT RFP Ready Kits, Level'\n    ];\n\n    wap_tms.custom.oneIntel = [ 'AI Application Ecosystem Advancement Level' ];\n\n    wap_tms.custom.dcif = [ 'DCIF' ];\n\n    if (wap_tms.targetData) {\n      var usersData = wap_tms.targetData;\n      usersData = decodeURIComponent(usersData).replace(/\"/g, '');\n      const usersDataObj = wap_tms.custom.getObjectFromString(usersData, '|');\n      //Tags: we should sync with AEM teams to see which of these fields are still in use\n      if (usersDataObj) {\n        wap_tms.cquser.programid = wap_tms.custom.cleanNull(usersDataObj[ 'ProgramID' ]);\n        wap_tms.cquser.personid = wap_tms.custom.cleanNull(usersDataObj[ 'PersonID' ]);\n        wap_tms.cquser.customerid = wap_tms.custom.cleanNull(usersDataObj[ 'CustomerID' ]);\n        wap_tms.cquser.coveragetype = wap_tms.custom.cleanNull(usersDataObj[ 'CoverageType' ]).toLowerCase();\n        utag_data.wa_cquser_pointsapproved = wap_tms.custom.cleanNull(usersDataObj[ 'pointsApproved' ]);\n        utag_data.wa_membership_group = wap_tms.custom.cleanNull(usersDataObj[ 'membershipGroup' ]);\n        wap_tms.cquser.renewal_status = wap_tms.custom.cleanNull(usersDataObj[ 'renewalStatus' ]);\n        utag_data.wa_points_approved = wap_tms.custom.cleanNull(usersDataObj[ 'pointsApproved' ]).toLowerCase();\n        utag_data.wa_isa_relationship = wap_tms.custom.cleanNull(usersDataObj[ 'ISArelationship' ]).toLowerCase() || 'na';\n        utag_data.wa_isa_benefit = wap_tms.custom.cleanNull(usersDataObj[ 'isabenefit' ]).toLowerCase() || 'na';\n        utag_data.wa_isa_partner = wap_tms.custom.cleanNull(usersDataObj[ 'isapartner' ]).toLowerCase();\n        utag_data.wa_speciality_benefits = wap_tms.custom.cleanNull(usersDataObj[ 'specialityBenefits' ]).toLowerCase();\n        utag_data.wa_program_role = wap_tms.custom.cleanNull(usersDataObj[ 'ProgramRole' ]).toLowerCase();\n        utag_data.wa_itp_membership_status = wap_tms.custom.cleanNull(usersDataObj[ 'itpmembershipstatus' ]).toLowerCase();\n        utag_data.wa_membership_status = wap_tms.custom.cleanNull(usersDataObj[ 'membershipstatus' ]).toLowerCase();\n        utag_data.wa_partner_community_tier = wap_tms.custom.cleanNull(usersDataObj[ 'partnercommunitytier' ]).toLowerCase();\n        utag_data.wa_partner_role_tier = wap_tms.custom.cleanNull(usersDataObj[ 'partnerroletier' ]).toLowerCase();\n        utag_data.wa_partner_role_relation = wap_tms.custom.cleanNull(usersDataObj[ 'partnerrolerelation' ]).toLowerCase();\n        utag_data.wa_partner_benefit = wap_tms.custom.cleanNull(usersDataObj[ 'partnerbenefit' ]).toLowerCase();\n        utag_data.wa_partner_contact_subscription = wap_tms.custom.cleanNull(usersDataObj[ 'partnercontactsubscription' ]).toLowerCase();\n        utag_data.wa_partner_speciality = wap_tms.custom.cleanNull(usersDataObj[ 'partnerspeciality' ]).toLowerCase();\n        utag_data.wa_partner_role = wap_tms.custom.cleanNull(usersDataObj[ 'partnerrole' ]).toLowerCase();\n        utag_data.wa_partner_tier = wap_tms.custom.cleanNull(usersDataObj[ 'partnertier' ]).toLowerCase();\n        utag_data.wa_partner_relationship = wap_tms.custom.cleanNull(usersDataObj[ 'partnerrelationship' ]).toLowerCase();\n        utag_data.azure_id = wap_tms.custom.cleanNull(usersDataObj[ 'uniqueid' ]).toLowerCase();\n        utag_data.azure_user_type = wap_tms.custom.cleanNull(usersDataObj[ 'usertype' ]).toLowerCase();\n        var wa_master_id = wap_tms.custom.cleanNull(usersDataObj[ 'CIMId' ]);\n        wa_master_id = wa_master_id.replace(/^[,\\s]+|[,\\s]+$/g, '').replace(/,[,\\s]*,/g, ',');\n        if (wa_master_id.indexOf('null') === -1) {\n          utag_data.wa_master_account_id = wa_master_id;\n        }\n        utag_data.wa_partner_baseline = wap_tms.custom.valueExists(usersData, wap_tms.custom.baseline) ? 'true' : 'false';\n        utag_data.wa_partner_additive = wap_tms.custom.valueExists(usersData, wap_tms.custom.additive) ? 'true' : 'false';\n        utag_data.wa_partner_oneIntel = wap_tms.custom.valueExists(usersData, wap_tms.custom.oneIntel) ? 'true' : 'false';\n        utag_data.wa_partner_dcif = wap_tms.custom.valueExists(usersData, wap_tms.custom.dcif) ? 'true' : 'false';\n      }\n    }\n\n    //set\n    utag_data.wa_program_id = wap_tms.cquser.programid; //cd104\n    utag_data.wa_erpm_id = (utag_data.wa_erpm_id && utag_data.wa_erpm_id.toLowerCase() !== 'null') ? utag_data.wa_erpm_id : wap_tms.cquser.personid; //cd120\n    utag_data.wa_erpm_bus_id = wap_tms.cquser.customerid; //cd121\n    utag_data.wa_cquser_coverage_type = wap_tms.cquser.coveragetype; //cd119\n    wap_tms.cquser.login = wap_tms.cquser.login ? 'logged-in' : 'anonymous';\n    utag_data.wa_login = wap_tms.cquser.login; //cd105\n    utag_data.wa_renewal_status = wap_tms.cquser.renewal_status.toLowerCase();\n\n    page.eVar201 = utag_data.azure_user_type;\n    page.eVar203 = utag_data.azure_id;\n\n  };\n  wap_tms.cquser.set();\n\n  /**\n   * Used to split parameters to be included in mbox object.\n   * @param {*} param \n   * @Returns object: containing 3 properties with the param splitted by comma.\n   */\n  wap_tms.custom.splitParameters = (param) => {\n    let param1 = '';\n    let param2 = '';\n    let param3 = '';\n\n    if (typeof param === 'string' && param.length > 256) {\n      const paramArray = param.match(/.{1,256}/g);\n      const lastComma = paramArray[ 0 ].lastIndexOf(',');\n      param1 = param.substring(0, lastComma);\n      param2 = param.substring(lastComma + 1);\n\n      if (typeof param2 === 'string' && param2.length > 256) {\n        const paramArray2 = param2.match(/.{1,256}/g);\n        const lastComma2 = paramArray2[ 0 ].lastIndexOf(',');\n        param3 = param2.substring(lastComma2 + 1);\n        param2 = param2.substring(0, lastComma2);\n\n        const paramArray3 = param3.match(/.{1,256}/g);\n        const lastComma3 = paramArray3[ 0 ].lastIndexOf(',');\n        param3 = param3.substring(0, lastComma3);\n      }\n    }\n\n    return {\n      param1: param1,\n      param2: param2,\n      param3: param3\n    }\n  };\n\n  // Split wa_partner_speciality's value into three parameters.\n  const partner_speciality = wap_tms.custom.splitParameters(utag_data.wa_partner_speciality);\n  utag_data.wa_partner_speciality_one = partner_speciality.param1;\n  utag_data.wa_partner_speciality_two = partner_speciality.param2;\n  utag_data.wa_partner_speciality_three = partner_speciality.param3;\n\n  utag_data.wa_psg_membership = '';\n  var wa_membershipgroup = new Array();\n  if (wap_tms.targetData) {\n    wa_membershipgroup = utag_data.wa_membership_group.toLowerCase().split(',');\n  }\n\n  //Authenticated user\n  //Tags: We should just write the string in lowercase instead of adding the function call\n  if (wa_membershipgroup.length > 0) {\n    if (wa_membershipgroup.indexOf('ips community portal access') == -1 || wa_membershipgroup.indexOf('partner portal \u2013 ips') == -1 || wa_membershipgroup.indexOf('ips partner agent') == -1 || wa_membershipgroup.indexOf('sfdc ips external contact') == -1) {\n      if (wa_membershipgroup.indexOf('psg external basic b2b bundle') == -1) {\n        utag_data.wa_psg_membership = 'Authenticated \u2013 has no basic or IPS access'.toLowerCase();\n      } else {\n        utag_data.wa_psg_membership = 'Authenticated \u2013 has basic access'.toLowerCase();\n      }\n    } else {\n      if (wa_membershipgroup.indexOf('psg external basic b2b bundle') == -1) {\n        utag_data.wa_psg_membership = 'Authenticated \u2013 has IPS only access'.toLowerCase();\n      } else {\n        utag_data.wa_psg_membership = 'Authenticated \u2013 has basic + IPS access'.toLowerCase();\n      }\n    }\n  }\n\n  utag_data.wa_membership_group_one = utag_data.wa_membership_group;\n  utag_data.wa_membership_group_two = '';\n  utag_data.wa_membership_group_three = '';\n\n  if (typeof utag_data.wa_membership_group === 'string' && utag_data.wa_membership_group.length > 256) {\n    var wa_membership_group_array = utag_data.wa_membership_group.match(/.{1,256}/g);\n    var wa_last_comma = wa_membership_group_array[ 0 ].lastIndexOf(',');\n    utag_data.wa_membership_group_one = utag_data.wa_membership_group.substring(0, wa_last_comma);\n    utag_data.wa_membership_group_two = utag_data.wa_membership_group.substring(wa_last_comma + 1);\n    if (typeof utag_data.wa_membership_group_two === 'string' && utag_data.wa_membership_group_two.length > 256) {\n      var wa_membership_group_array_2 = utag_data.wa_membership_group_two.match(/.{1,256}/g);\n      var wa_last_comma_2 = wa_membership_group_array_2[ 0 ].lastIndexOf(',');\n      utag_data.wa_membership_group_three = utag_data.wa_membership_group_two.substring(wa_last_comma_2 + 1);\n      utag_data.wa_membership_group_two = utag_data.wa_membership_group_two.substring(0, wa_last_comma_2);\n    }\n  }\n\n  // Split wa_partner_benefit's value into three parameters.\n  utag_data.wa_partner_benefit_one = utag_data.wa_partner_benefit;\n  utag_data.wa_partner_benefit_two = '';\n  utag_data.wa_partner_benefit_three = '';\n\n  if (typeof utag_data.wa_partner_benefit === 'string' && utag_data.wa_partner_benefit.length > 256) {\n    var wa_partner_benefit_array = utag_data.wa_partner_benefit.match(/.{1,256}/g);\n    wa_last_comma = wa_partner_benefit_array[ 0 ].lastIndexOf(',');\n\n    utag_data.wa_partner_benefit_one = utag_data.wa_partner_benefit.substring(0, wa_last_comma);\n    utag_data.wa_partner_benefit_two = utag_data.wa_partner_benefit.substring(wa_last_comma + 1);\n\n    if (typeof utag_data.wa_partner_benefit_two === 'string' && utag_data.wa_partner_benefit_two.length > 256) {\n      var wa_partner_benefit_array_2 = utag_data.wa_partner_benefit_two.match(/.{1,256}/g);\n      wa_last_comma_2 = wa_partner_benefit_array_2[ 0 ].lastIndexOf(',');\n\n      utag_data.wa_partner_benefit_three = utag_data.wa_partner_benefit_two.substring(wa_last_comma_2 + 1);\n      utag_data.wa_partner_benefit_two = utag_data.wa_partner_benefit_two.substring(0, wa_last_comma_2);\n    }\n  }\n\n  // Split wa_partner_contact_subscription's value into three parameters.\n  utag_data.wa_partner_contact_subscription_one = utag_data.wa_partner_contact_subscription;\n  utag_data.wa_partner_contact_subscription_two = '';\n  utag_data.wa_partner_contact_subscription_three = '';\n\n  if (typeof utag_data.wa_partner_contact_subscription === 'string' && utag_data.wa_partner_contact_subscription.length > 256) {\n    var wa_partner_contact_subscription_array = utag_data.wa_partner_contact_subscription.match(/.{1,256}/g);\n    wa_last_comma = wa_partner_contact_subscription_array[ 0 ].lastIndexOf(',');\n\n    utag_data.wa_partner_contact_subscription_one = utag_data.wa_partner_contact_subscription.substring(0, wa_last_comma);\n    utag_data.wa_partner_contact_subscription_two = utag_data.wa_partner_contact_subscription.substring(wa_last_comma + 1);\n\n    if (typeof utag_data.wa_partner_contact_subscription_two === 'string' && utag_data.wa_partner_contact_subscription_two.length > 256) {\n      var wa_partner_contact_subscription_array_2 = utag_data.wa_partner_contact_subscription_two.match(/.{1,256}/g);\n      wa_last_comma_2 = wa_partner_contact_subscription_array_2[ 0 ].lastIndexOf(',');\n\n      utag_data.wa_partner_contact_subscription_three = utag_data.wa_partner_contact_subscription_two.substring(wa_last_comma_2 + 1);\n      utag_data.wa_partner_contact_subscription_two = utag_data.wa_partner_contact_subscription_two.substring(0, wa_last_comma_2);\n    }\n  }\n\n  //Function to get the Erpm Account Number\n  wap_tms.custom.getErpmAccountNumber = function () {\n    if (wap_tms.targetData) {\n      var targetData = decodeURIComponent(wap_tms.targetData).split('|');\n      for (var i = 0; i < targetData.length; i++) {\n        if (/ERPMOrgAccId/i.test(targetData[ i ])) {\n          var erpm_id = targetData[ i ].split('=')[ 1 ];\n          erpm_id = (erpm_id && erpm_id != '') ? erpm_id : 'unassigned';\n          return erpm_id;\n        }\n\n      }\n    }\n    return 'unassigned';\n  }\n  utag_data.wa_erpm_org_id = wap_tms.custom.getErpmAccountNumber();\n\n  (() => {\n    if (utag_data.wa_erpm_id && utag_data.wa_elq_id_short) {\n      utag_data.wa_user_type = 'erpm,eloqua';\n    } else if (utag_data.wa_erpm_id) {\n      utag_data.wa_user_type = 'erpm';\n    } else if (utag_data.wa_elq_id_short) {\n      utag_data.wa_user_type = 'eloqua';\n    } else {\n      utag_data.wa_user_type = 'anonymous';\n    }\n  })();\n\n  (() => { // Target flags\n    window.utag_data = window.utag_data || {};\n\n    /**\n     * Original code:\n      if (b['wa_section'] == 'intc' || b['wa_section'] == 'ssg-intc') {\n        b['target_append_entity_params'] = 'true'\n      }\n    */\n    utag_data.target_append_entity_params = [ 'intc', 'ssg-intc' ].includes(utag_data.wa_section) ? 'true' : 'false';\n\n    /**\n     * Original code:\n      if (b['wa_section'].toString().indexOf('intc') > -1\n        || b['wa_section'] == 'sf-marketplace'\n        || b['wa_section'] == 'community-itpeernetwork'\n        || b['wa_section'] == 'blogs-iot@intel'\n        || b['wa_section'] == 'community-newsroom'\n        || b['wa_section'] == 'builders'\n        || b['wa_section'] == 'elq'\n        || b['wa_section'] == 'newmarketingstudio-marketingstudio.intel.com') {\n        b['target_load_global'] = 'true'\n      }\n     */\n    utag_data.target_load_global = [\n      'intc',\n      'sf-marketplace',\n      'community-itpeernetwork',\n      'blogs-iot@intel',\n      'community-newsroom',\n      'builders',\n      'elq',\n      'newmarketingstudio-marketingstudio.intel.com',\n    ].includes(utag_data.wa_section) ? 'true' : 'false';\n\n    /**\n     *  Original code:\n      if (b['dom.pathname'].toString().indexOf('/content/www/us/en/homepage.html') > -1) {\n        b['target_load'] = 'true';\n        b['target_kpi'] = 'none';\n        b['target_params_page'] = 'wa_login,wa_internal_user';\n        b['target_params_profile'] = '';\n        b['target_params_entity'] = '';\n     }\n     */\n    if (window.pathname?.toLowerCase().includes('/content/www/us/en/homepage.html')) {\n      utag_data.target_load = 'true';\n      utag_data.target_kpi = 'none';\n      utag_data.target_params_page = 'wa_login,wa_internal_user';\n      utag_data.target_params_profile = '';\n      utag_data.target_params_entity = '';\n    }\n\n    /**\n     *  Original code:\n     if (b['wa_geo'].toString().toLowerCase() == 'asmo-na'.toLowerCase()\n       || b['dom.pathname'].toString().toLowerCase().indexOf('/content/www/us/en/drones/drone-applications/commercial-drones.html'.toLowerCase()) > -1\n       || b['dom.pathname'].toString().toLowerCase().indexOf('/content/www/us/en/drones/drone-applications/commercial-drones-b.html'.toLowerCase()) > -1) {\n       b['target_load'] = 'true';\n       b['target_kpi'] = 'none';\n       b['target_params_page'] = 'wa_login';\n       b['target_params_profile'] = '';\n       b['target_params_entity'] = ''\n     }\n     */\n    if (window.pathname?.toLowerCase().includes('/content/www/us/en/drones/drone-applications/commercial-drones.html') || window.pathname?.toLowerCase().includes('/content/www/us/en/drones/drone-applications/commercial-drones-b.html')) {\n      utag_data.target_load = 'true';\n      utag_data.target_kpi = 'none';\n      utag_data.target_params_page = 'wa_login';\n      utag_data.target_params_profile = '';\n      utag_data.target_params_entity = '';\n    }\n  })();\n\n  document.dispatchEvent(new CustomEvent('wapGlobal', {\n    detail: {\n      page,\n      hit,\n      localVars: {\n        wa_pathObj\n      }\n    }\n  }));\n  //END - Extension: WAP Global (1)\n})();\n",
language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL26c3dbb4680148078886f93e86a2238c",name:"50 - [DOM Ready] - [RC] - [ASMO-NA] - Google Ad Manager Conversion - 5121224",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Page URL%",rightOperand:"/us/en/developer/tools/oneapi/overview.html"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCefe4e7c4e1604d11a217b4523f6adffb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL431c6b93e16b4e1f8e0eb2b40eff360f",name:"02 - [wapEvent: consent:ready] - [RC] - Affinities",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC83ffbda9a4684f7a974f93d789908588-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf29d5b4c5e2e4853a6dd8f5f0d1b6b5a",name:"100 - DOM Ready - [RC] - Fire LinkedIn Tag For IPA",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"wap_tms.qs.cid",value:"psm"},timeout:2e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"wap_tms.qs.ipaLinkedIn",value:"true"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!location.pathname.includes("/content/www/us/en/partner-alliance/overview.html")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC1c6fba230c9d4140b34c96aa7e0277e5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL02f90bf73a214606aaf737083282e1aa",name:"100 - [wapEvent consent:ready] - [ASMO-NA] Zeta Pixel - Intel Enterprise Conversion",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){switch(!0){case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/hardware-shield.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/intel-active-management-technology.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/vpro/overview.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/vpro/vpro-evo-design.html"):return!0;default:return!1}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC22e457ef3760412096a45cccaf891f0a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa142261cc37848dd98df78ea8f0509be",name:"100 - [Library Loaded] - [RC] - Geo: EMEA Actions",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%GEO%",rightOperand:"emea"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"if(utag_data.wa_page_url?.includes('/target-test/') || utag_data.wa_page_url?.includes('/test/') || wap_tms.qs.targetTest !== undefined){\n  utag_data.target_at_property = '1c22feb6-172d-2bda-75dc-01fef242b07e';\n}",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if (utag_data.wa_section){\n  utag_data.load_survey = 'true';\n}",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"utag_data.target_load = 'true';\nutag_data.target_kpi = 'none';\nutag_data.target_params_page = '';\nutag_data.target_params_profile = '';\nutag_data.target_params_entity = '';",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"(()=>{\n  if (utag_data.wa_page_name !== undefined) {\n    utag_data.rec_entity_id = utag_data.wa_page_name;\n  }\n})();",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"if (utag_data.wa_page_url.startsWith('https://ark.intel.com/')){\n  utag_data.wa_zone = (function() { try { var pdtStatus = ''; if ($('ul.specs-list li span[data-key=StatusCodeText]').length > 0) { pdtStatus = $.trim($('ul.specs-list li span[data-key=StatusCodeText]').html()).toLowerCase(); return pdtStatus; } } catch (error) { return ''; } }());\n}",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"if (utag_data.wa_page_url.indexOf('/products/') > -1){\n  utag_data.wa_zone = (function () {   try {     var selectors = [       '#tech-specs-spoke .hub-content-wrap #techSpecs .tech-section:first .row:nth-child(3) .mobileRow:nth-child(2) .col-xs-6:nth-child(2)',       '#specs-1-0-0 > div:nth-child(6) > .tech-data > span'     ];     var pdtStatus = '';     for (var i = 0; i < selectors.length; ++i) {       var element = $(selectors[i]);       if (element.length > 0) {         pdtStatus = $.trim(element.html()).toLowerCase();         break;       }     }     return pdtStatus;   } catch (error) {     return '';   } }());\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL270eca48e1964bb39e75f723a7c8fde4",name:"100 - [wapEvent consent:ready] - [ASMO-NA] Zeta Pixel - Intel Retargeting ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Page URL%",rightOperand:"/content/www/us/en/architecture-and-technology/vpro/overview.html"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCdfa0cb5aceeb47aba0e0314663e196f6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4a7ca29a7415431ca0a7f6d93d2e29ff",name:"50 - [DOM Ready] - [RC] - [ASMO-NA] - Google Ad Manager Conversion - 5091930",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%Page URL%",rightOperand:"/us/en/developer/tools/oneapi/training/migrate-from-cuda-to-cpp-with-sycl.html"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCa07929d88b1c4d0d8131f20975682e84-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4673a5e3d3b14b7cadc93be01e5222f3",name:"15 - [wapEvent: consent:ready] - Load Floodlight",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCd0f5a6d3e6954d90b6618096ba129d5f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC2fa6905858e34457abf2a5eeabc1f2c3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdfc2c55b22ee4d568045a52026c5b304",name:"100 - [wapEvent consent:ready] - [ASMO-NA] Zeta Pixel - Intel Retargeting Conversion",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){switch(!0){case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/business/enterprise-computers/resources/vpro-platform-tei-case-study-2021.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/vpro/enterprise-chrome.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/vpro/essentials.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/vpro/vpro-evo-design.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/customer-spotlight/stories/uhbw-customer-story.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/business/enterprise-computers/overview.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/business/enterprise-computers/resources/pc-performance.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/business/enterprise-computers/resources/hardware-security.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/business/enterprise-computers/resources/remote-management.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/business/enterprise-computers/resources/stability.html"):return!0;default:return!1}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC1abd033191c3469ba04cba6e4b6c98e2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf9e20c578e1a4aa6bd79314bbb4d8584",name:"10 - [wapSendFloodlight] - [RC] - Floodlight send event",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapSendFloodlight",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC72c228b071eb4fbb839aff6e4f121822-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC87ff35db908a480883f676c2b91321d2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe0a9fc5a73354b10aa0914c10586c843",name:"30 - [Library Loaded] - [RC] - BrightCove Video Tracking",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:30}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"//*********************************************************************************************\n//* Extension: Brightcove - Pre-loader (-)                                                    *\n//*********************************************************************************************\n\n(() => {\n\tif (location.search.includes('debugger') && location.search.includes('brightcove')) {\n\t\tdebugger;\n\t}\n\t\t//used for custom WAP implementation (non-AEM implementation)\n\t\tfunction onTemplateLoadWap(experienceID) {\n\t\t\tplayer = brightcove.api.getExperience(experienceID);\n\t\t\tAPIModules = brightcove.api.modules.APIModules;\n\t\t\tif ((typeof myTemplateLoaded) !== 'undefined') {\n\t\t\t\tmyTemplateLoaded(experienceID);\n\t\t\t}\n\t\t}\n\n\t\tfunction onTemplateReadyWap(evt) {\n\t\t\tvideoPlayer = player.getModule(APIModules.VIDEO_PLAYER);\n\t\t}\n\n\t\twap_tms.custom.brightcove = true;\n\n\t\tvar track0 = 0,\n\t\t\ttrack25 = 0,\n\t\t\ttrack50 = 0,\n\t\t\ttrack75 = 0,\n\t\t\ttrack90 = 0,\n\t\t\ttrack95 = 0,\n\t\t\ttrackPause = [];\n\t\tif (wap_tms.custom.brightcove) { //enbale if config\n\t\t\t//*******Brightcove tracking starts ********\n\t\t\tvar expId,\n\t\t\t\tmodVP,\n\t\t\t\tplayer,\n\t\t\t\tcontentModule;\n\n\t\t\t// Template Loaded method\n\t\t\tfunction myTemplateLoaded(experienceID) {\n\t\t\t\texpId = experienceID;\n\t\t\t\tplayer = brightcove.api.getExperience(experienceID);\n\t\t\t\t// modVP = player.getModule(brightcove.api.modules.APIModules.VIDEO_PLAYER);\n\t\t\t\tmodExp = player.getModule(brightcove.api.modules.APIModules.EXPERIENCE);\n\t\t\t\t// contentModule = player.getModule(brightcove.api.modules.APIModules.CONTENT);\n\t\t\t\tmodExp.addEventListener(brightcove.api.events.ExperienceEvent.TEMPLATE_READY, onBCTemplateReady);\n\t\t\t}\n\n\t\t\t// listening to events on template ready\n\t\t\tfunction onBCTemplateReady(evt) {\n\t\t\t\tmodVP = player.getModule(brightcove.api.modules.APIModules.VIDEO_PLAYER);\n\t\t\t\tif (wap_tms.custom.brightcove)\n\t\t\t\t\tmodVP.getCurrentVideo(onGetCurrentVideoResult);\n\t\t\t}\n\n\t\t\tfunction onGetCurrentVideoResult(video) {\n\t\t\t\tif (video) {\n\t\t\t\t\tmodVP.loadVideoByReferenceID(expId);\n\t\t\t\t\t//modVP.play();\n\t\t\t\t\tmodVP.addEventListener(brightcove.api.events.MediaEvent.BEGIN, onMediaEventFired);\n\t\t\t\t\tmodVP.addEventListener(brightcove.api.events.MediaEvent.PLAY, onMediaEventFired);\n\t\t\t\t\tmodVP.addEventListener(brightcove.api.events.MediaEvent.PROGRESS, onMediaProgressFired);\n\t\t\t\t\tmodVP.addEventListener(brightcove.api.events.MediaEvent.COMPLETE, onMediaEventFired);\n\t\t\t\t\t//  modVP.addEventListener(brightcove.api.events.MediaEvent.STOP, onMediaEventFired);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// listening to various events in onMediaEventFired method\n\t\t\tfunction onMediaEventFired(event) {\n\t\t\t\tconst hit = {};\n\t\t\t\tvar c;\n\t\t\t\tvar pageUrl = document.location.href;\n\t\t\t\tvar playername = event.media.displayName;\n\t\t\t\tvar playerid = event.media.id;\n\t\t\t\twap_tms.custom.video_duration = event.duration;\n\t\t\t\tvar percentage = getPercentage(event);\n\t\t\t\tc = event.media.defaultURL;\n\t\t\t\thit.eVar47 = hit.prop37 = 'mobile';\n\t\t\t\tif ((event.type == brightcove.api.events.MediaEvent.PLAY) || (event.type == brightcove.api.events.MediaEvent.BEGIN)) {\n\t\t\t\t\tif (percentage == 0 && track0 == 0) {\n\t\t\t\t\t\ttrack0 = 1;\n\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\taction: 'video: play',\n\t\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (event.type == brightcove.api.events.MediaEvent.COMPLETE) {\n\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\thit,\n\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\taction: 'video: 100% complete',\n\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Percentage tracking inside onMediaProgressFired method\n\t\t\tfunction onMediaProgressFired(event) {\n\t\t\t\tconst hit = {};\n\t\t\t\tvar playername = event.media.displayName;\n\t\t\t\tvar playerid = event.media.id;\n\t\t\t\twap_tms.custom.video_duration = event.duration;\n\t\t\t\thit.eVar47 = hit.prop37 = 'mobile';\n\t\t\t\tif (event) {\n\t\t\t\t\tvar percentage = getPercentage(event);\n\t\t\t\t\tvar c = event.media.defaultURL;\n\t\t\t\t\tvar events = 'event63';\n\t\t\t\t\tvar custom10 = '';\n\t\t\t\t\tif (percentage >= 50 && percentage <= 53) {\n\t\t\t\t\t\tpercentage = 'mid';\n\t\t\t\t\t\tcustom10 = 'video:ump:partial';\n\t\t\t\t\t\tevents = 'event6,event61';\n\t\t\t\t\t}\n\t\t\t\t\tif (percentage == 'mid') {\n\t\t\t\t\t\tif (track50 == 0) {\n\t\t\t\t\t\t\tpercentage = 50;\n\t\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\t\taction: 'video: 50% complete',\n\t\t\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\ttrack50 = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (percentage >= 25 && percentage <= 28) {\n\t\t\t\t\t\tif (track25 == 0) {\n\t\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\t\taction: 'video: 25% complete',\n\t\t\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\ttrack25 = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (percentage >= 75 && percentage <= 78) {\n\t\t\t\t\t\tif (track75 == 0) {\n\t\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\t\taction: 'video: 75% complete',\n\t\t\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\ttrack75 = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (percentage >= 90 && percentage <= 93) {\n\t\t\t\t\t\tif (track90 == 0) {\n\t\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\t\taction: 'video: 90% complete',\n\t\t\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\ttrack90 = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (percentage >= 95 && percentage <= 98) {\n\t\t\t\t\t\tif (track95 == 0) {\n\t\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\t\taction: 'video: 95% complete',\n\t\t\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\ttrack95 = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//get percentage\n\t\t\tfunction getPercentage(event) {\n\t\t\t\tvar percentage = event.position * 100 / event.duration;\n\t\t\t\tpercentage = Math.round(percentage);\n\t\t\t\treturn percentage;\n\t\t\t}\n\t\t\t//*******Brightcove tracking ends ********\t\n\t\t}\n\n\n\t\t/*************************New HTML5 Brightcove Tracking***************************/\n\n\t\twap_tms.HTML5_brightcove = wap_tms.HTML5_brightcove || {};\n\n\t\twap_tms.HTML5_brightcove.videoPlay = function (duration, playername, id, iframe) {\n\t\t\tconst hit = {};\n\t\t\twap_tms.custom.video_duration = duration;\n\t\t\thit.eVar47 = hit.prop37 = 'html5';\n\t\t\tif (iframe) {\n\t\t\t\thit.eVar47 = hit.prop37 = 'html5-iframe';\n\t\t\t}\n\t\t\thit.eVar44 = hit.prop34 = 'brightcove:' + id;\n\t\t\thit.eVar45 = hit.prop35 = id;\n\t\t\ttrackGaEvent({\n\t\t\t\thit,\n\t\t\t\tcategory: 'Videos',\n\t\t\t\taction: 'video: play',\n\t\t\t\tlabel: playername\n\t\t\t});\n\t\t}\n\t\twap_tms.HTML5_brightcove.videoProgress = function (duration, percentage, playername, id, iframe) {\n\t\t\tconst hit = {};\n\t\t\twap_tms.custom.video_duration = duration;\n\t\t\thit.eVar47 = hit.prop37 = 'html5';\n\t\t\tif (iframe) {\n\t\t\t\thit.eVar47 = hit.prop37 = 'html5-iframe';\n\t\t\t}\n\t\t\thit.eVar44 = hit.prop34 = 'brightcove:' + id;\n\t\t\thit.eVar45 = hit.prop35 = id;\n\t\t\tswitch (percentage) {\n\n\t\t\t\tcase 25:\n\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\thit,\n\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\taction: 'video: 25% complete',\n\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t});\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 50:\n\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\thit,\n\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\taction: 'video: 50% complete',\n\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 75:\n\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\thit,\n\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\taction: 'video: 75% complete',\n\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t});\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 90:\n\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\thit,\n\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\taction: 'video: 90% complete',\n\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t});\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 95:\n\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\thit,\n\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\taction: 'video: 95% complete',\n\t\t\t\t\t\tlabel: playername\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\twap_tms.HTML5_brightcove.videoEnd = function (playername, id, iframe) {\n\t\t\tconst hit = {};\n\t\t\thit.eVar47 = hit.prop37 = 'html5';\n\t\t\tif (iframe) {\n\t\t\t\thit.eVar47 = hit.prop37 = 'html5-iframe';\n\t\t\t}\n\t\t\thit.eVar44 = hit.prop34 = 'brightcove:' + id;\n\t\t\thit.eVar45 = hit.prop35 = id;\n\t\t\ttrackGaEvent({\n\t\t\t\thit,\n\t\t\t\tcategory: 'Videos',\n\t\t\t\taction: 'video: 100% complete',\n\t\t\t\tlabel: playername\n\t\t\t});\n\t\t}\n\n\t\twindow.addEventListener('message', function (e) {\n\t\t\tvar checkEventMessage = function (ev) {\n\t\t\t\tvar flag = typeof (ev) === 'object' && typeof (ev.data) === 'string' && e.data.indexOf('brightcove') !== -1 &&\n\t\t\t\t\ttypeof (ev.lastEventId) === 'string' && typeof (ev.origin) === 'string' &&\n\t\t\t\t\ttypeof (ev.source) === 'object' && typeof (ev.ports) === 'object';\n\t\t\t\treturn flag;\n\t\t\t};\n\t\t\tif (checkEventMessage(e)) {\n\t\t\t\tvideoValues = e.data.split(':');\n\t\t\t\twap_tms.custom.video_duration = videoValues[2];\n\t\t\t\tconst hit = {};\n\t\t\t\thit.eVar47 = hit.prop37 = 'html5-iframe';\n\t\t\t\thit.eVar44 = hit.prop34 = 'brightcove:' + videoValues[4];\n\t\t\t\thit.eVar45 = hit.prop35 = videoValues[4];\n\t\t\t\tswitchCase = videoValues[1];\n\t\t\t\tswitch (switchCase) {\n\t\t\t\t\tcase '25':\n\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\taction: 'video: 25% complete',\n\t\t\t\t\t\t\tlabel: videoValues[3]\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '50':\n\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\taction: 'video: 50% complete',\n\t\t\t\t\t\t\tlabel: videoValues[3]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '75':\n\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\taction: 'video: 75% complete',\n\t\t\t\t\t\t\tlabel: videoValues[3]\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '90':\n\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\taction: 'video: 90% complete',\n\t\t\t\t\t\t\tlabel: videoValues[3]\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '95':\n\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\taction: 'video: 95% complete',\n\t\t\t\t\t\t\tlabel: videoValues[3]\n\t\t\t\t\t\t});\n\t\t\t\t\tcase 'play':\n\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\taction: 'video: play',\n\t\t\t\t\t\t\tlabel: videoValues[3]\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\ttrackGaEvent({\n\t\t\t\t\t\t\thit,\n\t\t\t\t\t\t\tcategory: 'Videos',\n\t\t\t\t\t\t\taction: 'video: 100% complete',\n\t\t\t\t\t\t\tlabel: videoValues[3]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n})();\n/*************************New HTML5 Brightcove Tracking Ends**********************/",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL8fb2af26a52848a18e4169fb9d2a5813",name:"100 - [wapEvent consent:ready] - [ASMO-NA] Zeta Pixel - Intel Enterprise Landing Page",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page URL%",rightOperand:"intel.com/content/www/us/en/now/itheroes.html"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCa0281184412d4a5aa6f97f6b83e2abdf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbef2498dd8ae48beb81ad9697fd148bd",name:"100 - [wapEvent consent:ready] - [ASMO-NA] Zeta Pixel - Intel SMB Conversion",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){switch(!0){case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/hardware-shield.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/intel-active-management-technology.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/vpro/overview.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/vpro/vpro-evo-design.html"):case utag_data.wa_page_url?.includes("intel.com/content/www/us/en/architecture-and-technology/vpro/essentials.html"):return!0;default:return!1}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC38db9547d934479892aa8fe7394aabf0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1423ca5c8c6f448ea6cb2e672f82f9b2",name:"00 - [Library Loaded] - [RC]  - Top Global functions",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:0}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"  /**\n   *\n   * @param {string} name The cookie name\n   * @returns The cookie value or null if cookie doesn't exist\n   */\n\n  \n  wap_tms.custom.getCookie = function (name) {\n    var value = null;\n    var decodedCookie = decodeURIComponent(document.cookie);\n    var ca = decodedCookie.split(';');\n    name += '=';\n    for (var i = 0; i < ca.length; ++i) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1);\n      }\n      if (c.indexOf(name) === 0) {\n        value = c.substring(name.length, c.length);\n      }\n    }\n    return value;\n  };\n\n\n  /**\n   * Setup an interval fro trying to execute a callback when a condition matches\n   * @param {object} params An object containg the configuration params:\n   *    {function} when            => a function that returns True when condition matches to trigger callback\n   *    {function} callback        => callback function to execute when condition matches\n   *    {function} [ifNoMoreTries] => function to trigger when no more tries available and conditional didn't match\n   *    {int}      [tries]         => setup how many tries it will do before stop interval (default 20)\n   *    {int}      [time]          => interval time in miliseconds (default 250ms)\n   */\n\n  wap_tms.custom.executeCallbackWhen = function (params) {\n    try {\n      if (params.when() === true) {\n        params.callback();\n        return;\n      }\n      var tries = params.tries || 20;\n      var time = params.time || 250;\n      var executions = 1;\n      var interval = setInterval(function () {\n        if (params.when() === true) {\n          clearInterval(interval);\n          params.callback();\n        } else if (executions >= tries && tries > 0) {\n          clearInterval(interval);\n          if (params.ifNoMoreTries) {\n            params.ifNoMoreTries();\n          }\n        } else {\n          executions += 1;\n        }\n      }, time);\n    } catch (e) {\n    }\n    return interval;\n  };\n\n\n  /**\n   * Create a <style> tag containg the styles in parameters\n   * @param {string} selector      CSS selector\n   * @param {object} styles        CSS style to apply\n   * @param {string} [id] The id for the <style> tag. It could help to remove it later\n   */\n  wap_tms.custom.addStyleTag = function (selector, styles, id) {\n    var stylesStr = styles.join(';');\n    if (id) {\n      document.head.insertAdjacentHTML('beforeend', '<style id=\"' + id + '\">' + selector + '{' + stylesStr + '}' + '</style>');\n    } else {\n      document.head.insertAdjacentHTML('beforeend', '<style>' + selector + '{' + stylesStr + '}' + '</style>');\n    }\n  };\n\n\n/*\n* Cookies consent ip location country mapped to an UDO.\n*/\nif (typeof wap_tms !== 'undefined') {\n  utag_data.wa_geolocation_country = wap_tms?.custom?.ipDetection?.information?.country?.toLowerCase() || '';\n}\n\n\n// This configuration is used for cookies consent banner impresion sent by pixel and avoid 'www91.intel.undefined'\nwap_tms.domainLevels = 'com';\nif (/\\.intel\\./.test(location.hostname)) {\n    const domLvls = /.+\\.intel\\.(.+)/.exec(location.hostname)[1];\n    switch (domLvls) {\n    case 'co.jp':\n    case 'co.kr':\n    case 'co.uk':\n    case 'com.au':\n    case 'com.br':\n    case 'com.tr':\n    case 'com.tw':\n    case 'cn':\n    case 'de':\n    case 'es':\n    case 'fr':\n    case 'in':\n    case 'it':\n    case 'la':\n    case 'pl':\n    case 'ru':\n        wap_tms.domainLevels = domLvls;\n    }\n}  ",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RLf4c3b78f5b90484284162097f8b0d523",name:"100 -  [wapEvent consent:ready] - [ASMO-NA] Zeta Pixel - Intel SMB Landing Page",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page URL%",rightOperand:"intel.com/content/www/us/en/now/it-heroes-small-business.html"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"ad targeting"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC66db21e949d748b9bc2b795b2b93b81a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2485e96992a54ae4a9cacbc0f693d0b8",name:"80 - ['wapEvent': 'consent:ready'] - [RC] - Avaamo analytics",events:[{
modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return wap_tms.consent.isCategoryEnabled("functional")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RCa3f306e80be540fbab1985307a67d3e4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4fb4ac0763704805825176a4a0710917",name:"100 -  [wapEvent consent:ready] - Mobilefuse Pixel - Claritas",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"wapEvent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Page URL%",rightOperand:"intel.com/content/www/us/en/partner-alliance/membership/benefits/cloud-competencies.html"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail%",rightOperand:"consent:ready"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%consentCategoriesEnabled%",rightOperand:"analytics"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/content/dam/www/global/wap/tms/profile-aem-global/prod/fc1241264adf/215af9cdf35e/0bc72b5a6c59/RC53a1c56efc15496d91b2ca2cd0eb3970-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}function n(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})})),t}function a(e){var t={exports:{}};return e(t,t.exports),t.exports}function o(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function r(e){return Boolean(e&&void 0!==e.length)}function i(){}function s(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var a;try{a=n(e._value)}catch(e){return void d(t.promise,e)}u(t.promise,a)}else(1===e._state?u:d)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void p(e);if("function"==typeof n)return void g(s(n,t),e)}e._state=1,e._value=t,p(e)}catch(t){d(e,t)}}function d(e,t){e._state=2,e._value=t,p(e)}function p(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function m(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(e){if(n)return;n=!0,d(t,e)}}function f(e){return!0===Fe(e)&&"[object Object]"===Object.prototype.toString.call(e)}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function w(e){return e.substr(0,e.indexOf("["))}function v(e,t,n){if(e.length&&Ge(t)){var a=e[0];if(1!==e.length){var o=e.slice(1);if(!h(a))return v(o,t[a],n);var r=t[a=w(a)];Array.isArray(r)&&r.forEach((function(e){return v(o,e,n)}))}else t.hasOwnProperty(a)&&"string"==typeof t[a]&&(t[a]=n(t[a]))}}if(window.atob){var b=document,y=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,x=t()?Object.assign:function(t){for(var n,a,o=e(t),r=1;r<arguments.length;r++){for(var i in n=Object(arguments[r]))k.call(n,i)&&(o[i]=n[i]);if(y){a=y(n);for(var s=0;s<a.length;s++)C.call(n,a[s])&&(o[a[s]]=n[a[s]])}}return o},S=x,E=window,j=function(e,t,n,a){var o,r=Boolean(t&&Array.isArray(n)),i=Boolean(r&&e),s=document.createElement("a");if(r){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=E.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var u=function(){if(null!=o)return o;if(i){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),o=s.protocol+"//"+e}else o="";return o},d=function(e){return i&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},p={getTurbineHost:u,decorateWithDynamicHost:d,get isDynamicEnforced(){return r}};return E&&a.onDebugChanged((function(e){e?E.dynamicHostResolver=p:delete E.dynamicHostResolver})),p},T=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},O="debug",P=function(e,t){var n=function(){return"true"===e.getItem(O)},a=function(t){e.setItem(O,t)},o=[],r=function(e){o.push(e)};return t.outputEnabled=n(),{onDebugChanged:r,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(a(e),t.outputEnabled=e,o.forEach((function(t){t(e)})))}}},I="Module did not export a function.",A=function(e,t,n){return function(a,o,r){r=r||[];var i=e.getModuleExports(a.modulePath);if("function"!=typeof i)throw new Error(I);var s=e.getModuleDefinition(a.modulePath),c=a.settings||{};!a.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,a.modulePath),a.hasTransformedFilePaths=!0);var l=t(c,o);return i.bind(null,l).apply(null,r)}},D=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},N={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},V="\ud83d\ude80",R=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":V,q=!1,L=function(e){if(q&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(R),e!==N.DEBUG||window.console[e]||(e=N.INFO),window.console[e].apply(window.console,t)}},M=L.bind(null,N.LOG),F=L.bind(null,N.INFO),G=L.bind(null,N.DEBUG),H=L.bind(null,N.WARN),$=L.bind(null,N.ERROR),B=function(){var e=q;q=!0,L.apply(null,Array.prototype.concat(N.WARN,Array.prototype.slice.call(arguments))),e||(q=!1)},U={log:M,info:F,debug:G,warn:H,error:$,deprecation:B,get outputEnabled(){return q},set outputEnabled(e){q=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:M.bind(null,t),info:F.bind(null,t),debug:G.bind(null,t),warn:H.bind(null,t),error:$.bind(null,t)}}},W="com.adobe.reactor.",z=function(e,t){var n=W+(t||"");return{getItem:function(t){try{return E[e].getItem(n+t)}catch(e){return null}},setItem:function(t,a){try{return E[e].setItem(n+t,a),!0}catch(e){return!1}}}},Q="dataElements.",J=z("sessionStorage",Q),K=z("localStorage",Q),X={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},Y={},Z=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ee={setValue:function(e,t,n){var a;switch(t){case X.PAGEVIEW:return void(Y[e]=n);case X.SESSION:return void((a=Z(n))&&J.setItem(e,a));case X.VISITOR:return void((a=Z(n))&&K.setItem(e,a))}},getValue:function(e,t){var n;switch(t){case X.PAGEVIEW:return Y.hasOwnProperty(e)?Y[e]:null;case X.SESSION:return null===(n=J.getItem(e))?n:JSON.parse(n);case X.VISITOR:return null===(n=K.getItem(e))?n:JSON.parse(n)}}},te=function(e,t,n,a){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(a?"\n"+a:"")},ne=function(e,t,n,a,o){return function(r,i){var s=t(r);if(!s)return a?"":void 0;var c,l,u=s.storageDuration;try{c=e.getModuleExports(s.modulePath),l=e.getModuleDefinition(s.modulePath)}catch(e){return void U.error(te(s,r,e.message,e.stack))}if("function"==typeof c){var d,p=s.settings||{};!s.hasTransformedFilePaths&&l.filePaths&&(o(p,l.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{d=c(n(p,i),i)}catch(e){return void U.error(te(s,r,e.message,e.stack))}return u&&(null!=d?ee.setValue(r,u,d):d=ee.getValue(r,u)),null==d&&null!=s.defaultValue&&(d=s.defaultValue),"string"==typeof d&&(s.cleanText&&(d=D(d)),s.forceLowerCase&&(d=d.toLowerCase())),d}U.error(te(s,r,"Module did not export a function."))}},ae={text:function(e){return e.textContent},cleanText:function(e){return D(e.textContent)}},oe=function(e,t,n){for(var a,o=e,r=0,i=t.length;r<i;r++){if(null==o)return;var s=t[r];if(n&&"@"===s.charAt(0)){var c=s.slice(1);o=ae[c](o)}else if(o.getAttribute&&(a=s.match(/^getAttribute\((.+)\)$/))){var l=a[1];o=o.getAttribute(l)}else o=o[s]}return o},re=function(e,t,n){return function(a,o){var r;if(t(a))r=n(a,o);else{var i=a.split("."),s=i.shift();"this"===s?o&&(r=oe(o.element,i,!0)):"event"===s?o&&(r=oe(o,i)):"target"===s?o&&(r=oe(o.target,i)):r=oe(e[s],i)}return r}},ie=function(e,t){return function(n){var a=n.split(".")[0];return Boolean(t(n)||"this"===a||"event"===a||"target"===a||e.hasOwnProperty(a))}},se=function(e,t,n){var a={exports:{}};return e.call(a.exports,a,a.exports,t,n),a.exports},ce=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{a(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");U.error(t)}}))},a=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=se(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,a,o,r){var i={definition:n,extensionName:a,require:o,turbine:r};i.require=o,e[t]=i},hydrateCache:n,getModuleExports:a,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},le=!1,ue=function(e){return function(t,n){var a=e._monitors;a&&(le||(U.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),le=!0),a.forEach((function(e){e[t]&&e[t](n)})))}},de=function(e,t,n){var a,o,r,i,s=[],c=function(a,o,r){if(!e(o))return a;s.push(o);var i=t(o,r);return s.pop(),null==i&&n?"":i};return a=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},o=function(e,t){for(var n={},a=Object.keys(e),o=0;o<a.length;o++){var r=a[o],s=e[r];n[r]=i(s,t)}return n},r=function(e,t){for(var n=[],a=0,o=e.length;a<o;a++)n.push(i(e[a],t));return n},i=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?r(e,t):"object"==typeof e&&null!==e?o(e,t):e},function(e,t){return s.length>10?(U.error("Data element circular reference detected: "+s.join(" -> ")),e):i(e,t)}},pe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},me="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ge=setTimeout;c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(i);return l(this,new m(e,t,n)),n},c.prototype.finally=o,c.all=function(e){return new c((function(t,n){function a(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(t){a(e,t)}),n)}o[e]=r,0==--i&&t(o)}catch(e){n(e)}}if(!r(e))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);for(var i=o.length,s=0;s<o.length;s++)a(s,o[s])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var a=0,o=e.length;a<o;a++)c.resolve(e[a]).then(t,n)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){ge(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var fe=n(Object.freeze({__proto__:null,default:c})),_e="undefined"!=typeof window&&window.Promise||void 0!==me&&me.Promise||fe.default||fe,he=function(e,t,n){return function(a,o,r,i){return i.then((function(){var i,s=a.delayNext;return new _e((function(t,n){var o=e(a,r,[r]);if(!s)return t();var c=a.timeout,l=new _e((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));_e.race([o,l]).then(t,n)})).catch((function(e){return clearTimeout(i),e=t(e),n(a,o,e),_e.reject(e)})).then((function(){clearTimeout(i)}))}))}},we=function(e,t,n,a,o){return function(r,i,s,c){return c.then((function(){var c;return new _e((function(t,n){var a=e(r,s,[s]),o=r.timeout,i=new _e((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+o/1e3+" seconds to complete. "))}),o)}));_e.race([a,i]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),a(r,i,e),_e.reject(e)})).then((function(e){if(clearTimeout(c),!n(r,e))return o(r,i),_e.reject()}))}))}},ve=_e.resolve(),be=function(e,t,n){return function(a,o){return a.conditions&&a.conditions.forEach((function(t){ve=e(t,a,o,ve)})),a.actions&&a.actions.forEach((function(e){ve=t(e,a,o,ve)})),ve=(ve=ve.then((function(){n(a)}))).catch((function(){}))}},ye=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},ke=function(e,t,n,a){return function(o,r){var i;if(o.conditions)for(var s=0;s<o.conditions.length;s++){i=o.conditions[s];try{var c=e(i,r,[r]);if(ye(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return n(i,o),!1}catch(e){return a(i,o,e),!1}}return!0}},Ce=function(e,t){return function(n,a){e(n,a)&&t(n,a)}},xe=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},Se=function(e){return function(t){var n=t.rule,a=t.event,o=e.getModuleDefinition(a.modulePath).name;return{$type:e.getModuleExtensionName(a.modulePath)+"."+o,$rule:{id:n.id,name:n.name}}}},Ee=function(e,t,n,a,o,r){return function(i,s){var c=s.rule,l=s.event;l.settings=l.settings||{};try{var u=o(s);t(l,null,[function(t){var a=n(u,t);i((function(){e(a,c)}))}])}catch(e){r.error(a(l,c,e))}}},je=function(e,t,n,a){return function(o,r,i){var s=t(o);n.error(e(s,r.name,i)),a("ruleActionFailed",{rule:r,action:o})}},Te=function(e,t,n,a){return function(o,r,i){var s=t(o);n.error(e(s,r.name,i)),a("ruleConditionFailed",{rule:r,condition:o})}},Oe=function(e,t,n){return function(a,o){var r=e(a);t.log('Condition "'+r+'" for rule "'+o.name+'" was not met.'),n("ruleConditionFailed",{rule:o,condition:a})}},Pe=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},Ie=function(e,t,n){return function(a,o){var r;if(a.actions)for(var i=0;i<a.actions.length;i++){r=a.actions[i];try{e(r,o,[o])}catch(e){return void t(r,a,e)}}n(a)}},Ae=function(e,t,n,a){return function(o,r){a("ruleTriggered",{rule:r}),e?n(r,o):t(r,o)}},De=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Ne=function(e,t){return t&&!e.negate||!t&&e.negate},Ve=[],Re=!1,qe=function(e){Re?e():Ve.push(e)},Le=function(e,t,n){e(t).forEach((function(e){n(qe,e)})),Re=!0,Ve.forEach((function(e){e()})),Ve=[]},Me=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Fe=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Ge=function(e){var t,n;return!1!==f(e)&&("function"==typeof(t=e.constructor)&&(!1!==f(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},He=function(e,t){return Ge(t=t||{})?t=S({},t,e):S(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return U.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},$e=function(e,t){return function(n,a){var o=e[n];if(o){var r=o.modules;if(r)for(var i=Object.keys(r),s=0;s<i.length;s++){var c=i[s],l=r[c];if(l.shared&&l.name===a)return t.getModuleExports(c)}}}},Be=function(e,t){return function(){return t?e(t):{}}},Ue=function(e,t,n){return function(a){if(n){var o=a.split(".");o.splice(o.length-1||1,0,"min"),a=o.join(".")}return e(t)+a}},We=".js",ze=function(e){return e.substr(0,e.lastIndexOf("/"))},Qe=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},Je=function(e,t){Qe(t,We)||(t+=We);var n=t.split("/"),a=ze(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?a.length&&a.pop():a.push(e))})),a.join("/")},Ke=a((function(e){!function(t){if(e.exports=t(),!!0){var n=window.Cookies,a=window.Cookies=t();a.noConflict=function(){return window.Cookies=n,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(a){function o(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(e){}n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in r)r[c]&&(s+="; "+c,!0!==r[c]&&(s+="="+r[c].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],i=0;i<r.length;i++){var s=r[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(a.read||a)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=r,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,n){r(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}return n((function(){}))}))})),Xe={get:Ke.get,set:Ke.set,remove:Ke.remove},Ye=function(e,t){return new _e((function(n,a){t.onload=function(){n(t)},t.onerror=function(){a(new Error("Failed to load script "+e))}}))},Ze=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Ye(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},et=function(e,t,n,a){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var r=/\+/g;e=e.split(t);var i=1e3;a&&"number"==typeof a.maxKeys&&(i=a.maxKeys);var s=e.length;i>0&&s>i&&(s=i);for(var c=0;c<s;++c){var l,u,d,p,m=e[c].replace(r,"%20"),g=m.indexOf(n);g>=0?(l=m.substr(0,g),u=m.substr(g+1)):(l=m,u=""),d=decodeURIComponent(l),p=decodeURIComponent(u),_(o,d)?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o},tt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},nt=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var o=encodeURIComponent(tt(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return o+encodeURIComponent(tt(e))})).join(t):o+encodeURIComponent(tt(e[a]))})).join(t):a?encodeURIComponent(tt(a))+n+encodeURIComponent(tt(e)):""},at=a((function(e,t){t.decode=t.parse=et,t.encode=t.stringify=nt})),ot="@adobe/reactor-",rt={cookie:Xe,document:b,"load-script":Ze,"object-assign":S,promise:_e,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),at.parse(e)},stringify:function(e){return at.stringify(e)}},window:E},it=function(e){return function(t){if(0===t.indexOf(ot)){var n=t.substr(ot.length),a=rt[n];if(a)return a}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},st=function(e,t,n,a,o,r,i){var s=e.extensions,c=e.buildInfo,l=e.environment,u=e.property.settings;if(s){var d=$e(s,t);Object.keys(s).forEach((function(p){var m=s[p],g=m.settings;Array.isArray(m.filePaths)&&(g=r(g,m.filePaths));var f=Be(a,g);if(m.modules){var _=U.createPrefixedLogger(m.displayName),h=Ue(i,m.hostedLibFilesBaseUrl,c.minified),w={buildInfo:c,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:o,getExtensionSettings:f,getHostedLibFileUrl:h,getSharedModule:d,logger:_,propertySettings:u,replaceTokens:a,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(m.modules).forEach((function(e){var n=m.modules[e],a=it((function(n){var a=Je(e,n);return t.getModuleExports(a)}));t.registerModule(e,n,p,a,w)}))}})),t.hydrateCache()}return t},ct=function(e,t,n,a,o){var r=U.createPrefixedLogger("Custom Script");e.track=function(e){U.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=r,e.notify=function(e,t){switch(U.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:r.info(e);break;case 4:r.warn(e);break;case 5:r.error(e);break;default:r.log(e)}},e.getVar=a,e.setVar=o,e.setCookie=function(e,t,n){var a="",o={};n&&(a=", { expires: "+n+" }",o.expires=n);var r='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+a+").";U.deprecation(r),Xe.set(e,t,o)},e.readCookie=function(e){return U.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),Xe.get(e)},e.removeCookie=function(e){U.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),Xe.remove(e)},e.cookie=Xe,e.pageBottom=function(){},e.setDebug=n;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(U.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},lt=function(e,t){return function(n,a,o){return e&&Ge(n)&&Object.keys(n).length&&Array.isArray(a)&&a.length?(a.forEach((function(e){Boolean(null!=o&&/^core\/.*actions.*\/customCode\.js$/.test(o))&&"source"===e&&!n.isExternal||v(e.split("."),n,t)})),n):n}},ut=window._satellite;if(ut&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var dt=ut.container;delete ut.container;var pt=S({},dt.buildInfo);Object.defineProperty(pt,"environment",{get:function(){return U.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),dt.environment.stage}}),dt.buildInfo=pt;var mt,gt=P(z("localStorage"),U),ft="";b.currentScript&&b.currentScript.getAttribute("src")&&(ft=b.currentScript.getAttribute("src"));try{mt=j(ft,Boolean(dt.company.dynamicCdnEnabled),dt.company.cdnAllowList,gt)}catch(e){throw U.warn("Please review the following error:"),e}var _t,ht=lt(mt.isDynamicEnforced,mt.decorateWithDynamicHost),wt=ce(),vt=dt.property.settings.undefinedVarsReturnEmpty,bt=dt.property.settings.ruleComponentSequencingEnabled,yt=dt.dataElements||{},kt=function(e){return yt[e]},Ct=function(){return _t.apply(null,arguments)},xt=ne(wt,kt,Ct,vt,ht),St={},Et=pe(St),jt=ie(St,kt),Tt=re(St,kt,xt);_t=de(jt,Tt,vt),ct(ut,dt,gt.setDebugEnabled,Tt,Et),st(dt,wt,gt,_t,xt,ht,mt.decorateWithDynamicHost);var Ot=ue(ut),Pt=A(wt,_t,ht),It=xe(wt),At=Oe(It,U,Ot),Dt=Te(De,It,U,Ot),Nt=je(De,It,U,Ot),Vt=Pe(U,Ot),Rt=Ee(Ae(bt,Ce(ke(Pt,Ne,At,Dt),Ie(Pt,Nt,Vt)),be(we(Pt,Me,Ne,Dt,At),he(Pt,Me,Nt),Vt),Ot),Pt,He,De,Se(wt),U);Le(T,dt.rules||[],Rt)}return ut}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();